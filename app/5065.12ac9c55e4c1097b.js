"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5065],{582(u,_,p){p.d(_,{m:()=>g});var e=p(3664),h=p(2200),r=p(2615);function m(o,l){if(1&o){const a=e.RV6();r.qSk(),e.j41(0,"g")(1,"circle",4),e.bIt("click",function(){const t=r.eBV(a).$implicit,i=e.XpG();return r.Njj(i.handleSamplePointClick(t.id))}),e.k0s(),e.j41(2,"text",5),e.EFF(3),e.k0s()()}if(2&o){const a=l.$implicit,n=e.XpG();e.R7$(),e.AVh("selected",n.isSamplePointSelected(a.id)),e.BMQ("cx",a.x)("cy",a.y),e.R7$(),e.BMQ("x",a.x)("y",a.y+4),e.R7$(),e.SpI(" ",a.label," ")}}let g=(()=>{var o;class l{set selectedSamplePoints(n){this._selectedSamplePoints=n||[]}get selectedSamplePoints(){return this._selectedSamplePoints}constructor(){this.mapImagePath="",this.samplePoints=[],this._selectedSamplePoints=[],this.samplePointSelected=new e.bkB,this.mapWidth=800,this.mapHeight=600}ngOnInit(){}handleSamplePointClick(n){const t=this.samplePoints.find(i=>i.id===n);t&&this.samplePointSelected.emit(t)}isSamplePointSelected(n){return this._selectedSamplePoints.includes(n)}static#e=o=()=>(this.\u0275fac=function(t){return new(t||l)},this.\u0275cmp=e.VBU({type:l,selectors:[["app-canopy-interactive-map"]],inputs:{mapImagePath:"mapImagePath",samplePoints:"samplePoints",selectedSamplePoints:"selectedSamplePoints"},outputs:{samplePointSelected:"samplePointSelected"},decls:4,vars:3,consts:[[1,"map-container"],["alt","Canopy Map",1,"base-map",3,"src"],["preserveAspectRatio","xMidYMid meet",1,"zone-overlay"],[4,"ngFor","ngForOf"],["r","8",1,"sample-point",3,"click"],["text-anchor","middle","dominant-baseline","middle",1,"sample-point-label"]],template:function(t,i){1&t&&(e.j41(0,"div",0),e.nrm(1,"img",1),r.qSk(),e.j41(2,"svg",2),e.DNE(3,m,4,7,"g",3),e.k0s()()),2&t&&(e.R7$(),e.Y8G("src",i.mapImagePath,e.B4B),e.R7$(),e.BMQ("viewBox","0 0 "+i.mapWidth+" "+i.mapHeight),e.R7$(),e.Y8G("ngForOf",i.samplePoints))},dependencies:[h.MD,h.Sq],styles:[".map-container[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;height:auto}.base-map[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.zone-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.sample-point[_ngcontent-%COMP%]{fill:#ff8c00cc;stroke:#ff8c00;stroke-width:2;cursor:pointer;transition:all .3s ease;pointer-events:all}.sample-point[_ngcontent-%COMP%]:hover{fill:#ff8c00;stroke-width:3;r:10}.sample-point.selected[_ngcontent-%COMP%]{fill:#28a745cc;stroke:#28a745;stroke-width:3}.sample-point-label[_ngcontent-%COMP%]{fill:#333;font-size:12px;font-weight:700;pointer-events:none;text-shadow:1px 1px 2px rgba(255,255,255,.8)}"]}))}return o(),l})()},3010(u,_,p){p.d(_,{f:()=>l});var e=p(3664),h=p(2200),r=p(2615);function m(a,n){if(1&a){const t=e.RV6();r.qSk(),e.j41(0,"polygon",5),e.bIt("click",function(){const s=r.eBV(t).$implicit,c=e.XpG();return r.Njj(c.handleZoneClick(s))}),e.k0s()}if(2&a){const t=n.$implicit,i=e.XpG();e.AVh("selected",t.selected),e.BMQ("points",i.formatPoints(t.points))}}function g(a,n){if(1&a&&(r.qSk(),e.j41(0,"text",9),e.EFF(1),e.k0s()),2&a){const t=e.XpG().$implicit;e.BMQ("x",t.x)("y",t.y-12),e.R7$(),e.SpI(" ",t.label," ")}}function o(a,n){if(1&a){const t=e.RV6();r.qSk(),e.j41(0,"g",6)(1,"circle",7),e.bIt("click",function(){const s=r.eBV(t).$implicit,c=e.XpG();return r.Njj(c.handleSamplePointClick(s))}),e.k0s(),e.DNE(2,g,2,3,"text",8),e.k0s()}if(2&a){const t=n.$implicit,i=e.XpG();e.R7$(),e.AVh("selected",i.isSamplePointSelected(t)),e.BMQ("cx",t.x)("cy",t.y),e.R7$(),e.Y8G("ngIf",t.label)}}let l=(()=>{var a;class n{set selectedZones(i){this._selectedZones=i||[],this.zones&&this.zones.length>0&&this.zones.forEach(s=>{s.selected=this._selectedZones.includes(s.id)})}get selectedZones(){return this._selectedZones}constructor(){this.mapImagePath="",this.zones=[],this.samplePoints=[],this.selectedSamplePoints=[],this._selectedZones=[],this.zoneSelected=new e.bkB,this.samplePointSelected=new e.bkB,this.mapWidth=800,this.mapHeight=600}ngOnInit(){this._selectedZones&&this._selectedZones.length>0&&this.zones.forEach(i=>{i.selected=this._selectedZones.includes(i.id)})}formatPoints(i){return i.map(s=>`${s.x},${s.y}`).join(" ")}calculateCenter(i){const s=i.reduce((c,d)=>({x:c.x+d.x,y:c.y+d.y}),{x:0,y:0});return{x:s.x/i.length,y:s.y/i.length}}getLabelPosition(i){const s=this.calculateCenter(i.points);return"zone1"===i.id?{x:s.x-50,y:s.y-50}:"zone2"===i.id?{x:s.x+50,y:s.y-50}:"zone3"===i.id?{x:s.x-50,y:s.y+50}:"zone4"===i.id?{x:s.x+50,y:s.y+50}:"north"===i.id?{x:s.x,y:s.y-20}:"south"===i.id?{x:s.x,y:s.y+20}:"east"===i.id?{x:s.x+20,y:s.y}:"west"===i.id?{x:s.x-20,y:s.y}:"center"===i.id?{x:s.x,y:s.y}:s}handleZoneClick(i){this.zoneSelected.emit(i.id)}handleSamplePointClick(i){this.samplePointSelected.emit(i)}isSamplePointSelected(i){return!!this.selectedSamplePoints&&this.selectedSamplePoints.some(s=>s.id===i.id)}static#e=a=()=>(this.\u0275fac=function(s){return new(s||n)},this.\u0275cmp=e.VBU({type:n,selectors:[["app-grand-anse-interactive-map"]],inputs:{mapImagePath:"mapImagePath",zones:"zones",samplePoints:"samplePoints",selectedSamplePoints:"selectedSamplePoints",selectedZones:"selectedZones"},outputs:{zoneSelected:"zoneSelected",samplePointSelected:"samplePointSelected"},decls:5,vars:4,consts:[[1,"map-container"],["alt","Grand Anse Map",1,"base-map",3,"src"],["preserveAspectRatio","xMidYMid meet",1,"zone-overlay"],["class","zone-polygon",3,"selected","click",4,"ngFor","ngForOf"],["class","sample-point-group",4,"ngFor","ngForOf"],[1,"zone-polygon",3,"click"],[1,"sample-point-group"],["r","8",1,"sample-point",3,"click"],["class","sample-point-label","text-anchor","middle",4,"ngIf"],["text-anchor","middle",1,"sample-point-label"]],template:function(s,c){1&s&&(e.j41(0,"div",0),e.nrm(1,"img",1),r.qSk(),e.j41(2,"svg",2),e.DNE(3,m,1,3,"polygon",3)(4,o,3,5,"g",4),e.k0s()()),2&s&&(e.R7$(),e.Y8G("src",c.mapImagePath,e.B4B),e.R7$(),e.BMQ("viewBox","0 0 "+c.mapWidth+" "+c.mapHeight),e.R7$(),e.Y8G("ngForOf",c.zones),e.R7$(),e.Y8G("ngForOf",c.samplePoints))},dependencies:[h.MD,h.Sq,h.bT],styles:[".map-container[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;height:auto}.base-map[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.zone-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.zone-polygon[_ngcontent-%COMP%]{fill:#0080804d;stroke:teal;stroke-width:2;cursor:pointer;pointer-events:all;transition:all .3s ease}.zone-polygon[_ngcontent-%COMP%]:hover{fill:#00808080;stroke-width:3}.zone-polygon.selected[_ngcontent-%COMP%]{fill:#28a74580;stroke:#28a745;stroke-width:3}polygon[_ngcontent-%COMP%]{fill:#0080804d;stroke:teal;stroke-width:2;cursor:pointer;pointer-events:all;transition:all .3s ease}polygon[_ngcontent-%COMP%]:hover{fill:#00808080;stroke-width:3}polygon.selected[_ngcontent-%COMP%]{fill:#28a74580;stroke:#28a745;stroke-width:3}.zone-label[_ngcontent-%COMP%]{fill:#333;font-size:14px;font-weight:700;text-anchor:middle;dominant-baseline:middle;pointer-events:none;text-shadow:1px 1px 2px rgba(255,255,255,.8)}.zone-label.selected[_ngcontent-%COMP%]{fill:#155724;font-size:16px}.sample-point[_ngcontent-%COMP%]{fill:#ffc107cc;stroke:#ffc107;stroke-width:2;cursor:pointer;pointer-events:all;transition:all .3s ease}.sample-point[_ngcontent-%COMP%]:hover{fill:#ffc107;stroke-width:3;r:10}.sample-point.selected[_ngcontent-%COMP%]{fill:#dc3545cc;stroke:#dc3545;stroke-width:3}.sample-point-label[_ngcontent-%COMP%]{fill:#333;font-size:12px;font-weight:700;pointer-events:none;text-shadow:1px 1px 2px rgba(255,255,255,.8)}"]}))}return a(),n})()},4718(u,_,p){p.d(_,{h:()=>h});var e=p(3664);let h=(()=>{var r;class m{constructor(o,l){this.el=o,this.renderer=l,this.scale=1,this.lastScale=1,this.translateX=0,this.translateY=0,this.lastTranslateX=0,this.lastTranslateY=0,this.initialDistance=0,this.lastTouchX=0,this.lastTouchY=0,this.isPinching=!1,this.isPanning=!1,this.isMouseDragging=!1,this.lastMouseX=0,this.lastMouseY=0,this.renderer.setStyle(this.el.nativeElement,"transition","transform 0.1s ease-out"),this.renderer.setStyle(this.el.nativeElement,"transform-origin","center center"),this.renderer.setStyle(this.el.nativeElement,"cursor","grab")}onTouchStart(o){2===o.touches.length?(this.isPinching=!0,this.isPanning=!1,this.initialDistance=this.getDistance(o.touches[0],o.touches[1]),this.lastScale=this.scale,o.preventDefault()):1===o.touches.length&&this.scale>1&&(this.isPanning=!0,this.isPinching=!1,this.lastTouchX=o.touches[0].clientX,this.lastTouchY=o.touches[0].clientY,this.lastTranslateX=this.translateX,this.lastTranslateY=this.translateY,this.renderer.setStyle(this.el.nativeElement,"cursor","grabbing"),o.preventDefault())}onTouchMove(o){if(this.isPinching&&2===o.touches.length){const n=this.getDistance(o.touches[0],o.touches[1]);this.initialDistance>0&&(this.scale=Math.max(1,Math.min(5,this.lastScale*(n/this.initialDistance))),this.updateTransform()),o.preventDefault()}else if(this.isPanning&&1===o.touches.length&&this.scale>1){const a=o.touches[0].clientY-this.lastTouchY;this.translateX=this.lastTranslateX+(o.touches[0].clientX-this.lastTouchX),this.translateY=this.lastTranslateY+a,this.updateTransform(),o.preventDefault()}}onTouchEnd(o){o.touches.length<2&&(this.isPinching=!1,this.initialDistance=0),0===o.touches.length&&(this.isPanning=!1,this.renderer.setStyle(this.el.nativeElement,"cursor","grab"),1===this.scale&&(this.translateX=0,this.translateY=0,this.updateTransform()))}onDoubleClick(o){1===this.scale?this.scale=2.5:(this.scale=1,this.translateX=0,this.translateY=0),this.updateTransform(),o.preventDefault()}onWheel(o){o.preventDefault(),this.scale=Math.max(1,Math.min(5,this.scale*(o.deltaY<0?1.15:.87))),1===this.scale&&(this.translateX=0,this.translateY=0),this.updateTransform()}onMouseDown(o){this.scale>1&&(this.isMouseDragging=!0,this.lastMouseX=o.clientX,this.lastMouseY=o.clientY,this.lastTranslateX=this.translateX,this.lastTranslateY=this.translateY,this.renderer.setStyle(this.el.nativeElement,"cursor","grabbing"),o.preventDefault())}onMouseMove(o){if(this.isMouseDragging&&this.scale>1){const a=o.clientY-this.lastMouseY;this.translateX=this.lastTranslateX+(o.clientX-this.lastMouseX),this.translateY=this.lastTranslateY+a,this.updateTransform(),o.preventDefault()}}onMouseUp(){this.isMouseDragging&&(this.isMouseDragging=!1,this.renderer.setStyle(this.el.nativeElement,"cursor","grab"))}getDistance(o,l){const a=o.clientX-l.clientX,n=o.clientY-l.clientY;return Math.sqrt(a*a+n*n)}updateTransform(){this.renderer.setStyle(this.el.nativeElement,"transform",`scale(${this.scale}) translate(${this.translateX/this.scale}px, ${this.translateY/this.scale}px)`)}static#e=r=()=>(this.\u0275fac=function(l){return new(l||m)(e.rXU(e.aKT),e.rXU(e.sFG))},this.\u0275dir=e.FsC({type:m,selectors:[["","appPinchZoom",""]],hostBindings:function(l,a){1&l&&e.bIt("touchstart",function(t){return a.onTouchStart(t)})("touchmove",function(t){return a.onTouchMove(t)})("touchend",function(t){return a.onTouchEnd(t)})("dblclick",function(t){return a.onDoubleClick(t)})("wheel",function(t){return a.onWheel(t)})("mousedown",function(t){return a.onMouseDown(t)})("mousemove",function(t){return a.onMouseMove(t)},e.EBC)("mouseup",function(){return a.onMouseUp()},e.EBC)}}))}return r(),m})()},5676(u,_,p){p.d(_,{P:()=>a});var e=p(3664),h=p(2200),r=p(2615);function m(n,t){if(1&n){const i=e.RV6();r.qSk(),e.j41(0,"polygon",6),e.bIt("click",function(){const c=r.eBV(i).$implicit,d=e.XpG();return r.Njj(d.handleZoneClick(c))}),e.k0s()}if(2&n){const i=t.$implicit,s=e.XpG();e.AVh("selected",i.selected),e.BMQ("points",s.formatPoints(i.points))}}function g(n,t){if(1&n&&(r.qSk(),e.j41(0,"g")(1,"text",7),e.EFF(2),e.k0s()()),2&n){const i=t.$implicit,s=e.XpG();e.R7$(),e.AVh("selected",i.selected),e.BMQ("x",s.getLabelPosition(i).x)("y",s.getLabelPosition(i).y),e.R7$(),e.SpI(" ",i.name," ")}}function o(n,t){if(1&n&&(r.qSk(),e.j41(0,"text",11),e.EFF(1),e.k0s()),2&n){const i=e.XpG().$implicit;e.BMQ("x",i.x)("y",i.y-12),e.R7$(),e.SpI(" ",i.label," ")}}function l(n,t){if(1&n){const i=e.RV6();r.qSk(),e.j41(0,"g",8)(1,"circle",9),e.bIt("click",function(){const c=r.eBV(i).$implicit,d=e.XpG();return r.Njj(d.handleSamplePointClick(c))}),e.k0s(),e.DNE(2,o,2,3,"text",10),e.k0s()}if(2&n){const i=t.$implicit;e.R7$(),e.BMQ("cx",i.x)("cy",i.y),e.R7$(),e.Y8G("ngIf",i.label)}}let a=(()=>{var n;class t{set selectedZones(s){this._selectedZones=s||[],this.zones&&this.zones.length>0&&this.zones.forEach(c=>{c.selected=this._selectedZones.includes(c.id)})}get selectedZones(){return this._selectedZones}constructor(){this.mapImagePath="",this.zones=[],this.samplePoints=[],this._selectedZones=[],this.zoneSelected=new e.bkB,this.samplePointSelected=new e.bkB,this.mapWidth=800,this.mapHeight=600}ngOnInit(){this._selectedZones&&this._selectedZones.length>0&&this.zones.forEach(s=>{s.selected=this._selectedZones.includes(s.id)})}formatPoints(s){return s.map(c=>`${c.x},${c.y}`).join(" ")}calculateCenter(s){const c=s.reduce((d,f)=>({x:d.x+f.x,y:d.y+f.y}),{x:0,y:0});return{x:c.x/s.length,y:c.y/s.length}}getLabelPosition(s){const c=this.calculateCenter(s.points);return"zone1"===s.id?{x:c.x,y:c.y+33}:"zone2"===s.id?{x:c.x-15,y:c.y-30}:"zone4"===s.id?{x:c.x+5,y:c.y-13}:"zone5"===s.id?{x:c.x+10,y:c.y+5}:"zone6"===s.id?{x:c.x,y:c.y+10}:c}handleZoneClick(s){this.zoneSelected.emit(s.id)}handleSamplePointClick(s){this.samplePointSelected.emit(s)}static#e=n=()=>(this.\u0275fac=function(c){return new(c||t)},this.\u0275cmp=e.VBU({type:t,selectors:[["app-interactive-location-map"]],inputs:{mapImagePath:"mapImagePath",zones:"zones",samplePoints:"samplePoints",selectedZones:"selectedZones"},outputs:{zoneSelected:"zoneSelected",samplePointSelected:"samplePointSelected"},decls:6,vars:5,consts:[[1,"map-container"],["alt","Location Map",1,"base-map",3,"src"],["preserveAspectRatio","xMidYMid meet",1,"zone-overlay"],[3,"selected","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","sample-point-group",4,"ngFor","ngForOf"],[3,"click"],[1,"zone-label"],[1,"sample-point-group"],["r","8",1,"sample-point",3,"click"],["class","sample-point-label","text-anchor","middle",4,"ngIf"],["text-anchor","middle",1,"sample-point-label"]],template:function(c,d){1&c&&(e.j41(0,"div",0),e.nrm(1,"img",1),r.qSk(),e.j41(2,"svg",2),e.DNE(3,m,1,3,"polygon",3)(4,g,3,5,"g",4)(5,l,3,3,"g",5),e.k0s()()),2&c&&(e.R7$(),e.Y8G("src",d.mapImagePath,e.B4B),e.R7$(),e.BMQ("viewBox","0 0 "+d.mapWidth+" "+d.mapHeight),e.R7$(),e.Y8G("ngForOf",d.zones),e.R7$(),e.Y8G("ngForOf",d.zones),e.R7$(),e.Y8G("ngForOf",d.samplePoints))},dependencies:[h.MD,h.Sq,h.bT],styles:[".map-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1000px;margin:0 auto;overflow:hidden;border-radius:.5rem}.base-map[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain}.zone-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10}polygon[_ngcontent-%COMP%]{fill:#4fb3bf33;stroke:#2d8659cc;stroke-width:3;pointer-events:all;cursor:pointer;transition:all .2s ease}polygon.selected[_ngcontent-%COMP%]{fill:#4fb3bf80;stroke:#2d8659;stroke-width:4}polygon[_ngcontent-%COMP%]:hover{fill:#4fb3bf59}.zone-label[_ngcontent-%COMP%]{fill:#fff;stroke:#0d3d2fcc;stroke-width:3px;paint-order:stroke;font-size:20px;font-weight:600;text-anchor:middle;pointer-events:none;dominant-baseline:middle}.zone-label.selected[_ngcontent-%COMP%]{font-weight:700;font-size:22px;fill:#4fb3bf}.sample-point[_ngcontent-%COMP%]{fill:#ffffffe6;stroke:#e74c3c;stroke-width:2;pointer-events:all;cursor:pointer;transition:all .2s ease}.sample-point[_ngcontent-%COMP%]:hover{fill:#e74c3c;stroke:#c0392b;stroke-width:3;r:10}.sample-point-label[_ngcontent-%COMP%]{fill:#2c3e50;font-size:12px;font-weight:600;pointer-events:none;text-shadow:1px 1px 2px rgba(255,255,255,.8)}"]}))}return n(),t})()},8220(u,_,p){p.d(_,{x:()=>o});var e=p(3664),h=p(2200),r=p(2615);function m(l,a){if(1&l&&(r.qSk(),e.j41(0,"text",7),e.EFF(1),e.k0s()),2&l){const n=e.XpG().$implicit;e.BMQ("x",n.x+9)("y",n.y-6),e.R7$(),e.SpI(" ",n.label," ")}}function g(l,a){if(1&l){const n=e.RV6();r.qSk(),e.j41(0,"g",4)(1,"circle",5),e.bIt("click",function(){const i=r.eBV(n).$implicit,s=e.XpG();return r.Njj(s.handleSamplePointClick(i))}),e.k0s(),e.DNE(2,m,2,3,"text",6),e.k0s()}if(2&l){const n=a.$implicit,t=e.XpG();e.R7$(),e.AVh("selected",t.selectedSamplePoints.includes(n.id)),e.BMQ("cx",n.x)("cy",n.y),e.R7$(),e.Y8G("ngIf",n.label)}}let o=(()=>{var l;class a{constructor(){this.mapImagePath="",this.samplePoints=[],this.selectedSamplePoints=[],this.samplePointSelected=new e.bkB,this.mapWidth=800,this.mapHeight=600}ngOnInit(){}handleSamplePointClick(t){this.samplePointSelected.emit(t)}static#e=l=()=>(this.\u0275fac=function(i){return new(i||a)},this.\u0275cmp=e.VBU({type:a,selectors:[["app-caiman-interactive-map"]],inputs:{mapImagePath:"mapImagePath",samplePoints:"samplePoints",selectedSamplePoints:"selectedSamplePoints"},outputs:{samplePointSelected:"samplePointSelected"},decls:4,vars:3,consts:[[1,"map-container"],["alt","Caiman Map",1,"base-map",3,"src"],["preserveAspectRatio","xMidYMid meet",1,"zone-overlay"],["class","sample-point-group",4,"ngFor","ngForOf"],[1,"sample-point-group"],["r","8",1,"sample-point",3,"click"],["class","sample-point-label","text-anchor","start",4,"ngIf"],["text-anchor","start",1,"sample-point-label"]],template:function(i,s){1&i&&(e.j41(0,"div",0),e.nrm(1,"img",1),r.qSk(),e.j41(2,"svg",2),e.DNE(3,g,3,5,"g",3),e.k0s()()),2&i&&(e.R7$(),e.Y8G("src",s.mapImagePath,e.B4B),e.R7$(),e.BMQ("viewBox","0 0 "+s.mapWidth+" "+s.mapHeight),e.R7$(),e.Y8G("ngForOf",s.samplePoints))},dependencies:[h.MD,h.Sq,h.bT],styles:[".map-container[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;height:auto}.base-map[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.zone-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.sample-point[_ngcontent-%COMP%]{fill:#ffc107cc;stroke:#ffc107;stroke-width:2;cursor:pointer;transition:all .3s ease;pointer-events:all}.sample-point[_ngcontent-%COMP%]:hover{fill:#ffc107;stroke-width:3;r:10}.sample-point.selected[_ngcontent-%COMP%]{fill:#28a745cc;stroke:#28a745;stroke-width:3}.sample-point-label[_ngcontent-%COMP%]{fill:#fff;font-size:22px;font-weight:400;pointer-events:none}"]}))}return l(),a})()},8736(u,_,p){p.d(_,{k:()=>g});var e=p(3664),h=p(2200),r=p(2615);function m(o,l){if(1&o){const a=e.RV6();r.qSk(),e.j41(0,"polygon",4),e.bIt("click",function(){const t=r.eBV(a).$implicit,i=e.XpG();return r.Njj(i.handleZoneClick(t))}),e.k0s()}if(2&o){const a=l.$implicit,n=e.XpG();e.AVh("selected",a.selected),e.BMQ("points",n.formatPoints(a.points))}}let g=(()=>{var o;class l{set selectedZones(n){this._selectedZones=n||[],this.zones&&this.zones.length>0&&this.zones.forEach(t=>{t.selected=this._selectedZones.includes(t.id)})}get selectedZones(){return this._selectedZones}constructor(){this.mapImagePath="",this.zones=[],this._selectedZones=[],this.zoneSelected=new e.bkB,this.mapWidth=800,this.mapHeight=600}ngOnInit(){this._selectedZones&&this._selectedZones.length>0&&this.zones.forEach(n=>{n.selected=this._selectedZones.includes(n.id)})}formatPoints(n){return n.map(t=>`${t.x},${t.y}`).join(" ")}calculateCenter(n){const t=n.reduce((i,s)=>({x:i.x+s.x,y:i.y+s.y}),{x:0,y:0});return{x:t.x/n.length,y:t.y/n.length}}getLabelPosition(n){const t=this.calculateCenter(n.points);return"wetland1"===n.id?{x:t.x-40,y:t.y}:"wetland2"===n.id?{x:t.x+40,y:t.y}:"wetland3"===n.id?{x:t.x,y:t.y-40}:"buffer-zone"===n.id?{x:t.x,y:t.y+40}:t}handleZoneClick(n){this.zoneSelected.emit(n.id)}static#e=o=()=>(this.\u0275fac=function(t){return new(t||l)},this.\u0275cmp=e.VBU({type:l,selectors:[["app-petit-barbarons-interactive-map"]],inputs:{mapImagePath:"mapImagePath",zones:"zones",selectedZones:"selectedZones"},outputs:{zoneSelected:"zoneSelected"},decls:4,vars:3,consts:[[1,"map-container"],["alt","Petit Barbarons Map",1,"base-map",3,"src"],["preserveAspectRatio","xMidYMid meet",1,"zone-overlay"],[3,"selected","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,i){1&t&&(e.j41(0,"div",0),e.nrm(1,"img",1),r.qSk(),e.j41(2,"svg",2),e.DNE(3,m,1,3,"polygon",3),e.k0s()()),2&t&&(e.R7$(),e.Y8G("src",i.mapImagePath,e.B4B),e.R7$(),e.BMQ("viewBox","0 0 "+i.mapWidth+" "+i.mapHeight),e.R7$(),e.Y8G("ngForOf",i.zones))},dependencies:[h.MD,h.Sq],styles:[".map-container[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;height:auto}.base-map[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.zone-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}polygon[_ngcontent-%COMP%]{fill:#8b45134d;stroke:#8b4513;stroke-width:2;cursor:pointer;pointer-events:all;transition:all .3s ease}polygon[_ngcontent-%COMP%]:hover{fill:#8b451380;stroke-width:3}polygon.selected[_ngcontent-%COMP%]{fill:#28a74580;stroke:#28a745;stroke-width:3}.zone-label[_ngcontent-%COMP%]{fill:#333;font-size:14px;font-weight:700;text-anchor:middle;dominant-baseline:middle;pointer-events:none;text-shadow:1px 1px 2px rgba(255,255,255,.8)}.zone-label.selected[_ngcontent-%COMP%]{fill:#155724;font-size:16px}"]}))}return o(),l})()}}]);