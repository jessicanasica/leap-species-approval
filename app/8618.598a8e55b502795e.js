"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8618],{4670(C,p,i){i.d(p,{k:()=>g});var d=i(2615),_=i(3664);let g=(()=>{var m;class l{static#e=m=()=>(this.\u0275fac=function(u){return new(u||l)},this.\u0275mod=_.$C({type:l}),this.\u0275inj=d.G2t({}))}return m(),l})()},7314(C,p,i){i.d(p,{D:()=>g});var d=i(3664),_=i(6845);let g=(()=>{var m;class l{constructor(f){this.translationService=f}transform(f){return this.translationService.t(f)}static#e=m=()=>(this.\u0275fac=function(u){return new(u||l)(d.rXU(_.L,16))},this.\u0275pipe=d.EJ8({name:"t",type:l,pure:!1}))}return m(),l})()},8618(C,p,i){i.d(p,{RegisterPageModule:()=>L});var d=i(2200),_=i(4341),g=i(7343),m=i(8132),l=i(467),e=i(3664),f=i(3205),u=i(5921),O=i(7314);const M=()=>({standalone:!0});function b(r,a){if(1&r&&(e.j41(0,"div",29),e.nrm(1,"ion-icon",30),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&r){const P=e.XpG();e.R7$(3),e.JRh(P.levelNoticeText)}}function R(r,a){if(1&r&&(e.j41(0,"div",31),e.nrm(1,"ion-icon",32),e.EFF(2),e.k0s()),2&r){const P=e.XpG();e.R7$(2),e.SpI(" ",P.errorMessage," ")}}function v(r,a){if(1&r&&(e.j41(0,"div",33),e.nrm(1,"ion-icon",34),e.EFF(2),e.k0s()),2&r){const P=e.XpG();e.R7$(2),e.SpI(" ",P.successMessage," ")}}function w(r,a){1&r&&e.nrm(0,"ion-spinner",35)}function k(r,a){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Create Account")))}let I=(()=>{var r;class a{constructor(t,c){this.auth=t,this.router=c,this.formData={username:"",email:"",password:"",confirmPassword:"",level:1,organization:""},this.errorMessage="",this.successMessage="",this.isLoading=!1,this.showLevelNotice=!1,this.levelNoticeText="",this.showPassword=!1,this.showConfirmPassword=!1}ngOnInit(){}register(){var t=this;return(0,l.A)(function*(){if(t.errorMessage="",t.successMessage="",!(t.formData.username&&t.formData.email&&t.formData.password&&t.formData.confirmPassword))return void(t.errorMessage="Please fill in all required fields");if(!t.formData.level)return void(t.errorMessage="Please select an access level");t.isLoading=!0;const c=yield t.auth.register(t.formData);if(t.isLoading=!1,c.success){const n=t.formData.level;t.successMessage=2===n||3===n||4===n?"Account created! Admin approval email sent. You can login now with L1 access while approval is pending.":"Account created successfully! Redirecting to login...",t.formData={username:"",email:"",password:"",confirmPassword:"",level:1,organization:""},setTimeout(()=>{t.router.navigate(["/login"])},2===n||3===n||4===n?3e3:2e3)}else t.errorMessage=c.error||"Registration failed"})()}onLevelChange(){if(1===this.formData.level)this.showLevelNotice=!0,this.levelNoticeText="L1 access is granted immediately upon registration.";else if(2===this.formData.level||3===this.formData.level||4===this.formData.level){this.showLevelNotice=!0;let t="L2 - Conservation Partner";3===this.formData.level?t="L3 - Superuser":4===this.formData.level&&(t="L4 - Admin"),this.levelNoticeText=`${t} access requires admin approval. An email will be automatically sent to the admin. You can login with L1 access while approval is pending.`}else this.showLevelNotice=!1}goBack(){this.router.navigate(["/login"])}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}static#e=r=()=>(this.\u0275fac=function(c){return new(c||a)(e.rXU(f.N),e.rXU(u.Ix))},this.\u0275cmp=e.VBU({type:a,selectors:[["app-register"]],standalone:!1,decls:66,vars:89,consts:[[1,"register-bg",3,"fullscreen"],[1,"register-header"],[1,"header-top"],["name","chevron-back",1,"back-icon",3,"click"],[1,"register-form"],[1,"register-card"],[1,"form-title"],["lines","none",1,"input-item"],["labelPlacement","floating","type","text","name","username",3,"ngModelChange","ionInput","keyup.enter","label","ngModel","ngModelOptions","placeholder"],["labelPlacement","floating","type","email","name","email",3,"ngModelChange","keyup.enter","label","ngModel","ngModelOptions","placeholder"],["lines","none",1,"input-item","password-item"],["labelPlacement","floating","name","password",3,"ngModelChange","keyup.enter","label","type","ngModel","ngModelOptions","placeholder"],["fill","clear","slot","end",1,"password-toggle",3,"click"],[3,"name"],["labelPlacement","floating","name","confirmPassword",3,"ngModelChange","keyup.enter","label","type","ngModel","ngModelOptions","placeholder"],["labelPlacement","floating","name","level","interface","popover",3,"ngModelChange","ionChange","label","ngModel","ngModelOptions","placeholder"],["value","1"],["value","2"],["value","3"],["value","4"],["class","info-message",4,"ngIf"],["labelPlacement","floating","type","text","name","organization",3,"ngModelChange","keyup.enter","label","ngModel","ngModelOptions","placeholder"],["class","error-message",4,"ngIf"],["class","success-message",4,"ngIf"],["expand","block",1,"register-btn",3,"click","disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],[1,"back-to-login"],["fill","clear","size","small",3,"click"],[1,"info-message"],["name","information-circle"],[1,"error-message"],["name","alert-circle"],[1,"success-message"],["name","checkmark-circle"],["name","crescent"]],template:function(c,n){1&c&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-icon",3),e.bIt("click",function(){return n.goBack()}),e.k0s(),e.j41(4,"h1"),e.EFF(5),e.nI1(6,"t"),e.k0s()(),e.j41(7,"h2"),e.EFF(8),e.nI1(9,"t"),e.k0s()(),e.j41(10,"div",4)(11,"ion-card",5)(12,"ion-card-content")(13,"h3",6),e.EFF(14),e.nI1(15,"t"),e.k0s(),e.j41(16,"ion-item",7)(17,"ion-input",8),e.nI1(18,"t"),e.nI1(19,"t"),e.mxI("ngModelChange",function(o){return e.DH7(n.formData.username,o)||(n.formData.username=o),o}),e.bIt("ionInput",function(){return n.formData.username=(null==n.formData.username?null:n.formData.username.toLowerCase())||""})("keyup.enter",function(){return n.register()}),e.k0s()(),e.j41(20,"ion-item",7)(21,"ion-input",9),e.nI1(22,"t"),e.nI1(23,"t"),e.mxI("ngModelChange",function(o){return e.DH7(n.formData.email,o)||(n.formData.email=o),o}),e.bIt("keyup.enter",function(){return n.register()}),e.k0s()(),e.j41(24,"ion-item",10)(25,"ion-input",11),e.nI1(26,"t"),e.nI1(27,"t"),e.mxI("ngModelChange",function(o){return e.DH7(n.formData.password,o)||(n.formData.password=o),o}),e.bIt("keyup.enter",function(){return n.register()}),e.k0s(),e.j41(28,"ion-button",12),e.bIt("click",function(){return n.togglePasswordVisibility()}),e.nrm(29,"ion-icon",13),e.k0s()(),e.j41(30,"ion-item",10)(31,"ion-input",14),e.nI1(32,"t"),e.nI1(33,"t"),e.mxI("ngModelChange",function(o){return e.DH7(n.formData.confirmPassword,o)||(n.formData.confirmPassword=o),o}),e.bIt("keyup.enter",function(){return n.register()}),e.k0s(),e.j41(34,"ion-button",12),e.bIt("click",function(){return n.toggleConfirmPasswordVisibility()}),e.nrm(35,"ion-icon",13),e.k0s()(),e.j41(36,"ion-item",7)(37,"ion-select",15),e.nI1(38,"t"),e.nI1(39,"t"),e.mxI("ngModelChange",function(o){return e.DH7(n.formData.level,o)||(n.formData.level=o),o}),e.bIt("ionChange",function(){return n.onLevelChange()}),e.j41(40,"ion-select-option",16),e.EFF(41),e.nI1(42,"t"),e.k0s(),e.j41(43,"ion-select-option",17),e.EFF(44),e.nI1(45,"t"),e.k0s(),e.j41(46,"ion-select-option",18),e.EFF(47),e.nI1(48,"t"),e.k0s(),e.j41(49,"ion-select-option",19),e.EFF(50),e.nI1(51,"t"),e.k0s()()(),e.DNE(52,b,4,1,"div",20),e.j41(53,"ion-item",7)(54,"ion-input",21),e.nI1(55,"t"),e.nI1(56,"t"),e.mxI("ngModelChange",function(o){return e.DH7(n.formData.organization,o)||(n.formData.organization=o),o}),e.bIt("keyup.enter",function(){return n.register()}),e.k0s()(),e.DNE(57,R,3,1,"div",22)(58,v,3,1,"div",23),e.j41(59,"ion-button",24),e.bIt("click",function(){return n.register()}),e.DNE(60,w,1,0,"ion-spinner",25)(61,k,3,3,"span",26),e.k0s(),e.j41(62,"div",27)(63,"ion-button",28),e.bIt("click",function(){return n.goBack()}),e.EFF(64),e.nI1(65,"t"),e.k0s()()()()()()),2&c&&(e.Y8G("fullscreen",!0),e.R7$(5),e.JRh(e.bMT(6,43,"Create Account")),e.R7$(3),e.JRh(e.bMT(9,45,"Join WETSAPP Wetland Monitoring")),e.R7$(6),e.JRh(e.bMT(15,47,"Register New Account")),e.R7$(3),e.Y8G("label",e.bMT(18,49,"Username")),e.R50("ngModel",n.formData.username),e.Y8G("ngModelOptions",e.lJ4(83,M))("placeholder",e.bMT(19,51,"Choose a username")),e.R7$(4),e.Y8G("label",e.bMT(22,53,"Email")),e.R50("ngModel",n.formData.email),e.Y8G("ngModelOptions",e.lJ4(84,M))("placeholder",e.bMT(23,55,"Enter your email")),e.R7$(4),e.Y8G("label",e.bMT(26,57,"Password"))("type",n.showPassword?"text":"password"),e.R50("ngModel",n.formData.password),e.Y8G("ngModelOptions",e.lJ4(85,M))("placeholder",e.bMT(27,59,"Create a password (min 6 chars)")),e.R7$(4),e.Y8G("name",n.showPassword?"eye-off-outline":"eye-outline"),e.R7$(2),e.Y8G("label",e.bMT(32,61,"Confirm Password"))("type",n.showConfirmPassword?"text":"password"),e.R50("ngModel",n.formData.confirmPassword),e.Y8G("ngModelOptions",e.lJ4(86,M))("placeholder",e.bMT(33,63,"Confirm password")),e.R7$(4),e.Y8G("name",n.showConfirmPassword?"eye-off-outline":"eye-outline"),e.R7$(2),e.Y8G("label",e.bMT(38,65,"Access Level")),e.R50("ngModel",n.formData.level),e.Y8G("ngModelOptions",e.lJ4(87,M))("placeholder",e.bMT(39,67,"Select your access level")),e.R7$(4),e.JRh(e.bMT(42,69,"L1 - School Club")),e.R7$(3),e.JRh(e.bMT(45,71,"L2 - Conservation Partner")),e.R7$(3),e.JRh(e.bMT(48,73,"L3 - Superuser")),e.R7$(3),e.JRh(e.bMT(51,75,"L4 - Admin")),e.R7$(2),e.Y8G("ngIf",n.showLevelNotice),e.R7$(2),e.Y8G("label",e.bMT(55,77,"Organization (Optional)")),e.R50("ngModel",n.formData.organization),e.Y8G("ngModelOptions",e.lJ4(88,M))("placeholder",e.bMT(56,79,"School or organization name")),e.R7$(3),e.Y8G("ngIf",n.errorMessage),e.R7$(),e.Y8G("ngIf",n.successMessage),e.R7$(),e.Y8G("disabled",n.isLoading),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(),e.Y8G("ngIf",!n.isLoading),e.R7$(3),e.SpI(" ",e.bMT(65,81,"Back to Login")," "))},dependencies:[d.bT,_.BC,_.vS,g.Jm,g.b_,g.I9,g.W9,g.iq,g.$w,g.uz,g.Nm,g.Ip,g.w2,g.Je,g.Gw,O.D],styles:["@media (max-width: 399px){.register-header[_ngcontent-%COMP%]{padding:1rem .875rem .75rem}.register-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:.4rem}.register-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{font-size:1.3rem}.register-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem}.register-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.875rem}.register-form[_ngcontent-%COMP%]{padding:0 .25rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:.25rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:1rem .875rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{font-size:1.05rem;margin-bottom:.875rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{margin-bottom:.6rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{font-size:.875rem;--placeholder-font-size: .8rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]{height:2.75rem;font-size:1rem}}.register-bg[_ngcontent-%COMP%]{--background: #4fb3bf}.register-header[_ngcontent-%COMP%]{color:#fff;padding:2rem 1.5rem 1.5rem}.register-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.register-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{font-size:1.75rem;cursor:pointer;transition:transform .2s}.register-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]:hover{transform:translate(-4px)}.register-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700;margin:0}.register-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:300;margin:0;opacity:.95;text-align:center}.register-form[_ngcontent-%COMP%]{padding:0 1.25rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]{border-radius:1.5rem;box-shadow:0 8px 16px #0003}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:1.5rem 1.25rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{text-align:center;font-size:1.25rem;font-weight:600;color:#0d3d2f;margin:0 0 1.25rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{--background: #ffffff;--border-radius: .75rem;--padding-start: 1rem;--padding-end: 1rem;margin-bottom:1rem;border:1px solid #f5f0e8;border-radius:.75rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--padding-top: .5rem;--padding-bottom: .5rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item.password-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-end: 2.75rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item.password-item[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:5px;top:50%;transform:translateY(-50%);margin:0;height:2.25rem;width:2.25rem;--padding-start: 0;--padding-end: 0;z-index:10}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item.password-item[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:#6b7c7a;transition:color .2s ease}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item.password-item[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#4fb3bf}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#fef2f2;border:1px solid #fecaca;border-radius:.5rem;padding:.75rem;margin:1rem 0;color:#dc2626;font-size:.875rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#e8f5ed;border:1px solid #52a676;border-radius:.5rem;padding:.75rem;margin:1rem 0;color:#2d8659;font-size:.875rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#e8f2f1;border:1px solid #7fa9a3;border-radius:.5rem;padding:.75rem;margin:1rem 0;color:#1a3a1a;font-size:.875rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem;flex-shrink:0}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]{--background: #2d8659;--border-radius: .75rem;height:3rem;font-size:1.125rem;font-weight:600;margin-top:1rem;box-shadow:0 2px 8px #2d865940;transition:all .3s ease}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]:hover{--background: #236e48;box-shadow:0 4px 12px #2d865959}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .back-to-login[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .back-to-login[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: #6b7c7a;font-size:.875rem}"]}))}return r(),a})();var h=i(2615);const T=[{path:"",component:I}];let D=(()=>{var r;class a{static#e=r=()=>(this.\u0275fac=function(c){return new(c||a)},this.\u0275mod=e.$C({type:a}),this.\u0275inj=h.G2t({imports:[m.iI.forChild(T),m.iI]}))}return r(),a})();var y=i(4670);let L=(()=>{var r;class a{static#e=r=()=>(this.\u0275fac=function(c){return new(c||a)},this.\u0275mod=e.$C({type:a}),this.\u0275inj=h.G2t({imports:[d.MD,_.YN,g.bv,D,y.k]}))}return r(),a})()}}]);