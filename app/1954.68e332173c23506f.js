"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1954],{1954($e,T,p){p.d(T,{LocationRestorationPageModule:()=>Fe});var b=p(2200),C=p(4341),d=p(7343),S=p(8132),_=p(467),v=p(7762),e=p(3664),c=p(2615),F=p(5921),$=p(5032),E=p(6358),Z=p(7643),q=p(3205),D=p(5029),X=p(5010),Y=p(7863),B=p(6845),V=p(4718),j=p(5676),R=p(8220),I=p(582),k=p(3010),w=p(8736),A=p(7314);const y=a=>[a],f=()=>[];function U(a,s){if(1&a&&(e.j41(0,"span",35),e.nrm(1,"ion-icon",36),e.EFF(2),e.nI1(3,"t"),e.k0s()),2&a){const n=e.XpG().$implicit;e.R7$(2),e.Lme(" ",n.speciesCount," ",e.bMT(3,2,"species")," ")}}function J(a,s){if(1&a){const n=e.RV6();e.j41(0,"ion-item",25)(1,"ion-radio",26),e.bIt("click",function(o){const i=c.eBV(n).$implicit,r=e.XpG(2);return c.Njj(r.toggleProjectSelection(i.project_key,o))}),e.k0s(),e.j41(2,"ion-label")(3,"h3")(4,"strong"),e.EFF(5),e.k0s()(),e.j41(6,"p",27),e.nrm(7,"ion-icon",28),e.j41(8,"span"),e.EFF(9),e.nI1(10,"t"),e.nI1(11,"date"),e.k0s(),e.j41(12,"span",29),e.EFF(13,"\u2022"),e.k0s(),e.j41(14,"span"),e.EFF(15),e.nI1(16,"t"),e.nI1(17,"date"),e.k0s()(),e.j41(18,"p",30)(19,"ion-badge",31),e.EFF(20),e.nI1(21,"t"),e.k0s(),e.DNE(22,U,4,4,"span",32),e.k0s()(),e.j41(23,"ion-button",33),e.bIt("click",function(o){const i=c.eBV(n).$implicit,r=e.XpG(2);return c.Njj(r.viewProjectHistory(i,o))}),e.nrm(24,"ion-icon",34),e.k0s()()}if(2&a){const n=s.$implicit;e.R7$(),e.Y8G("value",n.project_key),e.R7$(4),e.JRh(n.location),e.R7$(4),e.Lme("",e.bMT(10,9,"Started:")," ",e.i5U(11,11,n.initialDate,"mediumDate")),e.R7$(6),e.Lme("",e.bMT(16,14,"Last:")," ",e.i5U(17,16,n.lastUpdate,"mediumDate")),e.R7$(5),e.Lme("",n.checkInCount," ",e.bMT(21,19,"check-ins")),e.R7$(2),e.Y8G("ngIf",n.speciesCount>0)}}function K(a,s){if(1&a){const n=e.RV6();e.j41(0,"div",20)(1,"ion-card",21)(2,"ion-card-header")(3,"ion-card-title",10),e.nrm(4,"ion-icon",22),e.EFF(5),e.nI1(6,"t"),e.k0s(),e.j41(7,"ion-card-subtitle",11),e.EFF(8),e.nI1(9,"t"),e.k0s()(),e.j41(10,"ion-card-content")(11,"ion-list")(12,"ion-radio-group",23),e.mxI("ngModelChange",function(o){c.eBV(n);const i=e.XpG();return e.DH7(i.selectedOngoingProject,o)||(i.selectedOngoingProject=o),c.Njj(o)}),e.bIt("ionChange",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.onProjectSelected())}),e.DNE(13,J,25,21,"ion-item",24),e.k0s()()()()()}if(2&a){const n=e.XpG();e.R7$(5),e.SpI(" ",e.bMT(6,4,"Continue Existing Restoration Monitoring Activity")," "),e.R7$(3),e.SpI(" ",e.bMT(9,6,"Select a monitoring activity to add a new check-in, or start a new monitoring activity below")," "),e.R7$(4),e.R50("ngModel",n.selectedOngoingProject),e.R7$(),e.Y8G("ngForOf",n.ongoingProjects)}}function Q(a,s){1&a&&(e.j41(0,"div",37)(1,"span"),e.EFF(2),e.nI1(3,"t"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"OR START NEW")))}function H(a,s){if(1&a&&(e.j41(0,"ion-select-option",38),e.EFF(1),e.k0s()),2&a){const n=s.$implicit;e.Y8G("value",n.name),e.R7$(),e.SpI(" ",n.name," ")}}function W(a,s){if(1&a&&(e.j41(0,"ion-note",39),e.nrm(1,"ion-icon",40),e.EFF(2),e.nI1(3,"t"),e.k0s()),2&a){const n=e.XpG();e.R7$(2),e.Lme(" ",e.bMT(3,2,"Location locked to:")," ",n.selectedLocation," ")}}function ee(a,s){if(1&a){const n=e.RV6();e.j41(0,"div",57),e.nrm(1,"img",58),e.j41(2,"ion-button",59),e.bIt("click",function(){c.eBV(n);const o=e.XpG(2);return c.Njj(o.removeSitePhoto())}),e.nrm(3,"ion-icon",60),e.k0s()()}if(2&a){const n=e.XpG(2);e.R7$(),e.Y8G("src",n.sitePhoto,e.B4B)}}function te(a,s){if(1&a){const n=e.RV6();e.j41(0,"div",61),e.nrm(1,"img",62),e.j41(2,"ion-button",59),e.bIt("click",function(){c.eBV(n);const o=e.XpG(2);return c.Njj(o.removeSiteMap())}),e.nrm(3,"ion-icon",60),e.k0s()()}if(2&a){const n=e.XpG(2);e.R7$(),e.Y8G("src",n.siteMap,e.B4B)}}function ne(a,s){if(1&a){const n=e.RV6();e.j41(0,"div",41)(1,"ion-card",42)(2,"ion-card-content")(3,"h3",43),e.EFF(4),e.nI1(5,"t"),e.k0s(),e.j41(6,"p",11),e.EFF(7),e.nI1(8,"t"),e.k0s(),e.j41(9,"ion-item",44)(10,"ion-input",45),e.nI1(11,"t"),e.nI1(12,"t"),e.mxI("ngModelChange",function(o){c.eBV(n);const i=e.XpG();return e.DH7(i.newSiteName,o)||(i.newSiteName=o),c.Njj(o)}),e.k0s()(),e.j41(13,"ion-item",44)(14,"ion-input",45),e.nI1(15,"t"),e.nI1(16,"t"),e.mxI("ngModelChange",function(o){c.eBV(n);const i=e.XpG();return e.DH7(i.newSiteDescription,o)||(i.newSiteDescription=o),c.Njj(o)}),e.k0s()(),e.j41(17,"ion-button",46),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.captureGPSCoordinates())}),e.nrm(18,"ion-icon",47),e.EFF(19),e.nI1(20,"t"),e.nI1(21,"t"),e.k0s(),e.j41(22,"ion-row",48)(23,"ion-col",49)(24,"ion-button",50),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.captureSitePhoto())}),e.nrm(25,"ion-icon",51),e.EFF(26),e.nI1(27,"t"),e.nI1(28,"t"),e.k0s()(),e.j41(29,"ion-col",49)(30,"ion-button",50),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.uploadSiteMap())}),e.nrm(31,"ion-icon",52),e.EFF(32),e.nI1(33,"t"),e.nI1(34,"t"),e.k0s()()(),e.DNE(35,ee,4,1,"div",53)(36,te,4,1,"div",54),e.nrm(37,"br"),e.j41(38,"ion-button",55),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.submitNewSite())}),e.nrm(39,"ion-icon",56),e.EFF(40),e.nI1(41,"t"),e.k0s()()()()}if(2&a){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,15,"New Site Information")),e.R7$(3),e.JRh(e.bMT(8,17,"Enter details for the new site")),e.R7$(3),e.Y8G("label",e.bMT(11,19,"Site Name")),e.R50("ngModel",n.newSiteName),e.Y8G("placeholder",e.bMT(12,21,"Enter site name (required)")),e.R7$(4),e.Y8G("label",e.bMT(15,23,"Location Description")),e.R50("ngModel",n.newSiteDescription),e.Y8G("placeholder",e.bMT(16,25,"Enter location description (optional)")),e.R7$(5),e.SpI(" ",n.gpsCoordinates?e.bMT(20,27,"GPS Captured:")+" "+n.gpsCoordinates.latitude.toFixed(6)+", "+n.gpsCoordinates.longitude.toFixed(6):e.bMT(21,29,"Take GPS Coordinates")," "),e.R7$(7),e.SpI(" ",n.sitePhoto?e.bMT(27,31,"Photo Captured"):e.bMT(28,33,"Take Site Photo")," "),e.R7$(6),e.SpI(" ",n.siteMap?e.bMT(33,35,"Map Uploaded"):e.bMT(34,37,"Upload Site Map")," "),e.R7$(3),e.Y8G("ngIf",n.sitePhoto),e.R7$(),e.Y8G("ngIf",n.siteMap),e.R7$(2),e.Y8G("disabled",!n.newSiteName||!n.gpsCoordinates),e.R7$(2),e.SpI(" ",e.bMT(41,39,"Add New Site")," ")}}function oe(a,s){if(1&a){const n=e.RV6();e.j41(0,"div",57),e.nrm(1,"img",58),e.j41(2,"ion-button",59),e.bIt("click",function(){c.eBV(n);const o=e.XpG(2);return c.Njj(o.removeEditSitePhoto())}),e.nrm(3,"ion-icon",60),e.k0s()()}if(2&a){const n=e.XpG(2);e.R7$(),e.Y8G("src",n.editSitePhoto,e.B4B)}}function ie(a,s){if(1&a){const n=e.RV6();e.j41(0,"div",61),e.nrm(1,"img",62),e.j41(2,"ion-button",59),e.bIt("click",function(){c.eBV(n);const o=e.XpG(2);return c.Njj(o.removeEditSiteMap())}),e.nrm(3,"ion-icon",60),e.k0s()()}if(2&a){const n=e.XpG(2);e.R7$(),e.Y8G("src",n.editSiteMap,e.B4B)}}function ae(a,s){if(1&a){const n=e.RV6();e.j41(0,"div",41)(1,"ion-card",42)(2,"ion-card-content")(3,"div",63)(4,"h3",43),e.EFF(5),e.nI1(6,"t"),e.k0s(),e.j41(7,"ion-badge",64),e.EFF(8),e.nI1(9,"t"),e.k0s()(),e.j41(10,"p",11),e.EFF(11),e.nI1(12,"t"),e.k0s(),e.j41(13,"ion-item",44)(14,"ion-input",45),e.nI1(15,"t"),e.nI1(16,"t"),e.mxI("ngModelChange",function(o){c.eBV(n);const i=e.XpG();return e.DH7(i.editSiteName,o)||(i.editSiteName=o),c.Njj(o)}),e.k0s()(),e.j41(17,"ion-item",44)(18,"ion-input",45),e.nI1(19,"t"),e.nI1(20,"t"),e.mxI("ngModelChange",function(o){c.eBV(n);const i=e.XpG();return e.DH7(i.editSiteDescription,o)||(i.editSiteDescription=o),c.Njj(o)}),e.k0s()(),e.j41(21,"ion-button",46),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.captureEditGPS())}),e.nrm(22,"ion-icon",47),e.EFF(23),e.nI1(24,"t"),e.k0s(),e.j41(25,"ion-row",48)(26,"ion-col",49)(27,"ion-button",50),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.captureEditSitePhoto())}),e.nrm(28,"ion-icon",51),e.EFF(29),e.nI1(30,"t"),e.nI1(31,"t"),e.k0s()(),e.j41(32,"ion-col",49)(33,"ion-button",50),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.uploadEditSiteMap())}),e.nrm(34,"ion-icon",52),e.EFF(35),e.nI1(36,"t"),e.nI1(37,"t"),e.k0s()()(),e.DNE(38,oe,4,1,"div",53)(39,ie,4,1,"div",54),e.nrm(40,"br"),e.j41(41,"ion-row",48)(42,"ion-col",49)(43,"ion-button",65),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.cancelEditSite())}),e.nrm(44,"ion-icon",66),e.EFF(45),e.nI1(46,"t"),e.k0s()(),e.j41(47,"ion-col",49)(48,"ion-button",67),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.saveEditSite())}),e.nrm(49,"ion-icon",68),e.EFF(50),e.nI1(51,"t"),e.k0s()()(),e.j41(52,"ion-row",69)(53,"ion-col",70)(54,"ion-button",71),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.deleteEditSite())}),e.nrm(55,"ion-icon",72),e.EFF(56),e.nI1(57,"t"),e.k0s()()()()()()}if(2&a){const n=e.XpG();e.R7$(5),e.JRh(e.bMT(6,18,"Edit Site Information")),e.R7$(3),e.JRh(e.bMT(9,20,"Admin Only")),e.R7$(3),e.JRh(e.bMT(12,22,"Modify site details (L4+ users only)")),e.R7$(3),e.Y8G("label",e.bMT(15,24,"Site Name")),e.R50("ngModel",n.editSiteName),e.Y8G("placeholder",e.bMT(16,26,"Enter site name (required)")),e.R7$(4),e.Y8G("label",e.bMT(19,28,"Description")),e.R50("ngModel",n.editSiteDescription),e.Y8G("placeholder",e.bMT(20,30,"Enter description (optional)")),e.R7$(5),e.SpI(" ",n.editGpsCoordinates?"GPS: "+n.editGpsCoordinates.latitude.toFixed(6)+", "+n.editGpsCoordinates.longitude.toFixed(6):e.bMT(24,32,"Update GPS Coordinates")," "),e.R7$(6),e.SpI(" ",n.editSitePhoto?e.bMT(30,34,"Photo Set"):e.bMT(31,36,"New Photo")," "),e.R7$(6),e.SpI(" ",n.editSiteMap?e.bMT(36,38,"Map Set"):e.bMT(37,40,"New Map")," "),e.R7$(3),e.Y8G("ngIf",n.editSitePhoto),e.R7$(),e.Y8G("ngIf",n.editSiteMap),e.R7$(6),e.SpI(" ",e.bMT(46,42,"Cancel")," "),e.R7$(3),e.Y8G("disabled",!n.editSiteName),e.R7$(2),e.SpI(" ",e.bMT(51,44,"Save Changes")," "),e.R7$(6),e.SpI(" ",e.bMT(57,46,"Delete Site")," ")}}function ce(a,s){1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Click zones or quads to select")))}function re(a,s){1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Click quads to select")))}function se(a,s){1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Click zones to select")))}function le(a,s){if(1&a&&(e.j41(0,"div",89),e.nrm(1,"ion-icon",90),e.DNE(2,ce,3,3,"span",91)(3,re,3,3,"span",91)(4,se,3,3,"span",91),e.k0s()),2&a){const n=e.XpG(2);e.R7$(2),e.Y8G("ngIf",n.currentZones.length>0&&n.currentSamplePoints.length>0),e.R7$(),e.Y8G("ngIf",0===n.currentZones.length&&n.currentSamplePoints.length>0),e.R7$(),e.Y8G("ngIf",n.currentZones.length>0&&0===n.currentSamplePoints.length)}}function de(a,s){if(1&a){const n=e.RV6();e.j41(0,"div",92)(1,"ion-button",93),e.bIt("click",function(){c.eBV(n);const o=e.XpG(2);return c.Njj(o.startEditSite())}),e.nrm(2,"ion-icon",94),e.EFF(3),e.nI1(4,"t"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Edit Site (Admin)")," "))}function pe(a,s){if(1&a){const n=e.RV6();e.j41(0,"app-interactive-location-map",95),e.bIt("zoneSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onZoneSelected(o))})("samplePointSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onSamplePointSelected(o))}),e.k0s()}if(2&a){const n=e.XpG(2);e.Y8G("mapImagePath",n.currentMapPath)("zones",n.currentZones)("samplePoints",n.currentSamplePoints)("selectedZones",n.selectedZone?e.eq3(4,y,n.selectedZone):e.lJ4(6,f))}}function ge(a,s){if(1&a){const n=e.RV6();e.j41(0,"app-caiman-interactive-map",96),e.bIt("samplePointSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onSamplePointSelected(o))}),e.k0s()}if(2&a){const n=e.XpG(2);e.Y8G("mapImagePath",n.currentMapPath)("samplePoints",n.currentSamplePoints)("selectedSamplePoints",n.selectedQuad?e.eq3(3,y,n.selectedQuad):e.lJ4(5,f))}}function me(a,s){if(1&a){const n=e.RV6();e.j41(0,"app-canopy-interactive-map",96),e.bIt("samplePointSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onSamplePointSelected(o))}),e.k0s()}if(2&a){const n=e.XpG(2);e.Y8G("mapImagePath",n.currentMapPath)("samplePoints",n.currentSamplePoints)("selectedSamplePoints",n.selectedQuad?e.eq3(3,y,n.selectedQuad):e.lJ4(5,f))}}function _e(a,s){if(1&a){const n=e.RV6();e.j41(0,"app-grand-anse-interactive-map",97),e.bIt("zoneSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onZoneSelected(o))})("samplePointSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onSamplePointSelected(o))}),e.k0s()}if(2&a){const n=e.XpG(2);e.Y8G("mapImagePath",n.currentMapPath)("zones",n.currentZones)("samplePoints",n.currentSamplePoints)("selectedZones",n.selectedZone?e.eq3(5,y,n.selectedZone):e.lJ4(7,f))("selectedSamplePoints",n.selectedQuad?e.eq3(8,y,n.selectedQuad):e.lJ4(10,f))}}function ue(a,s){if(1&a){const n=e.RV6();e.j41(0,"app-petit-barbarons-interactive-map",98),e.bIt("zoneSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onZoneSelected(o))}),e.k0s()}if(2&a){const n=e.XpG(2);e.Y8G("mapImagePath",n.currentMapPath)("zones",n.currentZones)("selectedZones",n.selectedZone?e.eq3(3,y,n.selectedZone):e.lJ4(5,f))}}function xe(a,s){if(1&a&&e.nrm(0,"img",99),2&a){const n=e.XpG(2);e.Y8G("src",n.currentMapPath,e.B4B)("alt",n.selectedLocation+" map")}}function he(a,s){1&a&&(e.j41(0,"h3",43),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Assessment Details")))}function Pe(a,s){if(1&a){const n=e.RV6();e.j41(0,"ion-item",44)(1,"ion-input",100),e.nI1(2,"t"),e.nI1(3,"t"),e.nI1(4,"t"),e.mxI("ngModelChange",function(o){c.eBV(n);const i=e.XpG(2);return e.DH7(i.zoneNumber,o)||(i.zoneNumber=o),c.Njj(o)}),e.k0s()()}if(2&a){const n=e.XpG(2);e.AVh("disabled-item","Caiman"===n.selectedLocation||"Canopy"===n.selectedLocation),e.R7$(),e.Y8G("label",e.bMT(2,6,"Zone")),e.R50("ngModel",n.zoneNumber),e.Y8G("placeholder","Caiman"===n.selectedLocation||"Canopy"===n.selectedLocation?e.bMT(3,8,"Not applicable"):e.bMT(4,10,"Enter zone number (required)"))("disabled","Caiman"===n.selectedLocation||"Canopy"===n.selectedLocation)}}function ye(a,s){if(1&a){const n=e.RV6();e.j41(0,"ion-item",44)(1,"ion-input",101),e.nI1(2,"t"),e.nI1(3,"t"),e.mxI("ngModelChange",function(o){c.eBV(n);const i=e.XpG(2);return e.DH7(i.quadNumber,o)||(i.quadNumber=o),c.Njj(o)}),e.bIt("ionInput",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onQuadInput(o))}),e.k0s()()}if(2&a){const n=e.XpG(2);e.R7$(),e.Y8G("label",e.bMT(2,4,"Quad Number")),e.R50("ngModel",n.quadNumber),e.Y8G("placeholder",e.bMT(3,6,"Enter quad number (optional)"))("disabled","Petit Barbarons"===n.selectedLocation)}}function fe(a,s){if(1&a&&(e.j41(0,"ion-item",44)(1,"ion-label",102),e.EFF(2),e.nI1(3,"t"),e.k0s(),e.j41(4,"p",103),e.EFF(5),e.k0s()()),2&a){const n=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Site Description")),e.R7$(3),e.JRh(n.selectedSiteDescription)}}function Me(a,s){1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Please select both a zone and quad on the map")))}function be(a,s){1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Please select a quad on the map")))}function Ce(a,s){1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Please select a zone on the map")))}function Oe(a,s){if(1&a&&(e.j41(0,"div",104),e.nrm(1,"ion-icon",105),e.DNE(2,Me,3,3,"span",91)(3,be,3,3,"span",91)(4,Ce,3,3,"span",91),e.k0s()),2&a){const n=e.XpG(2);e.R7$(2),e.Y8G("ngIf",n.currentZones.length>0&&n.currentSamplePoints.length>0),e.R7$(),e.Y8G("ngIf",0===n.currentZones.length&&n.currentSamplePoints.length>0),e.R7$(),e.Y8G("ngIf",n.currentZones.length>0&&0===n.currentSamplePoints.length)}}function Se(a,s){if(1&a){const n=e.RV6();e.j41(0,"div",41),e.DNE(1,le,5,3,"div",73)(2,de,5,3,"div",74),e.j41(3,"ion-card",75)(4,"ion-card-content",76)(5,"div",77),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.openMapModal())}),e.nrm(6,"ion-icon",78),e.k0s(),e.DNE(7,pe,1,7,"app-interactive-location-map",79)(8,ge,1,6,"app-caiman-interactive-map",80)(9,me,1,6,"app-canopy-interactive-map",80)(10,_e,1,11,"app-grand-anse-interactive-map",81)(11,ue,1,6,"app-petit-barbarons-interactive-map",82)(12,xe,1,2,"img",83),e.k0s()(),e.j41(13,"ion-card",42)(14,"ion-card-content"),e.DNE(15,he,3,3,"h3",84)(16,Pe,5,12,"ion-item",85)(17,ye,4,8,"ion-item",86)(18,fe,6,4,"ion-item",86)(19,Oe,5,3,"div",87),e.j41(20,"ion-button",67),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.startAssessment())}),e.nrm(21,"ion-icon",88),e.EFF(22),e.nI1(23,"t"),e.k0s()()()()}if(2&a){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.showMap&&(n.currentZones.length>0||n.currentSamplePoints.length>0)),e.R7$(),e.Y8G("ngIf",n.canEditSelectedSite()),e.R7$(5),e.Y8G("ngIf",n.currentZones.length>0&&"Ramsar"===n.selectedLocation),e.R7$(),e.Y8G("ngIf","Caiman"===n.selectedLocation),e.R7$(),e.Y8G("ngIf","Canopy"===n.selectedLocation),e.R7$(),e.Y8G("ngIf","Grand Anse"===n.selectedLocation),e.R7$(),e.Y8G("ngIf",n.currentZones.length>0&&"Petit Barbarons"===n.selectedLocation),e.R7$(),e.Y8G("ngIf",0===n.currentZones.length&&"Caiman"!==n.selectedLocation&&"Canopy"!==n.selectedLocation),e.R7$(3),e.Y8G("ngIf","Kempinski"!==n.selectedLocation&&"Roche Caiman"!==n.selectedLocation&&("new"===n.selectedLocation||n.isPredefinedSite(n.selectedLocation))),e.R7$(),e.Y8G("ngIf",!n.showNewSiteForm&&n.currentZones.length>0),e.R7$(),e.Y8G("ngIf",!n.showNewSiteForm&&n.currentSamplePoints.length>0),e.R7$(),e.Y8G("ngIf",n.selectedLocation&&!n.showNewSiteForm&&0===n.currentZones.length&&0===n.currentSamplePoints.length&&n.selectedSiteDescription&&!n.isPredefinedSite(n.selectedLocation)),e.R7$(),e.Y8G("ngIf",n.selectedLocation&&!n.isSelectionValid()&&!n.showNewSiteForm&&(n.currentZones.length>0||n.currentSamplePoints.length>0)),e.R7$(),e.Y8G("disabled",!n.isSelectionValid()&&!n.showNewSiteForm&&(n.currentZones.length>0||n.currentSamplePoints.length>0)),e.R7$(2),e.SpI(" ",e.bMT(23,15,"Start Assessment")," ")}}function ve(a,s){1&a&&(e.j41(0,"div",106)(1,"ion-card",107)(2,"ion-card-content")(3,"div",108),e.nrm(4,"ion-icon",109),e.j41(5,"h4"),e.EFF(6),e.nI1(7,"t"),e.k0s()(),e.j41(8,"ul")(9,"li"),e.EFF(10),e.nI1(11,"t"),e.j41(12,"strong",110),e.EFF(13),e.nI1(14,"t"),e.k0s(),e.EFF(15),e.nI1(16,"t"),e.j41(17,"strong",110),e.EFF(18),e.nI1(19,"t"),e.k0s(),e.EFF(20),e.nI1(21,"t"),e.k0s(),e.j41(22,"li"),e.EFF(23),e.nI1(24,"t"),e.k0s()()()()()),2&a&&(e.R7$(6),e.JRh(e.bMT(7,7,"How to Begin")),e.R7$(4),e.SpI("",e.bMT(11,9,"Select a")," "),e.R7$(3),e.JRh(e.bMT(14,11,"known site")),e.R7$(2),e.SpI(" ",e.bMT(16,13,"to view its map or enter a")," "),e.R7$(3),e.JRh(e.bMT(19,15,"new site")),e.R7$(2),e.SpI(" ",e.bMT(21,17,"to create a custom location")),e.R7$(3),e.JRh(e.bMT(24,19,"Tap the map or fill out new site information to start your assessment")))}function je(a,s){if(1&a){const n=e.RV6();e.j41(0,"app-grand-anse-interactive-map",123),e.bIt("zoneSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onZoneSelected(o))})("samplePointSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onSamplePointSelected(o))}),e.k0s()}if(2&a){const n=e.XpG(2);e.Y8G("mapImagePath",n.currentMapPath)("zones",n.currentZones)("samplePoints",n.currentSamplePoints)("selectedZones",n.selectedZone?e.eq3(5,y,n.selectedZone):e.lJ4(7,f))("selectedSamplePoints",n.selectedQuad?e.eq3(8,y,n.selectedQuad):e.lJ4(10,f))}}function Re(a,s){if(1&a){const n=e.RV6();e.j41(0,"app-caiman-interactive-map",124),e.bIt("samplePointSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onSamplePointSelected(o))}),e.k0s()}if(2&a){const n=e.XpG(2);e.Y8G("mapImagePath",n.currentMapPath)("samplePoints",n.currentSamplePoints)("selectedSamplePoints",n.selectedQuad?e.eq3(3,y,n.selectedQuad):e.lJ4(5,f))}}function Ie(a,s){if(1&a){const n=e.RV6();e.j41(0,"app-canopy-interactive-map",124),e.bIt("samplePointSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onSamplePointSelected(o))}),e.k0s()}if(2&a){const n=e.XpG(2);e.Y8G("mapImagePath",n.currentMapPath)("samplePoints",n.currentSamplePoints)("selectedSamplePoints",n.selectedQuad?e.eq3(3,y,n.selectedQuad):e.lJ4(5,f))}}function ke(a,s){if(1&a){const n=e.RV6();e.j41(0,"app-grand-anse-interactive-map",125),e.bIt("zoneSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onZoneSelected(o))}),e.k0s()}if(2&a){const n=e.XpG(2);e.Y8G("mapImagePath",n.currentMapPath)("zones",n.currentZones)("selectedZones",n.selectedZone?e.eq3(3,y,n.selectedZone):e.lJ4(5,f))}}function we(a,s){if(1&a){const n=e.RV6();e.j41(0,"app-petit-barbarons-interactive-map",125),e.bIt("zoneSelected",function(o){c.eBV(n);const i=e.XpG(2);return c.Njj(i.onZoneSelected(o))}),e.k0s()}if(2&a){const n=e.XpG(2);e.Y8G("mapImagePath",n.currentMapPath)("zones",n.currentZones)("selectedZones",n.selectedZone?e.eq3(3,y,n.selectedZone):e.lJ4(5,f))}}function Ne(a,s){if(1&a&&e.nrm(0,"img",126),2&a){const n=e.XpG(2);e.Y8G("src",n.currentMapPath,e.B4B)("alt",n.selectedLocation+" map")}}function Ge(a,s){if(1&a){const n=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar",111)(2,"ion-title"),e.EFF(3),e.nI1(4,"t"),e.k0s(),e.j41(5,"ion-buttons",112)(6,"ion-button",113),e.bIt("click",function(){c.eBV(n);const o=e.XpG();return c.Njj(o.closeMapModal())}),e.nrm(7,"ion-icon",114),e.k0s()()()(),e.j41(8,"ion-content",115)(9,"div",116)(10,"p",117),e.nrm(11,"ion-icon",118),e.EFF(12),e.nI1(13,"t"),e.k0s(),e.DNE(14,je,1,11,"app-grand-anse-interactive-map",119)(15,Re,1,6,"app-caiman-interactive-map",120)(16,Ie,1,6,"app-canopy-interactive-map",120)(17,ke,1,6,"app-grand-anse-interactive-map",121)(18,we,1,6,"app-petit-barbarons-interactive-map",121)(19,Ne,1,2,"img",122),e.k0s()()}if(2&a){const n=e.XpG();e.R7$(3),e.Lme("",n.selectedLocation," ",e.bMT(4,9,"Map")),e.R7$(9),e.SpI(" ",e.bMT(13,11,"Rotate device for full-screen view")," "),e.R7$(2),e.Y8G("ngIf","Grand Anse"===n.selectedLocation),e.R7$(),e.Y8G("ngIf","Caiman"===n.selectedLocation),e.R7$(),e.Y8G("ngIf","Canopy"===n.selectedLocation),e.R7$(),e.Y8G("ngIf",n.currentZones.length>0&&"Grand Anse"===n.selectedLocation),e.R7$(),e.Y8G("ngIf",n.currentZones.length>0&&"Petit Barbarons"===n.selectedLocation),e.R7$(),e.Y8G("ngIf",0===n.currentZones.length&&"Caiman"!==n.selectedLocation&&"Canopy"!==n.selectedLocation)}}const Le=[{path:"",component:(()=>{var a;class s{constructor(t,o,i,r,l,m,g,x,u,h,P){this.router=t,this.modalController=o,this.alertController=i,this.platform=r,this.restorationSyncService=l,this.siteSyncService=m,this.auth=g,this.supabase=x,this.photoService=u,this.imageCompression=h,this.ts=P,this.selectedLocation="",this.showMap=!1,this.currentMapPath="",this.zoneNumber="",this.quadNumber="",this.isMapModalOpen=!1,this.showNewSiteForm=!1,this.newSiteName="",this.newSiteDescription="",this.gpsCoordinates=null,this.sitePhoto=null,this.siteMap=null,this.isEditingSite=!1,this.editSiteName="",this.editSiteDescription="",this.editGpsCoordinates=null,this.editSitePhoto=null,this.editSiteMap=null,this.editingSiteOriginalName="",this.selectedZone="",this.currentZones=[],this.currentSamplePoints=[],this.selectedSiteDescription="",this.currentUser=null,this.userSubscription=null,this.ongoingProjects=[],this.selectedOngoingProject=null,this.isUpdatingProject=!1,this.knownSites=[{name:"Ramsar",mapPath:"assets/maps/ramsar_plots.webp",zones:[{id:"zone1",name:"Zone 1",points:[{x:-140,y:75},{x:-110,y:80},{x:-65,y:75},{x:-60,y:88},{x:0,y:106},{x:25,y:100},{x:37,y:87},{x:45,y:91},{x:65,y:93},{x:80,y:110},{x:105,y:112},{x:108,y:120},{x:155,y:133},{x:180,y:155},{x:170,y:160},{x:150,y:150},{x:130,y:142},{x:95,y:158},{x:89,y:170},{x:90,y:200},{x:80,y:220},{x:35,y:230},{x:-30,y:235},{x:-84,y:253},{x:-75,y:190},{x:-80,y:160},{x:-135,y:130},{x:-137,y:93},{x:-145,y:77}]},{id:"zone2",name:"Zone 2",points:[{x:-82,y:273},{x:-70,y:253},{x:-40,y:245},{x:-5,y:240},{x:40,y:233},{x:80,y:222},{x:105,y:200},{x:120,y:190},{x:140,y:175},{x:160,y:165},{x:235,y:170},{x:225,y:180},{x:215,y:190},{x:200,y:230},{x:187,y:240},{x:187,y:255},{x:215,y:300},{x:235,y:320},{x:250,y:340},{x:255,y:380},{x:253,y:400},{x:240,y:420},{x:265,y:445},{x:267,y:468},{x:250,y:483},{x:230,y:480},{x:240,y:455},{x:222,y:445},{x:210,y:430},{x:190,y:440},{x:175,y:425},{x:145,y:425},{x:125,y:433},{x:105,y:420},{x:95,y:390},{x:55,y:335},{x:40,y:335},{x:-10,y:350},{x:-30,y:340},{x:-65,y:315}]},{id:"zone3",name:"Zone 3",points:[{x:-5,y:465},{x:-5,y:457},{x:20,y:470},{x:30,y:473},{x:40,y:475},{x:50,y:470},{x:60,y:473},{x:85,y:468},{x:93,y:455},{x:113,y:463},{x:123,y:458},{x:138,y:470},{x:180,y:465},{x:184,y:469},{x:174,y:488},{x:185,y:505},{x:202,y:515},{x:220,y:492},{x:232,y:490},{x:228,y:524},{x:243,y:546},{x:283,y:554},{x:291,y:551},{x:300,y:558},{x:300,y:564},{x:290,y:562},{x:280,y:567},{x:260,y:567},{x:240,y:569},{x:217,y:566},{x:204,y:557},{x:194,y:557},{x:163,y:540},{x:158,y:525},{x:150,y:510},{x:135,y:505},{x:135,y:500},{x:113,y:500},{x:108,y:495},{x:92,y:495},{x:88,y:490},{x:75,y:484},{x:60,y:484},{x:40,y:483},{x:20,y:477}]},{id:"zone4",name:"Zone 4",points:[{x:382,y:65},{x:386,y:65},{x:401,y:82},{x:423,y:87},{x:427,y:80},{x:437,y:78},{x:450,y:75},{x:460,y:90},{x:475,y:117},{x:491,y:130},{x:485,y:137},{x:453,y:140},{x:450,y:150},{x:425,y:153},{x:351,y:146},{x:337,y:148},{x:317,y:149},{x:321,y:141},{x:321,y:138},{x:313,y:135},{x:310,y:115},{x:330,y:112},{x:340,y:97}]},{id:"zone5",name:"Zone 5",points:[{x:217,y:195},{x:245,y:165},{x:255,y:165},{x:257,y:160},{x:290,y:160},{x:305,y:152},{x:355,y:150},{x:395,y:155},{x:400,y:165},{x:415,y:165},{x:420,y:171},{x:430,y:169},{x:430,y:174},{x:458,y:188},{x:490,y:185},{x:540,y:200},{x:540,y:215},{x:530,y:218},{x:495,y:213},{x:465,y:222},{x:430,y:245},{x:415,y:245},{x:385,y:230},{x:370,y:215},{x:350,y:218},{x:332,y:215},{x:325,y:208},{x:290,y:205},{x:280,y:225},{x:260,y:240},{x:230,y:244},{x:225,y:230},{x:202,y:230}]},{id:"zone6",name:"Zone 6",points:[{x:606,y:100},{x:612,y:100},{x:622,y:108},{x:637,y:106},{x:642,y:112},{x:647,y:110},{x:667,y:112},{x:693,y:114},{x:725,y:105},{x:745,y:123},{x:748,y:165},{x:726,y:185},{x:715,y:195},{x:692,y:214},{x:672,y:210},{x:657,y:212},{x:642,y:232},{x:636,y:232},{x:618,y:202},{x:607,y:218},{x:566,y:191},{x:580,y:170},{x:583,y:162},{x:569,y:141},{x:571,y:129},{x:596,y:125}]}],samplePoints:[{id:"quad1",x:-77,y:110},{id:"quad2",x:-15,y:132},{id:"quad3",x:50,y:150},{id:"quad4",x:352,y:123},{id:"quad5",x:405,y:129},{id:"quad6",x:385,y:165},{id:"quad7",x:441,y:190},{id:"quad8",x:618,y:137},{id:"quad9",x:711,y:125},{id:"quad10",x:690,y:195},{id:"quad11",x:362,y:187},{id:"quad12",x:329,y:182},{id:"quad13",x:107,y:210},{id:"quad14",x:153,y:184},{id:"quad15",x:194,y:210},{id:"quad16",x:12,y:255},{id:"quad17",x:240,y:432},{id:"quad18",x:136,y:423},{id:"quad19",x:233,y:545},{id:"quad20",x:-55,y:290},{id:"quad21",x:197,y:289},{id:"quad22",x:147,y:335},{id:"quad23",x:198,y:361},{id:"quad24",x:235,y:225},{id:"quad25",x:-47,y:253},{id:"quad26",x:182,y:515},{id:"quad27",x:67,y:298},{id:"quad28",x:127,y:370},{id:"quad29",x:158,y:208},{id:"quad30",x:268,y:190}]},{name:"Caiman",mapPath:"assets/maps/Caiman_quad_map.webp",samplePoints:[{id:"quad1",x:506,y:207},{id:"quad2",x:406,y:290},{id:"quad3",x:319,y:348},{id:"quad4",x:321,y:292},{id:"quad5",x:380,y:160,label:"5",opacity:1}]},{name:"Canopy",mapPath:"assets/maps/Canopy_quad_map.webp",samplePoints:[{id:"quad1",x:340,y:410},{id:"quad2",x:249,y:423},{id:"quad3",x:530,y:319},{id:"quad4",x:355,y:105}]},{name:"Grand Anse",mapPath:"assets/maps/GA_quad_map.webp",zones:[{id:"zone1",name:"Zone 1",points:[{x:-200,y:315},{x:-175,y:300},{x:-145,y:300},{x:-60,y:313},{x:-55,y:323},{x:64,y:290},{x:154,y:290},{x:170,y:285},{x:210,y:298},{x:240,y:293},{x:260,y:298},{x:270,y:293},{x:275,y:294},{x:285,y:350},{x:242,y:345},{x:125,y:370},{x:75,y:374},{x:35,y:374},{x:15,y:382},{x:0,y:405},{x:-5,y:405},{x:-30,y:380},{x:-90,y:390},{x:-105,y:388},{x:-160,y:397},{x:-198,y:407},{x:-250,y:430},{x:-270,y:430}]},{id:"zone2",name:"Zone 2",points:[{x:140,y:148},{x:150,y:147},{x:182,y:113},{x:196,y:118},{x:209,y:131},{x:235,y:128},{x:265,y:105},{x:282,y:100},{x:292,y:105},{x:310,y:100},{x:360,y:115},{x:370,y:123},{x:380,y:120},{x:405,y:165},{x:400,y:197},{x:390,y:203},{x:390,y:223},{x:385,y:228},{x:390,y:268},{x:382,y:275},{x:370,y:275},{x:377,y:295},{x:398,y:298},{x:400,y:305},{x:415,y:307},{x:451,y:315},{x:497,y:340},{x:530,y:390},{x:545,y:405},{x:545,y:415},{x:532,y:433},{x:435,y:375},{x:385,y:350},{x:355,y:343},{x:287,y:350},{x:275,y:295},{x:295,y:290},{x:313,y:257},{x:300,y:247},{x:293,y:227},{x:298,y:222},{x:283,y:212},{x:240,y:215},{x:238,y:227},{x:174,y:243}]},{id:"zone3",name:"Zone 3",points:[{x:400,y:135},{x:425,y:110},{x:435,y:110},{x:462,y:150},{x:485,y:155},{x:490,y:165},{x:520,y:170},{x:520,y:185},{x:535,y:188},{x:560,y:196},{x:575,y:183},{x:670,y:203},{x:688,y:194},{x:741,y:195},{x:733,y:185},{x:733,y:170},{x:740,y:153},{x:760,y:155},{x:767,y:160},{x:758,y:185},{x:767,y:212},{x:802,y:205},{x:832,y:230},{x:830,y:190},{x:850,y:170},{x:927,y:195},{x:925,y:200},{x:955,y:243},{x:955,y:263},{x:945,y:273},{x:872,y:260},{x:872,y:275},{x:845,y:320},{x:835,y:325},{x:777,y:329},{x:725,y:364},{x:680,y:345},{x:680,y:345},{x:680,y:300},{x:665,y:258},{x:635,y:250},{x:605,y:232},{x:595,y:205},{x:583,y:205},{x:583,y:210},{x:535,y:217},{x:523,y:215},{x:500,y:190},{x:480,y:190},{x:450,y:173},{x:420,y:173},{x:408,y:163}]},{id:"zone4",name:"Zone 4",points:[{x:545,y:483},{x:579,y:475},{x:573,y:460},{x:540,y:448},{x:540,y:445},{x:525,y:440},{x:525,y:430},{x:531,y:433},{x:546,y:413},{x:590,y:440},{x:623,y:444},{x:648,y:420},{x:635,y:415},{x:635,y:405},{x:650,y:402},{x:663,y:370},{x:670,y:370},{x:670,y:345},{x:680,y:345},{x:725,y:364},{x:683,y:427},{x:715,y:443},{x:715,y:460},{x:695,y:475},{x:662,y:460},{x:650,y:475},{x:610,y:495},{x:540,y:495}]}],samplePoints:[{id:"ga1",x:130,y:357},{id:"ga2",x:-6,y:356},{id:"ga3",x:60,y:340},{id:"ga4",x:128,y:326},{id:"ga5",x:308,y:304},{id:"ga6",x:353,y:275},{id:"ga7",x:347,y:225},{id:"ga8",x:299,y:193},{id:"ga9",x:368,y:158},{id:"ga10",x:294,y:137},{id:"ga11",x:907,y:259},{id:"ga12",x:850,y:235},{id:"ga13",x:855,y:280},{id:"ga14",x:810,y:304},{id:"ga15",x:736,y:325},{id:"ga16",x:704,y:265},{id:"ga17",x:750,y:239},{id:"ga18",x:650,y:226},{id:"ga19",x:682,y:392},{id:"ga20",x:671,y:447},{id:"ga21",x:447,y:352},{id:"ga22",x:520,y:414}]},{name:"Petit Barbarons",mapPath:"assets/maps/PB_wetland_area_map.webp",zones:[{id:"wetland1",name:"Zone 1",points:[{x:305,y:260},{x:332,y:255},{x:335,y:253},{x:345,y:259},{x:361,y:274},{x:380,y:300},{x:382,y:340},{x:370,y:350},{x:368,y:365},{x:360,y:371},{x:350,y:385},{x:340,y:390},{x:330,y:410},{x:315,y:420},{x:300,y:421},{x:286,y:424},{x:261,y:408},{x:222,y:414},{x:214,y:419},{x:185,y:414},{x:180,y:400},{x:172,y:399},{x:174,y:380},{x:157,y:372},{x:120,y:393},{x:120,y:405},{x:100,y:407},{x:86,y:417},{x:52,y:405},{x:30,y:385},{x:65,y:380},{x:70,y:370},{x:70,y:350},{x:85,y:322},{x:135,y:302},{x:145,y:305},{x:150,y:295},{x:195,y:285},{x:220,y:275},{x:250,y:270},{x:295,y:270}]},{id:"wetland3",name:"Zone 3",points:[{x:420,y:315},{x:433,y:315},{x:445,y:328},{x:480,y:330},{x:500,y:325},{x:560,y:335},{x:580,y:335},{x:602,y:341},{x:610,y:333},{x:630,y:335},{x:644,y:352},{x:648,y:382},{x:643,y:392},{x:603,y:390},{x:500,y:405},{x:460,y:405},{x:451,y:415},{x:432,y:418},{x:382,y:398},{x:382,y:378}]},{id:"wetland2",name:"Zone 2",points:[{x:350,y:10},{x:357,y:39},{x:409,y:68},{x:411,y:77},{x:402,y:90},{x:410,y:118},{x:383,y:155},{x:388,y:185},{x:376,y:202},{x:380,y:212},{x:382,y:222},{x:372,y:234},{x:280,y:210},{x:190,y:140},{x:182,y:140},{x:182,y:130},{x:187,y:125},{x:201,y:124},{x:220,y:105},{x:220,y:75},{x:231,y:63},{x:258,y:60},{x:272,y:50},{x:272,y:36},{x:290,y:28},{x:300,y:30},{x:320,y:30},{x:332,y:7}]},{id:"wetland4",name:"Zone 4",points:[{x:650,y:320},{x:665,y:300},{x:725,y:287},{x:736,y:280},{x:756,y:282},{x:776,y:287},{x:790,y:295},{x:810,y:293},{x:825,y:300},{x:810,y:320},{x:817,y:350},{x:850,y:378},{x:888,y:430},{x:888,y:450},{x:840,y:575},{x:788,y:575},{x:772,y:525},{x:755,y:500},{x:757,y:489},{x:754,y:470},{x:734,y:450},{x:733,y:430},{x:735,y:421},{x:727,y:412},{x:720,y:393},{x:667,y:355}]}]},{name:"Kempinski",mapPath:"assets/maps/kempinski_map.webp"},{name:"Roche Caiman",mapPath:"assets/maps/SARC.webp"}]}ngOnInit(){var t=this;return(0,_.A)(function*(){yield t.loadDynamicSites(),yield t.loadOngoingProjects(),t.userSubscription=t.auth.currentUser$.subscribe(o=>{t.currentUser=o})})()}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}ionViewWillEnter(){var t=this;return(0,_.A)(function*(){yield t.loadOngoingProjects(),t.selectedLocation="",t.showMap=!1,t.currentMapPath="",t.zoneNumber="",t.quadNumber="",t.showNewSiteForm=!1,t.newSiteName="",t.newSiteDescription="",t.isMapModalOpen=!1,t.selectedZone="",t.currentZones=[],t.selectedOngoingProject=null,t.isUpdatingProject=!1})()}goBack(){this.router.navigate(["/health"])}onLocationChange(){if("new"===this.selectedLocation)this.showNewSiteForm=!0,this.showMap=!1,this.newSiteName="",this.newSiteDescription="",this.currentZones=[],this.currentSamplePoints=[],this.selectedZone="",this.zoneNumber="",this.quadNumber="";else if(this.selectedLocation){const t=this.knownSites.find(o=>o.name===this.selectedLocation);t&&(this.currentMapPath=t.mapPath,this.currentZones=t.zones||[],this.currentSamplePoints=t.samplePoints||[],this.showMap=!0,this.showNewSiteForm=!1,this.selectedZone="",this.zoneNumber="",this.quadNumber="",this.selectedSiteDescription=t.description||"")}else this.showMap=!1,this.showNewSiteForm=!1,this.currentZones=[],this.currentSamplePoints=[],this.selectedZone="",this.zoneNumber="",this.quadNumber="",this.selectedSiteDescription=""}onZoneSelected(t){if(this.selectedZone===t)this.selectedZone="",this.zoneNumber="";else if(this.selectedZone&&this.selectedZone!==t&&(this.quadNumber=""),this.selectedZone=t,"Petit Barbarons"===this.selectedLocation){const o=this.currentZones.find(i=>i.id===t);if(o&&o.name){const i=o.name.match(/\d+/);this.zoneNumber=i?i[0]:""}else this.zoneNumber=""}else{const o=t.replace("zone","");this.zoneNumber=o}this.isMapModalOpen&&this.closeMapModal()}onSamplePointSelected(t){console.log("Sample point selected:",t),this.quadNumber=this.getQuadDisplay(t.label||t.id),("Ramsar"===this.selectedLocation||"Grand Anse"===this.selectedLocation)&&this.setZoneFromQuad(this.quadNumber),this.isMapModalOpen&&this.closeMapModal()}setZoneFromQuad(t){if(!t||!this.selectedLocation)return;const o=parseInt(t);let i;"Ramsar"===this.selectedLocation?[1,2,3].includes(o)?i="1":[13,14,15,16,17,18,20,21,22,23,25,27,28,29].includes(o)?i="2":[26,19].includes(o)?i="3":[4,5].includes(o)?i="4":[6,7,11,12,24,30].includes(o)?i="5":[8,9,10].includes(o)&&(i="6"):"Grand Anse"===this.selectedLocation&&([1,2,3,4].includes(o)?i="1":[5,6,7,8,9,10,21,22].includes(o)?i="2":[11,12,13,14,15,16,17,18].includes(o)?i="3":[19,20].includes(o)&&(i="4")),i&&(this.zoneNumber=i,this.selectedZone=`zone${i}`)}onQuadInput(t){const o=t.target.value,i=o.replace(/\D/g,"");o!==i&&(this.quadNumber=i)}getZoneName(t){return t?`Zone ${t}`:""}getQuadDisplay(t){if(!t)return"";const o=t.match(/\d+/);return o?o[0]:""}isPredefinedSite(t){return["Ramsar","Grand Anse","Caiman","Roche Caiman","Canopy","Petit Barbarons","Kempinski"].includes(t)}isSelectionValid(){if(!this.selectedLocation||"new"===this.selectedLocation)return!0;const t=this.knownSites.find(r=>r.name===this.selectedLocation);if(!t)return!1;const o=t.zones&&t.zones.length>0,i=t.samplePoints&&t.samplePoints.length>0;return"Ramsar"===this.selectedLocation||"Grand Anse"===this.selectedLocation?!(!this.zoneNumber||!this.quadNumber):"Caiman"===this.selectedLocation||"Canopy"===this.selectedLocation?!!this.quadNumber:"Petit Barbarons"===this.selectedLocation?!!this.zoneNumber:o&&i?!(!this.zoneNumber||!this.quadNumber):o?!!this.zoneNumber:i?!!this.quadNumber:"Ramsar"===this.selectedLocation||"Grand Anse"===this.selectedLocation?!(!this.zoneNumber||!this.quadNumber):"Caiman"===this.selectedLocation||"Canopy"===this.selectedLocation?!!this.quadNumber:"Petit Barbarons"===this.selectedLocation?!!this.zoneNumber:o&&i?!(!this.zoneNumber||!this.quadNumber):o?!!this.zoneNumber:!i||!!this.quadNumber}openMapModal(){this.isMapModalOpen=!0}closeMapModal(){this.isMapModalOpen=!1}startAssessment(){var t=this;return(0,_.A)(function*(){const o="new"===t.selectedLocation?t.newSiteName:t.selectedLocation;if(o){if(t.selectedOngoingProject)return void t.router.navigate(["/restoration"],{queryParams:{location:o,zone:t.zoneNumber,quad:t.quadNumber,projectKey:t.selectedOngoingProject}});const i={location:o,zoneNumber:t.zoneNumber,quadNumber:t.quadNumber};if(yield t.restorationSyncService.loadDraft(i)){let l=o;t.zoneNumber&&(l+=` - Zone ${t.zoneNumber}`),t.quadNumber&&(l+=` - Quad ${t.quadNumber}`),yield(yield t.alertController.create({header:t.ts.t("Draft Found for This Location"),message:`${t.ts.t("You have an unfinished draft for")} ${l}. ${t.ts.t("What would you like to do?")}`,buttons:[{text:t.ts.t("Keep editing previous draft"),handler:()=>{t.router.navigate(["/restoration"],{queryParams:{location:o,zone:t.zoneNumber,quad:t.quadNumber}})}},{text:t.ts.t("Start New (deletes existing draft)"),handler:(g=(0,_.A)(function*(){yield t.restorationSyncService.clearDraft(i),t.router.navigate(["/restoration"],{queryParams:{location:o,zone:t.zoneNumber,quad:t.quadNumber,fresh:"true"}})}),function(){return g.apply(this,arguments)})},{text:t.ts.t("Cancel"),role:"cancel"}]})).present()}else t.router.navigate(["/restoration"],{queryParams:{location:o,zone:t.zoneNumber,quad:t.quadNumber}})}var g})()}loadDynamicSites(){var t=this;return(0,_.A)(function*(){try{(yield t.siteSyncService.getAllSites()).forEach(i=>{const r={name:i.name,mapPath:i.map_path||i.site_photo||"assets/maps/generic_map.jpg",zones:i.zones||[],samplePoints:i.sample_points||[],description:i.description||""};t.knownSites.some(l=>l.name===i.name)||t.knownSites.push(r)})}catch(o){console.error("Error loading dynamic sites:",o)}})()}captureGPSCoordinates(){var t=this;return(0,_.A)(function*(){try{const o=yield v.L.getCurrentPosition();t.gpsCoordinates={latitude:o.coords.latitude,longitude:o.coords.longitude}}catch(o){console.error("Error getting GPS coordinates:",o),yield(yield t.alertController.create({header:t.ts.t("GPS Error"),message:t.ts.t("Could not get GPS coordinates. Please ensure location services are enabled."),buttons:["OK"]})).present()}})()}captureSitePhoto(){var t=this;return(0,_.A)(function*(){try{const o=yield t.photoService.TakePicture(),r=yield(yield fetch(o)).blob(),l=new File([r],"site_photo.jpg",{type:"image/jpeg"}),m=t.newSiteName.trim().replace(/\s+/g,"_"),g=new Date,h=`site-photos/${m}_photo_${String(g.getDate()).padStart(2,"0")}${String(g.getMonth()+1).padStart(2,"0")}${g.getFullYear()}.jpg`,{error:P}=yield t.supabase.getClient().storage.from("site-images").upload(h,l);if(P)throw P;const{data:{publicUrl:M}}=t.supabase.getClient().storage.from("site-images").getPublicUrl(h);t.sitePhoto=M,console.log("Site photo uploaded:",M)}catch(o){console.error("Error capturing photo:",o),yield(yield t.alertController.create({header:t.ts.t("Camera Error"),message:t.ts.t("Failed to capture photo. Please try again."),buttons:["OK"]})).present()}})()}uploadSiteMap(){var t=this;return(0,_.A)(function*(){const o=document.createElement("input");o.type="file",o.accept="image/png,image/jpeg,image/jpg",o.onchange=function(){var i=(0,_.A)(function*(r){const l=r.target.files[0];if(l)try{console.log("\u{1f4c1} File selected for upload:",l.name,`Size: ${(l.size/1048576).toFixed(2)}MB`),console.log("\u{1f5dc}\ufe0f Compressing uploaded image...");const m=yield t.imageCompression.compressFile(l),g=l.size,x=m.size,u=t.imageCompression.getCompressionPercentage(g,x);console.log(`\u{1f5dc}\ufe0f Image compressed: ${(g/1048576).toFixed(2)}MB \u2192 ${(x/1048576).toFixed(2)}MB (${u}% reduction)`);const h=m.name.split(".").pop(),P=t.newSiteName.trim().replace(/\s+/g,"_"),M=new Date,G=`site-maps/${P}_map_${String(M.getDate()).padStart(2,"0")}${String(M.getMonth()+1).padStart(2,"0")}${M.getFullYear()}.${h}`,{error:L}=yield t.supabase.getClient().storage.from("site-images").upload(G,m);if(L)throw L;const{data:{publicUrl:z}}=t.supabase.getClient().storage.from("site-images").getPublicUrl(G);t.siteMap=z,console.log("Site map uploaded:",z)}catch(m){console.error("Error uploading site map:",m),yield(yield t.alertController.create({header:t.ts.t("Upload Failed"),message:t.ts.t("Failed to upload site map. Please try again."),buttons:["OK"]})).present()}});return function(r){return i.apply(this,arguments)}}(),o.click()})()}removeSitePhoto(){this.sitePhoto=null}removeSiteMap(){this.siteMap=null}calculateSpeciesCount(t){const o=t.form||t,i=o.outplanting||[],r=o.seedCollection||[],l=o.seedsSowed||[],m=o.averageHeight||[],g=o.mortality||[];let x=0;for(let u=0;u<Math.max(i.length,r.length,l.length,m.length,g.length);u++){const h=i[u]&&i[u]>0,P=r[u]&&r[u]>0,M=l[u]&&l[u]>0,O=m[u]&&parseFloat(m[u])>0;(h||P||M||O||g[u]&&g[u]>0)&&x++}return x}loadOngoingProjects(){var t=this;return(0,_.A)(function*(){try{const o=yield t.restorationSyncService.getAllReports(),i=new Map;o.filter(r=>!1!==r.is_ongoing).forEach(r=>{const l=r.project_key||r.report.reportId;(!i.has(l)||(r.sequence_number||1)>(i.get(l).sequence_number||1))&&i.set(l,r)}),t.ongoingProjects=Array.from(i.values()).map(r=>{const l=r.report||r;return{project_key:r.project_key||l.reportId,location:l.form?.site||l.site||"Unknown",zoneNumber:l.form?.zoneNumber||"",quadNumber:l.form?.quadNumber||"",initialDate:l.form?.date||l.date||l.createdAt,lastUpdate:r.createdAt||l.createdAt,checkInCount:r.sequence_number||1,speciesCount:t.calculateSpeciesCount(l),lastReport:r}}),t.ongoingProjects.sort((r,l)=>new Date(l.lastUpdate).getTime()-new Date(r.lastUpdate).getTime()),console.log("Loaded ongoing projects:",t.ongoingProjects)}catch(o){console.error("Error loading ongoing projects:",o),t.ongoingProjects=[]}})()}toggleProjectSelection(t,o){this.selectedOngoingProject===t&&(o.preventDefault(),o.stopPropagation(),setTimeout(()=>{this.selectedOngoingProject=null,this.clearProjectSelection()},0))}onProjectSelected(){if(this.selectedOngoingProject){this.isUpdatingProject=!0;const t=this.ongoingProjects.find(o=>o.project_key===this.selectedOngoingProject);if(t){if(this.selectedLocation=t.location,this.onLocationChange(),this.zoneNumber=t.zoneNumber,this.quadNumber=t.quadNumber,t.zoneNumber&&this.currentZones.length>0){const o=this.currentZones.find(i=>i.name===`Zone ${t.zoneNumber}`||i.id===`zone${t.zoneNumber}`);o&&(this.selectedZone=o.id)}console.log("Selected project for update:",t)}}else this.clearProjectSelection()}clearProjectSelection(){this.selectedOngoingProject=null,this.isUpdatingProject=!1,this.selectedLocation="",this.showMap=!1,this.currentMapPath="",this.zoneNumber="",this.quadNumber="",this.selectedZone="",this.currentZones=[],this.currentSamplePoints=[]}viewProjectHistory(t,o){o.stopPropagation(),this.alertController.create({header:this.ts.t("Project History"),message:`${this.ts.t("View full history for project at")} ${t.location}. ${this.ts.t("This feature will show all")} ${t.checkInCount} ${this.ts.t("check-ins chronologically.")}`,buttons:["OK"]}).then(i=>i.present())}submitNewSite(){var t=this;return(0,_.A)(function*(){if(t.newSiteName.trim())if(t.gpsCoordinates)if(yield t.siteSyncService.siteExists(t.newSiteName.trim()))yield(yield t.alertController.create({header:t.ts.t("Site Already Exists"),message:t.ts.t("A site with this name already exists. Please choose a different name."),buttons:["OK"]})).present();else try{const i=t.auth.getCurrentUser()||{email:"unknown",level:1,organization:"unknown"},r={name:t.newSiteName.trim(),description:t.newSiteDescription.trim(),gps_latitude:t.gpsCoordinates?.latitude,gps_longitude:t.gpsCoordinates?.longitude,added_by:i.email||"unknown",map_path:t.siteMap||t.sitePhoto||"assets/maps/generic_map.jpg",site_photo:t.sitePhoto||void 0,site_map:t.siteMap||void 0};yield t.siteSyncService.addNewSite(r),t.knownSites.push({name:r.name,mapPath:r.map_path,zones:[],samplePoints:[]}),t.newSiteName="",t.newSiteDescription="",t.gpsCoordinates=null,t.sitePhoto=null,t.siteMap=null,t.showNewSiteForm=!1;let g="";g=(i.level||1)>=4?`The site "${r.name}" has been added and will be available to all users.`:`The site "${r.name}" has been added locally. Permission request has been submitted and will be reviewed by an administrator.`,yield(yield t.alertController.create({header:t.ts.t("Site Added Successfully"),message:g,buttons:["OK"]})).present(),t.selectedLocation=r.name,t.onLocationChange()}catch(i){console.error("Error adding new site:",i),yield(yield t.alertController.create({header:t.ts.t("Error"),message:t.ts.t("Failed to add the new site. Please try again."),buttons:["OK"]})).present()}else yield(yield t.alertController.create({header:t.ts.t("GPS Required"),message:t.ts.t("GPS coordinates are required for new sites. Please capture GPS coordinates first."),buttons:["OK"]})).present()})()}isL4User(){return this.currentUser&&this.currentUser.level>=4}canEditSelectedSite(){return this.isL4User()&&!!this.selectedLocation}startEditSite(){if(!this.canEditSelectedSite())return;const t=this.knownSites.find(o=>o.name===this.selectedLocation);t&&(this.isEditingSite=!0,this.editingSiteOriginalName=t.name,this.editSiteName=t.name,this.editSiteDescription=t.description||"",this.editGpsCoordinates=t.gpsCoordinates||null,this.editSitePhoto=null,this.editSiteMap=null,this.loadSiteMediaForEdit(t.name))}loadSiteMediaForEdit(t){var o=this;return(0,_.A)(function*(){try{const r=(yield o.siteSyncService.getAllSites()).find(l=>l.name===t);r&&(o.editSitePhoto=r.site_photo||null,o.editSiteMap=r.site_map||r.map_path||null)}catch(i){console.error("Error loading site media for edit:",i)}})()}cancelEditSite(){this.isEditingSite=!1,this.editSiteName="",this.editSiteDescription="",this.editGpsCoordinates=null,this.editSitePhoto=null,this.editSiteMap=null,this.editingSiteOriginalName=""}captureEditGPS(){var t=this;return(0,_.A)(function*(){try{const o=yield v.L.getCurrentPosition();t.editGpsCoordinates={latitude:o.coords.latitude,longitude:o.coords.longitude}}catch(o){console.error("Error getting GPS coordinates:",o),yield(yield t.alertController.create({header:t.ts.t("GPS Error"),message:t.ts.t("Could not get GPS coordinates. Please ensure location services are enabled."),buttons:["OK"]})).present()}})()}captureEditSitePhoto(){var t=this;return(0,_.A)(function*(){try{const o=yield t.photoService.TakePicture(),r=yield(yield fetch(o)).blob(),l=new File([r],"site_photo.jpg",{type:"image/jpeg"}),m=t.editSiteName.trim().replace(/\s+/g,"_"),g=new Date,h=`site-photos/${m}_photo_${String(g.getDate()).padStart(2,"0")}${String(g.getMonth()+1).padStart(2,"0")}${g.getFullYear()}.jpg`,{error:P}=yield t.supabase.getClient().storage.from("site-images").upload(h,l);if(P)throw P;const{data:{publicUrl:M}}=t.supabase.getClient().storage.from("site-images").getPublicUrl(h);t.editSitePhoto=M}catch(o){console.error("Error capturing photo:",o),yield(yield t.alertController.create({header:t.ts.t("Camera Error"),message:t.ts.t("Failed to capture photo. Please try again."),buttons:["OK"]})).present()}})()}uploadEditSiteMap(){var t=this;return(0,_.A)(function*(){const o=document.createElement("input");o.type="file",o.accept="image/png,image/jpeg,image/jpg",o.onchange=function(){var i=(0,_.A)(function*(r){const l=r.target.files[0];if(l)try{const m=yield t.imageCompression.compressFile(l),g=m.name.split(".").pop(),h=`site-maps/${t.editSiteName.trim().replace(/\s+/g,"_")}_map_${Date.now()}.${g}`,{error:P}=yield t.supabase.getClient().storage.from("site-images").upload(h,m);if(P)throw P;const{data:{publicUrl:M}}=t.supabase.getClient().storage.from("site-images").getPublicUrl(h);t.editSiteMap=M}catch(m){console.error("Error uploading site map:",m),yield(yield t.alertController.create({header:t.ts.t("Upload Failed"),message:t.ts.t("Failed to upload site map. Please try again."),buttons:["OK"]})).present()}});return function(r){return i.apply(this,arguments)}}(),o.click()})()}removeEditSitePhoto(){this.editSitePhoto=null}removeEditSiteMap(){this.editSiteMap=null}saveEditSite(){var t=this;return(0,_.A)(function*(){if(t.editSiteName.trim())try{const o={name:t.editSiteName.trim(),description:t.editSiteDescription.trim()};t.editGpsCoordinates&&(o.gps_latitude=t.editGpsCoordinates.latitude,o.gps_longitude=t.editGpsCoordinates.longitude),t.editSitePhoto&&(o.site_photo=t.editSitePhoto),t.editSiteMap&&(o.site_map=t.editSiteMap,o.map_path=t.editSiteMap),yield t.siteSyncService.updateSite(t.editingSiteOriginalName,o);const i=t.knownSites.findIndex(l=>l.name===t.editingSiteOriginalName);-1!==i&&(t.knownSites[i]={...t.knownSites[i],name:t.editSiteName.trim(),description:t.editSiteDescription.trim(),mapPath:t.editSiteMap||t.knownSites[i].mapPath,gpsCoordinates:t.editGpsCoordinates||t.knownSites[i].gpsCoordinates}),t.editingSiteOriginalName!==t.editSiteName.trim()&&(t.selectedLocation=t.editSiteName.trim()),t.selectedSiteDescription=t.editSiteDescription.trim(),t.editSiteMap&&(t.currentMapPath=t.editSiteMap),t.cancelEditSite(),yield(yield t.alertController.create({header:t.ts.t("Site Updated"),message:t.ts.t("The site information has been updated successfully."),buttons:["OK"]})).present()}catch(o){console.error("Error updating site:",o),yield(yield t.alertController.create({header:t.ts.t("Update Failed"),message:t.ts.t("Failed to update site. Please try again."),buttons:["OK"]})).present()}else yield(yield t.alertController.create({header:t.ts.t("Name Required"),message:t.ts.t("Site name is required."),buttons:["OK"]})).present()})()}deleteEditSite(){var t=this;return(0,_.A)(function*(){var i;yield(yield t.alertController.create({header:t.ts.t("Delete Site"),message:`${t.ts.t("Are you sure you want to delete")} "${t.editingSiteOriginalName}"? ${t.ts.t("This action cannot be undone.")}`,buttons:[{text:t.ts.t("Cancel"),role:"cancel"},{text:t.ts.t("Delete"),role:"destructive",handler:(i=(0,_.A)(function*(){try{yield t.siteSyncService.deleteSite(t.editingSiteOriginalName),t.knownSites=t.knownSites.filter(l=>l.name!==t.editingSiteOriginalName),t.selectedLocation===t.editingSiteOriginalName&&(t.selectedLocation="",t.selectedSiteDescription="",t.currentMapPath=""),t.cancelEditSite(),yield(yield t.alertController.create({header:t.ts.t("Site Deleted"),message:t.ts.t("The site has been deleted successfully."),buttons:["OK"]})).present()}catch(r){console.error("Error deleting site:",r),yield(yield t.alertController.create({header:t.ts.t("Delete Failed"),message:t.ts.t("Failed to delete site. Please try again."),buttons:["OK"]})).present()}}),function(){return i.apply(this,arguments)})}]})).present()})()}static#e=a=()=>(this.\u0275fac=function(o){return new(o||s)(e.rXU(F.Ix),e.rXU(d.W3),e.rXU(d.hG),e.rXU($.OD),e.rXU(E.T),e.rXU(Z.k),e.rXU(q.N),e.rXU(D.L),e.rXU(X.I),e.rXU(Y.L),e.rXU(B.L))},this.\u0275cmp=e.VBU({type:s,selectors:[["app-location-restoration"]],standalone:!1,decls:37,vars:30,consts:[[1,"location-selection-bg",3,"fullscreen"],[1,"page-header","emerald-gradient"],[1,"header-content"],["name","chevron-back",1,"back-icon",3,"click"],["name","location-outline",1,"page-icon"],[1,"header-text"],["class","selection-section","style","margin-bottom:-20px !important;",4,"ngIf"],["class","or-divider",4,"ngIf"],[1,"selection-section",2,"margin-top","-20px !important"],[1,"selection-card"],[1,"card-title"],[1,"card-subtitle"],["lines","none",1,"location-select-item"],["labelPlacement","floating","interface","popover",3,"ngModelChange","ionChange","label","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["value","new"],["slot","helper","class","locked-note",4,"ngIf"],["class","map-section",4,"ngIf"],["class","instructions-section",4,"ngIf"],["cssClass","fullscreen-map-modal",3,"didDismiss","isOpen"],[1,"selection-section",2,"margin-bottom","-20px !important"],[1,"ongoing-projects-card"],["name","leaf-outline",1,"title-icon"],[3,"ngModelChange","ionChange","ngModel"],["lines","full","class","project-item",4,"ngFor","ngForOf"],["lines","full",1,"project-item"],["slot","start",3,"click","value"],[1,"project-dates"],["name","calendar-outline","size","small"],[1,"separator"],[1,"project-details"],[1,"coastal-badge"],["class","species-info",4,"ngIf"],["slot","end","fill","clear","size","small",1,"history-btn",3,"click"],["name","time-outline","slot","icon-only"],[1,"species-info"],["name","flower-outline","size","small"],[1,"or-divider"],[3,"value"],["slot","helper",1,"locked-note"],["name","lock-closed-outline","size","small"],[1,"map-section"],[1,"details-card"],[1,"details-title"],["lines","none",1,"detail-input-item"],["labelPlacement","floating",3,"ngModelChange","label","ngModel","placeholder"],["expand","block",1,"gps-button",3,"click"],["name","location-outline","slot","start"],[1,"button-row"],["size","6"],["expand","block",1,"coastal-blue-button",3,"click"],["name","camera-outline","slot","start"],["name","map-outline","slot","start"],["class","photo-preview",4,"ngIf"],["class","map-preview",4,"ngIf"],["expand","block",1,"add-site-button",3,"click","disabled"],["name","add-circle-outline","slot","start"],[1,"photo-preview"],["alt","Site photo",1,"preview-image",3,"src"],["fill","clear","color","danger",3,"click"],["name","trash-outline","slot","icon-only"],[1,"map-preview"],["alt","Site map",1,"preview-image",3,"src"],[1,"edit-header"],["color","warning"],["expand","block","color","medium",3,"click"],["name","close-outline","slot","start"],["expand","block",1,"start-button",3,"click","disabled"],["name","checkmark-outline","slot","start"],[1,"button-row","delete-row"],["size","12"],["expand","block","fill","outline","color","danger",3,"click"],["name","trash-outline","slot","start"],["class","map-hint",4,"ngIf"],["class","admin-edit-button",4,"ngIf"],[1,"map-card"],[1,"map-content"],[1,"map-expand-button",3,"click"],["name","expand-outline"],[3,"mapImagePath","zones","samplePoints","selectedZones","zoneSelected","samplePointSelected",4,"ngIf"],[3,"mapImagePath","samplePoints","selectedSamplePoints","samplePointSelected",4,"ngIf"],[3,"mapImagePath","zones","samplePoints","selectedZones","selectedSamplePoints","zoneSelected","samplePointSelected",4,"ngIf"],[3,"mapImagePath","zones","selectedZones","zoneSelected",4,"ngIf"],["class","site-map",3,"src","alt",4,"ngIf"],["class","details-title",4,"ngIf"],["lines","none","class","detail-input-item",3,"disabled-item",4,"ngIf"],["lines","none","class","detail-input-item",4,"ngIf"],["class","selection-warning",4,"ngIf"],["name","clipboard-outline","slot","start"],[1,"map-hint"],["name","hand-left-outline"],[4,"ngIf"],[1,"admin-edit-button"],["size","small","fill","outline","color","warning",3,"click"],["name","pencil-outline","slot","start"],[3,"zoneSelected","samplePointSelected","mapImagePath","zones","samplePoints","selectedZones"],[3,"samplePointSelected","mapImagePath","samplePoints","selectedSamplePoints"],[3,"zoneSelected","samplePointSelected","mapImagePath","zones","samplePoints","selectedZones","selectedSamplePoints"],[3,"zoneSelected","mapImagePath","zones","selectedZones"],[1,"site-map",3,"src","alt"],["labelPlacement","floating",3,"ngModelChange","label","ngModel","placeholder","disabled"],["labelPlacement","floating",3,"ngModelChange","ionInput","label","ngModel","placeholder","disabled"],["position","stacked",1,"ion-text-wrap"],[1,"site-description"],[1,"selection-warning"],["name","alert-circle-outline"],[1,"instructions-section"],[1,"info-card"],[1,"info-header"],["name","information-circle-outline",1,"info-icon"],[1,"green-text"],[1,"map-modal-toolbar"],["slot","end"],[3,"click"],["name","close","slot","icon-only"],[1,"map-modal-content"],[1,"fullscreen-map-container"],[1,"rotation-hint"],["name","phone-portrait-outline"],["class","fullscreen-map",3,"mapImagePath","zones","samplePoints","selectedZones","selectedSamplePoints","zoneSelected","samplePointSelected",4,"ngIf"],["class","fullscreen-map",3,"mapImagePath","samplePoints","selectedSamplePoints","samplePointSelected",4,"ngIf"],["class","fullscreen-map",3,"mapImagePath","zones","selectedZones","zoneSelected",4,"ngIf"],["class","fullscreen-map","appPinchZoom","",3,"src","alt",4,"ngIf"],[1,"fullscreen-map",3,"zoneSelected","samplePointSelected","mapImagePath","zones","samplePoints","selectedZones","selectedSamplePoints"],[1,"fullscreen-map",3,"samplePointSelected","mapImagePath","samplePoints","selectedSamplePoints"],[1,"fullscreen-map",3,"zoneSelected","mapImagePath","zones","selectedZones"],["appPinchZoom","",1,"fullscreen-map",3,"src","alt"]],template:function(o,i){1&o&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-icon",3),e.bIt("click",function(){return i.goBack()}),e.k0s(),e.nrm(4,"ion-icon",4),e.j41(5,"div",5)(6,"h1"),e.EFF(7),e.nI1(8,"t"),e.k0s(),e.j41(9,"p"),e.EFF(10),e.nI1(11,"t"),e.k0s()()()(),e.DNE(12,K,14,8,"div",6)(13,Q,4,3,"div",7),e.j41(14,"div",8)(15,"ion-card",9)(16,"ion-card-content")(17,"h3",10),e.EFF(18),e.nI1(19,"t"),e.k0s(),e.j41(20,"p",11),e.EFF(21),e.nI1(22,"t"),e.k0s(),e.j41(23,"ion-item",12)(24,"ion-select",13),e.nI1(25,"t"),e.mxI("ngModelChange",function(l){return e.DH7(i.selectedLocation,l)||(i.selectedLocation=l),l}),e.bIt("ionChange",function(){return i.onLocationChange()}),e.DNE(26,H,2,2,"ion-select-option",14),e.j41(27,"ion-select-option",15),e.EFF(28),e.nI1(29,"t"),e.k0s()(),e.DNE(30,W,4,4,"ion-note",16),e.k0s()()()(),e.DNE(31,ne,42,41,"div",17)(32,ae,58,48,"div",17)(33,Se,24,17,"div",17)(34,ve,25,21,"div",18),e.j41(35,"ion-modal",19),e.bIt("didDismiss",function(){return i.closeMapModal()}),e.DNE(36,Ge,20,13,"ng-template"),e.k0s()()),2&o&&(e.Y8G("fullscreen",!0),e.R7$(7),e.JRh(e.bMT(8,18,"Select Location")),e.R7$(3),e.JRh(e.bMT(11,20,"Choose a site to begin assessment")),e.R7$(2),e.Y8G("ngIf",i.ongoingProjects.length>0),e.R7$(),e.Y8G("ngIf",i.ongoingProjects.length>0),e.R7$(5),e.JRh(e.bMT(19,22,"Start New Restoration Monitoring Activity")),e.R7$(3),e.JRh(e.bMT(22,24,"Select a known site or create a new one")),e.R7$(3),e.Y8G("label",e.bMT(25,26,"Choose Location")),e.R50("ngModel",i.selectedLocation),e.Y8G("disabled",!!i.selectedOngoingProject),e.R7$(2),e.Y8G("ngForOf",i.knownSites),e.R7$(2),e.SpI("\u2795 ",e.bMT(29,28,"New Site")),e.R7$(2),e.Y8G("ngIf",i.selectedOngoingProject),e.R7$(),e.Y8G("ngIf",i.showNewSiteForm),e.R7$(),e.Y8G("ngIf",i.isEditingSite),e.R7$(),e.Y8G("ngIf",i.showMap&&!i.isEditingSite),e.R7$(),e.Y8G("ngIf",!i.showMap&&!i.showNewSiteForm&&!i.selectedLocation),e.R7$(),e.Y8G("isOpen",i.isMapModalOpen))},dependencies:[b.Sq,b.bT,C.BC,C.vS,d.In,d.Jm,d.QW,d.b_,d.I9,d.ME,d.HW,d.tN,d.hU,d.W9,d.eU,d.iq,d.$w,d.uz,d.he,d.nf,d.JI,d.KO,d.f0,d.ln,d.Nm,d.Ip,d.BC,d.ai,d.Sb,d.Je,d.Gw,V.h,j.P,R.x,I.m,k.f,w.k,b.vh,A.D],styles:['@charset "UTF-8";.location-selection-bg[_ngcontent-%COMP%]{--background: #ffffff}.page-header[_ngcontent-%COMP%]{padding:1.25rem;box-shadow:0 2px 8px #52a67626;color:#fff}.page-header.emerald-gradient[_ngcontent-%COMP%]{background:#2d8659}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{font-size:1.5rem;cursor:pointer;transition:transform .2s}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]:hover{transform:translate(-4px)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-icon[_ngcontent-%COMP%]{font-size:1.75rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{flex:1}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0 0 .25rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;margin:0;opacity:.9}.selection-section[_ngcontent-%COMP%]{padding:1.25rem 1.25rem 1rem}.selection-section[_ngcontent-%COMP%]   .selection-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 6px #0000001a;margin:0}.selection-section[_ngcontent-%COMP%]   .selection-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:1.25rem}.selection-section[_ngcontent-%COMP%]   .selection-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2d8659;margin:0 0 .4rem}.selection-section[_ngcontent-%COMP%]   .selection-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.8rem;color:#6b7c7a;margin:0 0 1.25rem}.selection-section[_ngcontent-%COMP%]   .selection-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .location-select-item[_ngcontent-%COMP%]{--background: #ffffff;--border-radius: .75rem;--padding-start: 1rem;--padding-end: 1rem;--min-height: 48px;border:2px solid #4fb3bf;border-radius:.75rem;margin:0;display:flex;align-items:center}.selection-section[_ngcontent-%COMP%]   .selection-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .location-select-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--padding-top: 0;--padding-bottom: 0;font-weight:500;color:#0d3d2f;width:100%}.map-section[_ngcontent-%COMP%]{padding:0 1.25rem 1.25rem}.map-section[_ngcontent-%COMP%]   .map-hint[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;background:linear-gradient(135deg,#52a676,#459465);color:#fff;padding:.75rem 1.5rem;border-radius:2rem;margin:0 auto 1rem;max-width:fit-content;box-shadow:0 2px 8px #52a6764d;font-weight:500;font-size:.9rem}.map-section[_ngcontent-%COMP%]   .map-hint[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem}.map-section[_ngcontent-%COMP%]   .map-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 6px #0000001a;margin:0 0 1rem;overflow:hidden;transition:all .3s ease}.map-section[_ngcontent-%COMP%]   .map-card[_ngcontent-%COMP%]   .map-content[_ngcontent-%COMP%]{padding:0;position:relative}.map-section[_ngcontent-%COMP%]   .map-card[_ngcontent-%COMP%]   .map-expand-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem;background:#4fb3bff2;color:#fff;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #0003;z-index:10;cursor:pointer;transition:all .2s ease}.map-section[_ngcontent-%COMP%]   .map-card[_ngcontent-%COMP%]   .map-expand-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.map-section[_ngcontent-%COMP%]   .map-card[_ngcontent-%COMP%]   .map-expand-button[_ngcontent-%COMP%]:hover{background:#4fb3bf;transform:scale(1.1)}.map-section[_ngcontent-%COMP%]   .map-card[_ngcontent-%COMP%]   .map-expand-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.map-section[_ngcontent-%COMP%]   .map-card[_ngcontent-%COMP%]   .site-map[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.details-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 6px #0000001a;margin:0}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:1.25rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#0d3d2f;margin:0 0 1rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .site-description[_ngcontent-%COMP%]{color:#475569;font-size:.95rem;line-height:1.5;margin:0;padding:.5rem 0}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .detail-input-item[_ngcontent-%COMP%]{--background: #ffffff;--border-radius: .75rem;--padding-start: 1rem;--padding-end: 1rem;margin-bottom:1rem;border:1px solid #e0e0e0;border-radius:.75rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .detail-input-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-top: .5rem;--padding-bottom: .5rem;font-weight:500;color:#0d3d2f}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .detail-input-item[_ngcontent-%COMP%]   .zone-display[_ngcontent-%COMP%]{padding:.25rem 0;margin-top:-.25rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .detail-input-item[_ngcontent-%COMP%]   .zone-display[_ngcontent-%COMP%]   .zone-name[_ngcontent-%COMP%]{font-size:.85rem;color:#0d3d2f;font-weight:600;background:#0d3d2f1a;padding:.25rem .5rem;border-radius:.25rem;display:inline-block}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .detail-input-item[_ngcontent-%COMP%]   .quad-display[_ngcontent-%COMP%]{padding:.25rem 0;margin-top:-.25rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .detail-input-item[_ngcontent-%COMP%]   .quad-display[_ngcontent-%COMP%]   .quad-name[_ngcontent-%COMP%]{font-size:.85rem;color:#0d3d2f;font-weight:600;background:#0d3d2f1a;padding:.25rem .5rem;border-radius:.25rem;display:inline-block}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .selection-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;background:#ffc1071a;border:1px solid rgba(255,193,7,.5);border-radius:.5rem;margin:.5rem 0;color:#856404;font-size:.9rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .selection-warning[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem;flex-shrink:0}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .gps-button[_ngcontent-%COMP%]{--background: #e76f51;--border-radius: .75rem;font-weight:600;text-transform:none;margin-top:.5rem;margin-bottom:.5rem;height:3rem;font-size:.9rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .gps-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .gps-button[_ngcontent-%COMP%]:hover{--background: #d55a3c}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .add-site-button[_ngcontent-%COMP%]{--background: #2d8659;--border-radius: .75rem;font-weight:600;text-transform:none;margin-top:.5rem;height:3rem;font-size:.9rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .add-site-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .add-site-button[_ngcontent-%COMP%]:hover{--background: #246d49}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .coastal-blue-button[_ngcontent-%COMP%]{--background: #4fb3bf;--border-radius: .75rem;font-weight:600;text-transform:none;height:3rem;font-size:.9rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .coastal-blue-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .coastal-blue-button[_ngcontent-%COMP%]:hover{--background: #3d919c}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .start-button[_ngcontent-%COMP%]{--background: var(--fresh-leaf, #52a676);--border-radius: .75rem;font-weight:600;text-transform:none;margin-top:.5rem;height:3rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .start-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem}.details-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .start-button[_ngcontent-%COMP%]:disabled{--background: #cccccc;opacity:.5}.instructions-section[_ngcontent-%COMP%]{padding:0 1.25rem 1.5rem}.instructions-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{border-radius:1rem;background:#4fb3bf1a;border:2px solid rgba(79,179,191,.3);box-shadow:none;margin:0}.instructions-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:1.25rem}.instructions-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:.75rem}.instructions-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:#4fb3bf;flex-shrink:0}.instructions-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#0d3d2f;margin:0}.instructions-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;text-align:left}.instructions-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#0d3d2f;font-size:.875rem;position:relative;padding:.4rem 0 .4rem 1.5rem}.instructions-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";color:#4fb3bf;font-weight:700;font-size:1.5rem;position:absolute;left:0;top:.25rem}.instructions-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d8659;font-weight:600}.instructions-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong.green-text[_ngcontent-%COMP%]{color:#2d8659}.map-modal-toolbar[_ngcontent-%COMP%]{--background: var(--fresh-leaf, #52a676);--color: white}.map-modal-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-weight:600}.map-modal-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: white}.map-modal-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.map-modal-content[_ngcontent-%COMP%]{--background: #0d3d2f}.map-modal-content[_ngcontent-%COMP%]   .fullscreen-map-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.5rem;overflow:auto}.map-modal-content[_ngcontent-%COMP%]   .fullscreen-map-container[_ngcontent-%COMP%]   .rotation-hint[_ngcontent-%COMP%]{display:none;align-items:center;gap:.5rem;color:#fffc;font-size:.875rem;margin-bottom:.75rem;font-style:italic}.map-modal-content[_ngcontent-%COMP%]   .fullscreen-map-container[_ngcontent-%COMP%]   .rotation-hint[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem}@media screen and (max-width: 768px) and (orientation: portrait){.map-modal-content[_ngcontent-%COMP%]   .fullscreen-map-container[_ngcontent-%COMP%]   .rotation-hint[_ngcontent-%COMP%]{display:flex}}.map-modal-content[_ngcontent-%COMP%]   .fullscreen-map-container[_ngcontent-%COMP%]   .fullscreen-map[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain;border-radius:.5rem;box-shadow:0 8px 24px #0000004d;touch-action:none;user-select:none;-webkit-user-select:none}@media screen and (orientation: landscape){.map-modal-content[_ngcontent-%COMP%]   .fullscreen-map-container[_ngcontent-%COMP%]   .fullscreen-map[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 60px)}}@media screen and (orientation: portrait){.map-modal-content[_ngcontent-%COMP%]   .fullscreen-map-container[_ngcontent-%COMP%]   .fullscreen-map[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 60px)}}.disabled-item[_ngcontent-%COMP%]{opacity:.6}.disabled-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--color: #999;--placeholder-color: #bbb}.add-site-button[_ngcontent-%COMP%]{--background: var(--fresh-leaf, #52a676);--background-hover: #459562;--background-activated: #3d7f54;margin-bottom:.5rem}.add-site-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:.5rem}.admin-edit-button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:.75rem}.admin-edit-button[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: .5rem;font-size:.85rem;font-weight:500;text-transform:none}.edit-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem}.edit-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{margin:0!important}.edit-header[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.25rem .5rem}.button-row[_ngcontent-%COMP%]{margin-top:.75rem}.delete-row[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1rem;border-top:1px solid #eee}.photo-preview[_ngcontent-%COMP%], .map-preview[_ngcontent-%COMP%]{position:relative;margin-top:10px;text-align:center}.photo-preview[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%], .map-preview[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{max-width:100%;max-height:200px;border-radius:8px;box-shadow:0 2px 8px #0000001a}.photo-preview[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%], .map-preview[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;--background: rgba(255, 255, 255, .9);--color: #eb445a;--border-radius: 50%;width:36px;height:36px}.photo-preview[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .map-preview[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.ongoing-projects-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 6px #0000001a;margin:0;border-left:4px solid #2d8659}.ongoing-projects-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#0d3d2f;margin:0;display:flex;align-items:center;gap:.5rem}.ongoing-projects-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{color:#2d8659;font-size:1.1rem}.ongoing-projects-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.8rem;color:#6b7c7a;margin:.25rem 0 0}@media (max-width: 374px){.ongoing-projects-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:10px 12px 8px}.ongoing-projects-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.95rem;gap:.35rem}.ongoing-projects-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.72rem}}@media (max-width: 320px){.ongoing-projects-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:8px 10px 6px}.ongoing-projects-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.85rem;gap:.25rem}.ongoing-projects-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.65rem}}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]{--background: #f8faf9;--border-radius: .75rem;margin-bottom:.75rem;border-radius:.75rem}@media (max-width: 374px){.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]{--padding-start: 8px;--inner-padding-end: 4px;margin-bottom:.5rem}}@media (max-width: 320px){.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]{--padding-start: 4px;--inner-padding-end: 2px;margin-bottom:.35rem}}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{--color: #4fb3bf;--color-checked: #4fb3bf}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .history-btn[_ngcontent-%COMP%]{--color: #2d8659}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .history-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#2d8659}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;color:#0d3d2f;font-size:.9rem;margin-bottom:3px}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .project-dates[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7c7a;display:flex;align-items:center;gap:4px;margin:0}@media (max-width: 767px){.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .project-dates[_ngcontent-%COMP%]{flex-wrap:wrap}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .project-dates[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:none}}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .project-dates[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.85rem;color:#2d8659}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .project-dates[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 4px;color:#ccc}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .project-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:4px}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .project-details[_ngcontent-%COMP%]   .coastal-badge[_ngcontent-%COMP%]{background-color:#4fb3bf;color:#fff;font-size:.7rem}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .project-details[_ngcontent-%COMP%]   .species-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.8rem;color:#6b7c7a}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .project-details[_ngcontent-%COMP%]   .species-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.85rem;color:#2d8659}@media (max-width: 320px){.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .project-details[_ngcontent-%COMP%]{gap:4px}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .project-details[_ngcontent-%COMP%]   .coastal-badge[_ngcontent-%COMP%]{font-size:.6rem;padding:2px 4px}.ongoing-projects-card[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .project-details[_ngcontent-%COMP%]   .species-info[_ngcontent-%COMP%]{font-size:.7rem;white-space:nowrap;gap:2px}}.ongoing-projects-card[_ngcontent-%COMP%]   .clear-selection-btn[_ngcontent-%COMP%]{margin-top:1rem;--background: #52a676}.mode-divider[_ngcontent-%COMP%]{margin:1rem 0;--background: #f5f5f5}.mode-divider[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.9rem;font-weight:600;color:#2d8659;margin:0}.mode-divider[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.1rem}.mode-divider[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;color:#666;margin:.25rem 0 0}.locked-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;color:#e76f51;font-size:.75rem;margin-top:.5rem}.locked-note[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#e76f51}.or-divider[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1.5rem;margin:.5rem 0}.or-divider[_ngcontent-%COMP%]:before, .or-divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#ddd}.or-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 1rem;font-size:.75rem;font-weight:600;color:#999;text-transform:uppercase;letter-spacing:.5px}']}))}return a(),s})()}];let ze=(()=>{var a;class s{static#e=a=()=>(this.\u0275fac=function(o){return new(o||s)},this.\u0275mod=e.$C({type:s}),this.\u0275inj=c.G2t({imports:[S.iI.forChild(Le),S.iI]}))}return a(),s})();var Te=p(4670);let Fe=(()=>{var a;class s{static#e=a=()=>(this.\u0275fac=function(o){return new(o||s)},this.\u0275mod=e.$C({type:s}),this.\u0275inj=c.G2t({imports:[b.MD,C.YN,d.bv,ze,j.P,R.x,I.m,k.f,w.k,Te.k]}))}return a(),s})()}}]);