"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485(u,M,o){o.d(M,{LoginPageModule:()=>R});var p=o(2200),m=o(4341),s=o(7343),d=o(8132),l=o(467),n=o(3664),f=o(3205),P=o(5921),h=o(6845),b=o(7314);const C=()=>({standalone:!0});function v(r,i){if(1&r&&(n.j41(0,"div",32),n.nrm(1,"ion-icon",33),n.EFF(2),n.k0s()),2&r){const _=n.XpG();n.R7$(2),n.SpI(" ",_.errorMessage," ")}}function k(r,i){1&r&&n.nrm(0,"ion-spinner",34)}function w(r,i){1&r&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"t"),n.k0s()),2&r&&(n.R7$(),n.JRh(n.bMT(2,1,"Sign In")))}function L(r,i){if(1&r&&(n.j41(0,"div",35),n.EFF(1),n.k0s()),2&r){const _=n.XpG();n.R7$(),n.SpI(" v",_.appVersion," ")}}let I=(()=>{var r;class i{constructor(t,g,e){this.auth=t,this.router=g,this.ts=e,this.username="",this.password="",this.errorMessage="",this.isLoading=!1,this.showPassword=!1,this.appVersion=""}ngOnInit(){var t=this;return(0,l.A)(function*(){t.auth.isAuthenticated()&&t.router.navigate(["/home"]),yield t.loadAppVersion()})()}login(){var t=this;return(0,l.A)(function*(){if(t.errorMessage="",!t.username||!t.password)return void(t.errorMessage="Please enter username and password");t.isLoading=!0,console.log("Login: Attempting login for user:",t.username);const g=yield t.auth.login(t.username,t.password);t.isLoading=!1,console.log("Login: Result:",g),g.success?(console.log("Login: Successful, navigating to home"),t.router.navigate(["/home"])):(console.error("Login: Failed with error:",g.error),t.errorMessage=g.error||"Login failed")})()}goToRegister(){this.router.navigate(["/register"])}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleLanguage(){const t="en"===this.ts.getLanguage()?"kr":"en";this.ts.setLanguage(t)}loadAppVersion(){var t=this;return(0,l.A)(function*(){try{const{CapacitorUpdater:g}=yield Promise.resolve().then(o.bind(o,2327)),a=(yield g.current())?.bundle?.version;if(a&&"builtin"!==a&&""!==a)return void(t.appVersion=a);const{App:c}=yield Promise.resolve().then(o.bind(o,8941)),E=yield c.getInfo();t.appVersion=E.version}catch{try{const a=yield(yield fetch("assets/package.json")).json();t.appVersion=a.version}catch(e){console.error("Failed to load version from assets/package.json",e)}}})()}static#n=r=()=>(this.\u0275fac=function(g){return new(g||i)(n.rXU(f.N),n.rXU(P.Ix),n.rXU(h.L))},this.\u0275cmp=n.VBU({type:i,selectors:[["app-login"]],standalone:!1,decls:70,vars:51,consts:[[1,"login-bg",3,"fullscreen"],[1,"login-header"],[1,"logo-container"],["src","assets/icon.png","alt","LEAP Logo",1,"leap-logo-large"],[1,"lang-toggle-container"],[1,"lang-toggle",3,"click"],[1,"login-form"],[1,"login-card"],[1,"form-title"],["lines","none",1,"input-item"],["labelPlacement","floating","type","text",3,"ngModelChange","ionInput","keyup.enter","label","ngModel","ngModelOptions","placeholder"],["lines","none",1,"input-item","password-item"],["labelPlacement","floating",3,"ngModelChange","keyup.enter","label","type","ngModel","ngModelOptions","placeholder"],["fill","clear","slot","end",1,"password-toggle",3,"click"],[3,"name"],["class","error-message",4,"ngIf"],["expand","block",1,"login-btn",3,"click","disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],[1,"register-card"],[1,"register-text"],["expand","block","fill","outline",1,"register-btn",3,"click"],[1,"levels-info"],[1,"level-badges"],[1,"level-badge","l1"],[1,"badge-icon"],[1,"level-badge","l2"],[1,"level-badge","l3"],[1,"level-badge","l4"],[1,"logo-strip-footer"],["src","assets/logostrip.png","alt","Partner Logos",1,"logo-strip-image"],["class","app-version",4,"ngIf"],[1,"error-message"],["name","alert-circle"],["name","crescent"],[1,"app-version"]],template:function(g,e){1&g&&(n.j41(0,"ion-content",0)(1,"div",1)(2,"div",2),n.nrm(3,"img",3),n.k0s(),n.j41(4,"div",4)(5,"span",5),n.bIt("click",function(){return e.toggleLanguage()}),n.EFF(6),n.k0s()(),n.j41(7,"h1"),n.EFF(8,"WETSAPP"),n.k0s()(),n.j41(9,"div",6)(10,"ion-card",7)(11,"ion-card-content")(12,"h3",8),n.EFF(13),n.nI1(14,"t"),n.k0s(),n.j41(15,"ion-item",9)(16,"ion-input",10),n.nI1(17,"t"),n.nI1(18,"t"),n.mxI("ngModelChange",function(c){return n.DH7(e.username,c)||(e.username=c),c}),n.bIt("ionInput",function(){return e.username=(null==e.username?null:e.username.toLowerCase())||""})("keyup.enter",function(){return e.login()}),n.k0s()(),n.j41(19,"ion-item",11)(20,"ion-input",12),n.nI1(21,"t"),n.nI1(22,"t"),n.mxI("ngModelChange",function(c){return n.DH7(e.password,c)||(e.password=c),c}),n.bIt("keyup.enter",function(){return e.login()}),n.k0s(),n.j41(23,"ion-button",13),n.bIt("click",function(){return e.togglePasswordVisibility()}),n.nrm(24,"ion-icon",14),n.k0s()(),n.DNE(25,v,3,1,"div",15),n.j41(26,"ion-button",16),n.bIt("click",function(){return e.login()}),n.DNE(27,k,1,0,"ion-spinner",17)(28,w,3,3,"span",18),n.k0s()()(),n.j41(29,"ion-card",19)(30,"ion-card-content")(31,"p",20),n.EFF(32),n.nI1(33,"t"),n.k0s(),n.j41(34,"ion-button",21),n.bIt("click",function(){return e.goToRegister()}),n.EFF(35),n.nI1(36,"t"),n.k0s()()(),n.nrm(37,"br"),n.j41(38,"div",22)(39,"h4"),n.EFF(40),n.nI1(41,"t"),n.k0s(),n.j41(42,"div",23)(43,"div",24)(44,"div",25),n.EFF(45,"L1"),n.k0s(),n.j41(46,"span"),n.EFF(47),n.nI1(48,"t"),n.k0s()(),n.j41(49,"div",26)(50,"div",25),n.EFF(51,"L2"),n.k0s(),n.j41(52,"span"),n.EFF(53),n.nI1(54,"t"),n.k0s()(),n.j41(55,"div",27)(56,"div",25),n.EFF(57,"L3"),n.k0s(),n.j41(58,"span"),n.EFF(59),n.nI1(60,"t"),n.k0s()(),n.j41(61,"div",28)(62,"div",25),n.EFF(63,"L4"),n.k0s(),n.j41(64,"span"),n.EFF(65),n.nI1(66,"t"),n.k0s()()()()(),n.j41(67,"div",29),n.nrm(68,"img",30),n.k0s(),n.DNE(69,L,2,1,"div",31),n.k0s()),2&g&&(n.Y8G("fullscreen",!0),n.R7$(6),n.SpI(" ","en"===e.ts.getLanguage()?"KR":"EN"," "),n.R7$(7),n.JRh(n.bMT(14,25,"Sign In")),n.R7$(3),n.Y8G("label",n.bMT(17,27,"Username")),n.R50("ngModel",e.username),n.Y8G("ngModelOptions",n.lJ4(49,C))("placeholder",n.bMT(18,29,"Enter username")),n.R7$(4),n.Y8G("label",n.bMT(21,31,"Password"))("type",e.showPassword?"text":"password"),n.R50("ngModel",e.password),n.Y8G("ngModelOptions",n.lJ4(50,C))("placeholder",n.bMT(22,33,"Enter password")),n.R7$(4),n.Y8G("name",e.showPassword?"eye-off-outline":"eye-outline"),n.R7$(),n.Y8G("ngIf",e.errorMessage),n.R7$(),n.Y8G("disabled",e.isLoading),n.R7$(),n.Y8G("ngIf",e.isLoading),n.R7$(),n.Y8G("ngIf",!e.isLoading),n.R7$(4),n.JRh(n.bMT(33,35,"Don't have an account?")),n.R7$(3),n.SpI(" ",n.bMT(36,37,"Register New Account")," "),n.R7$(5),n.JRh(n.bMT(41,39,"Access Levels")),n.R7$(7),n.JRh(n.bMT(48,41,"School Clubs")),n.R7$(6),n.JRh(n.bMT(54,43,"Conservation Partners")),n.R7$(6),n.JRh(n.bMT(60,45,"Superusers")),n.R7$(6),n.JRh(n.bMT(66,47,"Admins")),n.R7$(4),n.Y8G("ngIf",e.appVersion))},dependencies:[p.bT,m.BC,m.vS,s.Jm,s.b_,s.I9,s.W9,s.iq,s.$w,s.uz,s.w2,s.Gw,b.D],styles:[".login-bg[_ngcontent-%COMP%]{--background: url(background.17cdbce2f06ecc96.webp) no-repeat center center / cover}.login-header[_ngcontent-%COMP%]{text-align:center;padding:3rem 1.5rem 2rem;color:#fff;position:relative}.login-header[_ngcontent-%COMP%]   .lang-toggle-container[_ngcontent-%COMP%]{position:absolute;top:calc(1rem + 15px);right:1.5rem}.login-header[_ngcontent-%COMP%]   .lang-toggle-container[_ngcontent-%COMP%]   .lang-toggle[_ngcontent-%COMP%]{font-size:.7rem;font-weight:700;cursor:pointer;background:#ffffff40;padding:.3rem .6rem;border-radius:.5rem;letter-spacing:.5px;transition:background .2s;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.login-header[_ngcontent-%COMP%]   .lang-toggle-container[_ngcontent-%COMP%]   .lang-toggle[_ngcontent-%COMP%]:hover{background:#fff6}.login-header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .leap-logo-large[_ngcontent-%COMP%]{width:130px!important;height:130px!important;border-radius:28px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .app-text[_ngcontent-%COMP%]{font-size:80%}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;margin:.5rem 0 0;opacity:.95}.login-form[_ngcontent-%COMP%]{padding:0 1.5rem}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{border-radius:1.5rem;box-shadow:0 8px 16px #0003;margin-bottom:2rem}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:2rem}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;font-weight:600;color:#0d3d2f;margin:0 0 1.5rem}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{--background: #ffffff;--border-radius: .75rem;--padding-start: 1rem;--padding-end: 1rem;margin-bottom:1rem;border:1px solid #f5f0e8;border-radius:.75rem}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-top: .5rem;--padding-bottom: .5rem}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item.password-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-end: 2.75rem}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item.password-item[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:5px;top:50%;transform:translateY(-50%);margin:0;height:2.25rem;width:2.25rem;--padding-start: 0;--padding-end: 0;z-index:10}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item.password-item[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:#6b7c7a;transition:color .2s ease}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item.password-item[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#4fb3bf}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#fef2f2;border:1px solid #fecaca;border-radius:.5rem;padding:.75rem;margin:1rem 0;color:#dc2626;font-size:.875rem}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{--background: #2d8659;--border-radius: .75rem;height:3rem;font-size:1.125rem;font-weight:600;margin-top:1rem;box-shadow:0 2px 8px #2d865940;transition:all .3s ease}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover{--background: #236e48;box-shadow:0 4px 12px #2d865959}.levels-info[_ngcontent-%COMP%]{background:#fffffff2;border-radius:1.5rem;padding:1.5rem;margin-bottom:2rem;box-shadow:0 4px 8px #0000001a}.levels-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:1.125rem;font-weight:600;color:#0d3d2f;margin:0 0 1rem}.levels-info[_ngcontent-%COMP%]   .level-badges[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:.75rem}.levels-info[_ngcontent-%COMP%]   .level-badges[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]{flex:1;text-align:center}.levels-info[_ngcontent-%COMP%]   .level-badges[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto .5rem;font-weight:700;font-size:1.125rem;color:#fff}.levels-info[_ngcontent-%COMP%]   .level-badges[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#6b7c7a;font-weight:500}.levels-info[_ngcontent-%COMP%]   .level-badges[_ngcontent-%COMP%]   .level-badge.l1[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{background:#e76f51}.levels-info[_ngcontent-%COMP%]   .level-badges[_ngcontent-%COMP%]   .level-badge.l2[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{background:#4fb3bf}.levels-info[_ngcontent-%COMP%]   .level-badges[_ngcontent-%COMP%]   .level-badge.l3[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{background:#52a676}.levels-info[_ngcontent-%COMP%]   .level-badges[_ngcontent-%COMP%]   .level-badge.l4[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{background:#2d8659;box-shadow:0 2px 8px #2d86594d}.register-card[_ngcontent-%COMP%]{border-radius:1.5rem;box-shadow:0 4px 8px #0000001a}.register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:1.5rem}.register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .register-text[_ngcontent-%COMP%]{text-align:center;color:#6b7c7a;margin:0 0 1rem;font-size:.875rem}.register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]{--border-color: #4fb3bf;--color: #4fb3bf;--border-width: 2px;height:3rem;font-weight:600;background:#fff;transition:all .3s ease}.register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]:hover{--background: #4fb3bf;--color: #ffffff}@media (max-width: 399px){.login-header[_ngcontent-%COMP%]{padding:2rem 1rem 1.5rem}.login-header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .leap-logo-large[_ngcontent-%COMP%]{width:72px;height:72px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem}.login-form[_ngcontent-%COMP%]{padding:0 1rem}.login-form[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:1.25rem}.levels-info[_ngcontent-%COMP%]{padding:1rem .75rem}.levels-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.75rem}.levels-info[_ngcontent-%COMP%]   .level-badges[_ngcontent-%COMP%]{gap:.25rem}.levels-info[_ngcontent-%COMP%]   .level-badges[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{width:2.25rem;height:2.25rem;font-size:.875rem;margin-bottom:.35rem}.levels-info[_ngcontent-%COMP%]   .level-badges[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.625rem}}.logo-strip-footer[_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem 2rem}.logo-strip-footer[_ngcontent-%COMP%]   .logo-strip-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;border-radius:1.5rem;object-fit:contain;padding:5px 0;background:#fff}.app-version[_ngcontent-%COMP%]{text-align:center;color:#ffffffb3;font-size:.75rem;padding:.5rem 0 3rem;position:relative;bottom:0;width:100%}"]}))}return r(),i})();var O=o(2615);const y=[{path:"",component:I}];let x=(()=>{var r;class i{static#n=r=()=>(this.\u0275fac=function(g){return new(g||i)},this.\u0275mod=n.$C({type:i}),this.\u0275inj=O.G2t({imports:[d.iI.forChild(y),d.iI]}))}return r(),i})();var F=o(4670);let R=(()=>{var r;class i{static#n=r=()=>(this.\u0275fac=function(g){return new(g||i)},this.\u0275mod=n.$C({type:i}),this.\u0275inj=O.G2t({imports:[p.MD,m.YN,s.bv,x,F.k]}))}return r(),i})()},4670(u,M,o){o.d(M,{k:()=>s});var p=o(2615),m=o(3664);let s=(()=>{var d;class l{static#n=d=()=>(this.\u0275fac=function(P){return new(P||l)},this.\u0275mod=m.$C({type:l}),this.\u0275inj=p.G2t({}))}return d(),l})()},7314(u,M,o){o.d(M,{D:()=>s});var p=o(3664),m=o(6845);let s=(()=>{var d;class l{constructor(f){this.translationService=f}transform(f){return this.translationService.t(f)}static#n=d=()=>(this.\u0275fac=function(P){return new(P||l)(p.rXU(m.L,16))},this.\u0275pipe=p.EJ8({name:"t",type:l,pure:!1}))}return d(),l})()}}]);