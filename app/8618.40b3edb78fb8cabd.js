"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8618],{8618(I,p,c){c.d(p,{RegisterPageModule:()=>D});var f=c(2200),d=c(4341),s=c(7343),_=c(8132),P=c(467),e=c(3664),M=c(3205),C=c(5921);const l=()=>({standalone:!0});function h(r,i){if(1&r&&(e.j41(0,"div",29),e.nrm(1,"ion-icon",30),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&r){const m=e.XpG();e.R7$(3),e.JRh(m.levelNoticeText)}}function O(r,i){if(1&r&&(e.j41(0,"div",31),e.nrm(1,"ion-icon",32),e.EFF(2),e.k0s()),2&r){const m=e.XpG();e.R7$(2),e.SpI(" ",m.errorMessage," ")}}function b(r,i){if(1&r&&(e.j41(0,"div",33),e.nrm(1,"ion-icon",34),e.EFF(2),e.k0s()),2&r){const m=e.XpG();e.R7$(2),e.SpI(" ",m.successMessage," ")}}function w(r,i){1&r&&e.nrm(0,"ion-spinner",35)}function k(r,i){1&r&&(e.j41(0,"span"),e.EFF(1,"Create Account"),e.k0s())}let v=(()=>{var r;class i{constructor(t,g){this.auth=t,this.router=g,this.formData={username:"",email:"",password:"",confirmPassword:"",level:1,organization:""},this.errorMessage="",this.successMessage="",this.isLoading=!1,this.showLevelNotice=!1,this.levelNoticeText="",this.showPassword=!1,this.showConfirmPassword=!1}ngOnInit(){}register(){var t=this;return(0,P.A)(function*(){if(t.errorMessage="",t.successMessage="",!(t.formData.username&&t.formData.email&&t.formData.password&&t.formData.confirmPassword))return void(t.errorMessage="Please fill in all required fields");if(!t.formData.level)return void(t.errorMessage="Please select an access level");t.isLoading=!0;const g=yield t.auth.register(t.formData);if(t.isLoading=!1,g.success){const n=t.formData.level;t.successMessage=2===n||3===n||4===n?"Account created! Admin approval email sent. You can login now with L1 access while approval is pending.":"Account created successfully! Redirecting to login...",t.formData={username:"",email:"",password:"",confirmPassword:"",level:1,organization:""},setTimeout(()=>{t.router.navigate(["/login"])},2===n||3===n||4===n?3e3:2e3)}else t.errorMessage=g.error||"Registration failed"})()}onLevelChange(){if(1===this.formData.level)this.showLevelNotice=!0,this.levelNoticeText="L1 access is granted immediately upon registration.";else if(2===this.formData.level||3===this.formData.level||4===this.formData.level){this.showLevelNotice=!0;let t="L2 - Conservation Partner";3===this.formData.level?t="L3 - Superuser":4===this.formData.level&&(t="L4 - Admin"),this.levelNoticeText=`${t} access requires admin approval. An email will be automatically sent to the admin. You can login with L1 access while approval is pending.`}else this.showLevelNotice=!1}goBack(){this.router.navigate(["/login"])}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}static#e=r=()=>(this.\u0275fac=function(g){return new(g||i)(e.rXU(M.N),e.rXU(C.Ix))},this.\u0275cmp=e.VBU({type:i,selectors:[["app-register"]],standalone:!1,decls:46,vars:29,consts:[[1,"register-bg",3,"fullscreen"],[1,"register-header"],[1,"header-top"],["name","chevron-back",1,"back-icon",3,"click"],[1,"register-form"],[1,"register-card"],[1,"form-title"],["lines","none",1,"input-item"],["label","Username","labelPlacement","floating","type","text","name","username","placeholder","Choose a username",3,"ngModelChange","ionInput","keyup.enter","ngModel","ngModelOptions"],["label","Email","labelPlacement","floating","type","email","name","email","placeholder","Enter your email",3,"ngModelChange","keyup.enter","ngModel","ngModelOptions"],["lines","none",1,"input-item","password-item"],["label","Password","labelPlacement","floating","name","password","placeholder","Create a password (min 6 chars)",3,"ngModelChange","keyup.enter","type","ngModel","ngModelOptions"],["fill","clear","slot","end",1,"password-toggle",3,"click"],[3,"name"],["label","Confirm Password","labelPlacement","floating","name","confirmPassword","placeholder","Confirm your password",3,"ngModelChange","keyup.enter","type","ngModel","ngModelOptions"],["label","Access Level","labelPlacement","floating","name","level","placeholder","Select your access level","interface","popover",3,"ngModelChange","ionChange","ngModel","ngModelOptions"],["value","1"],["value","2"],["value","3"],["value","4"],["class","info-message",4,"ngIf"],["label","Organization (Optional)","labelPlacement","floating","type","text","name","organization","placeholder","School or organization name",3,"ngModelChange","keyup.enter","ngModel","ngModelOptions"],["class","error-message",4,"ngIf"],["class","success-message",4,"ngIf"],["expand","block",1,"register-btn",3,"click","disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],[1,"back-to-login"],["fill","clear","size","small",3,"click"],[1,"info-message"],["name","information-circle"],[1,"error-message"],["name","alert-circle"],[1,"success-message"],["name","checkmark-circle"],["name","crescent"]],template:function(g,n){1&g&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-icon",3),e.bIt("click",function(){return n.goBack()}),e.k0s(),e.j41(4,"h1"),e.EFF(5,"Create Account"),e.k0s()(),e.j41(6,"h2"),e.EFF(7,"Join LEAP Wetland Monitoring"),e.k0s()(),e.j41(8,"div",4)(9,"ion-card",5)(10,"ion-card-content")(11,"h3",6),e.EFF(12,"Register New Account"),e.k0s(),e.j41(13,"ion-item",7)(14,"ion-input",8),e.mxI("ngModelChange",function(o){return e.DH7(n.formData.username,o)||(n.formData.username=o),o}),e.bIt("ionInput",function(){return n.formData.username=(null==n.formData.username?null:n.formData.username.toLowerCase())||""})("keyup.enter",function(){return n.register()}),e.k0s()(),e.j41(15,"ion-item",7)(16,"ion-input",9),e.mxI("ngModelChange",function(o){return e.DH7(n.formData.email,o)||(n.formData.email=o),o}),e.bIt("keyup.enter",function(){return n.register()}),e.k0s()(),e.j41(17,"ion-item",10)(18,"ion-input",11),e.mxI("ngModelChange",function(o){return e.DH7(n.formData.password,o)||(n.formData.password=o),o}),e.bIt("keyup.enter",function(){return n.register()}),e.k0s(),e.j41(19,"ion-button",12),e.bIt("click",function(){return n.togglePasswordVisibility()}),e.nrm(20,"ion-icon",13),e.k0s()(),e.j41(21,"ion-item",10)(22,"ion-input",14),e.mxI("ngModelChange",function(o){return e.DH7(n.formData.confirmPassword,o)||(n.formData.confirmPassword=o),o}),e.bIt("keyup.enter",function(){return n.register()}),e.k0s(),e.j41(23,"ion-button",12),e.bIt("click",function(){return n.toggleConfirmPasswordVisibility()}),e.nrm(24,"ion-icon",13),e.k0s()(),e.j41(25,"ion-item",7)(26,"ion-select",15),e.mxI("ngModelChange",function(o){return e.DH7(n.formData.level,o)||(n.formData.level=o),o}),e.bIt("ionChange",function(){return n.onLevelChange()}),e.j41(27,"ion-select-option",16),e.EFF(28,"L1 - School Club"),e.k0s(),e.j41(29,"ion-select-option",17),e.EFF(30,"L2 - Conservation Partner"),e.k0s(),e.j41(31,"ion-select-option",18),e.EFF(32,"L3 - Superuser"),e.k0s(),e.j41(33,"ion-select-option",19),e.EFF(34,"L4 - Admin"),e.k0s()()(),e.DNE(35,h,4,1,"div",20),e.j41(36,"ion-item",7)(37,"ion-input",21),e.mxI("ngModelChange",function(o){return e.DH7(n.formData.organization,o)||(n.formData.organization=o),o}),e.bIt("keyup.enter",function(){return n.register()}),e.k0s()(),e.DNE(38,O,3,1,"div",22)(39,b,3,1,"div",23),e.j41(40,"ion-button",24),e.bIt("click",function(){return n.register()}),e.DNE(41,w,1,0,"ion-spinner",25)(42,k,2,0,"span",26),e.k0s(),e.j41(43,"div",27)(44,"ion-button",28),e.bIt("click",function(){return n.goBack()}),e.EFF(45," Back to Login "),e.k0s()()()()()()),2&g&&(e.Y8G("fullscreen",!0),e.R7$(14),e.R50("ngModel",n.formData.username),e.Y8G("ngModelOptions",e.lJ4(23,l)),e.R7$(2),e.R50("ngModel",n.formData.email),e.Y8G("ngModelOptions",e.lJ4(24,l)),e.R7$(2),e.Y8G("type",n.showPassword?"text":"password"),e.R50("ngModel",n.formData.password),e.Y8G("ngModelOptions",e.lJ4(25,l)),e.R7$(2),e.Y8G("name",n.showPassword?"eye-off-outline":"eye-outline"),e.R7$(2),e.Y8G("type",n.showConfirmPassword?"text":"password"),e.R50("ngModel",n.formData.confirmPassword),e.Y8G("ngModelOptions",e.lJ4(26,l)),e.R7$(2),e.Y8G("name",n.showConfirmPassword?"eye-off-outline":"eye-outline"),e.R7$(2),e.R50("ngModel",n.formData.level),e.Y8G("ngModelOptions",e.lJ4(27,l)),e.R7$(9),e.Y8G("ngIf",n.showLevelNotice),e.R7$(2),e.R50("ngModel",n.formData.organization),e.Y8G("ngModelOptions",e.lJ4(28,l)),e.R7$(),e.Y8G("ngIf",n.errorMessage),e.R7$(),e.Y8G("ngIf",n.successMessage),e.R7$(),e.Y8G("disabled",n.isLoading),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(),e.Y8G("ngIf",!n.isLoading))},dependencies:[f.bT,d.BC,d.vS,s.Jm,s.b_,s.I9,s.W9,s.iq,s.$w,s.uz,s.Nm,s.Ip,s.w2,s.Je,s.Gw],styles:[".register-bg[_ngcontent-%COMP%]{--background: #4fb3bf}.register-header[_ngcontent-%COMP%]{color:#fff;padding:2rem 1.5rem 1.5rem}.register-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.register-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{font-size:1.75rem;cursor:pointer;transition:transform .2s}.register-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]:hover{transform:translate(-4px)}.register-header[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0}.register-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:300;margin:0;opacity:.95}.register-form[_ngcontent-%COMP%]{padding:0 1.5rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]{border-radius:1.5rem;box-shadow:0 8px 16px #0003}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:2rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;font-weight:600;color:#0d3d2f;margin:0 0 1.5rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{--background: #ffffff;--border-radius: .75rem;--padding-start: 1rem;--padding-end: 1rem;margin-bottom:1rem;border:1px solid #f5f0e8;border-radius:.75rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--padding-top: .5rem;--padding-bottom: .5rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item.password-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-end: 2.75rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item.password-item[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:5px;top:50%;transform:translateY(-50%);margin:0;height:2.25rem;width:2.25rem;--padding-start: 0;--padding-end: 0;z-index:10}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item.password-item[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:#6b7c7a;transition:color .2s ease}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .input-item.password-item[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#4fb3bf}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#fef2f2;border:1px solid #fecaca;border-radius:.5rem;padding:.75rem;margin:1rem 0;color:#dc2626;font-size:.875rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#e8f5ed;border:1px solid #52a676;border-radius:.5rem;padding:.75rem;margin:1rem 0;color:#2d8659;font-size:.875rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#e8f2f1;border:1px solid #7fa9a3;border-radius:.5rem;padding:.75rem;margin:1rem 0;color:#1a3a1a;font-size:.875rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem;flex-shrink:0}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]{--background: #2d8659;--border-radius: .75rem;height:3rem;font-size:1.125rem;font-weight:600;margin-top:1rem;box-shadow:0 2px 8px #2d865940;transition:all .3s ease}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]:hover{--background: #236e48;box-shadow:0 4px 12px #2d865959}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .back-to-login[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.register-form[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .back-to-login[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: #6b7c7a;font-size:.875rem}"]}))}return r(),i})();var u=c(2615);const R=[{path:"",component:v}];let y=(()=>{var r;class i{static#e=r=()=>(this.\u0275fac=function(g){return new(g||i)},this.\u0275mod=e.$C({type:i}),this.\u0275inj=u.G2t({imports:[_.iI.forChild(R),_.iI]}))}return r(),i})(),D=(()=>{var r;class i{static#e=r=()=>(this.\u0275fac=function(g){return new(g||i)},this.\u0275mod=e.$C({type:i}),this.\u0275inj=u.G2t({imports:[f.MD,d.YN,s.bv,y]}))}return r(),i})()}}]);