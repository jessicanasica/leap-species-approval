"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2924],{2924(m,l,a){a.d(l,{PreferencesWeb:()=>p});var s=a(467),c=a(5083);class p extends c.WebPlugin{constructor(){super(...arguments),this.group="CapacitorStorage"}configure(e){var t=this;return(0,s.A)(function*({group:r}){"string"==typeof r&&(t.group=r)}).apply(this,arguments)}get(e){var t=this;return(0,s.A)(function*(){return{value:t.impl.getItem(t.applyPrefix(e.key))}})()}set(e){var t=this;return(0,s.A)(function*(){t.impl.setItem(t.applyPrefix(e.key),e.value)})()}remove(e){var t=this;return(0,s.A)(function*(){t.impl.removeItem(t.applyPrefix(e.key))})()}keys(){var e=this;return(0,s.A)(function*(){return{keys:e.rawKeys().map(r=>r.substring(e.prefix.length))}})()}clear(){var e=this;return(0,s.A)(function*(){for(const t of e.rawKeys())e.impl.removeItem(t)})()}migrate(){var e=this;return(0,s.A)(function*(){var t;const r=[],i=[],f=Object.keys(e.impl).filter(n=>0===n.indexOf("_cap_"));for(const n of f){const o=n.substring(5),_=null!==(t=e.impl.getItem(n))&&void 0!==t?t:"",{value:h}=yield e.get({key:o});"string"==typeof h?i.push(o):(yield e.set({key:o,value:_}),r.push(o))}return{migrated:r,existing:i}})()}removeOld(){var e=this;return(0,s.A)(function*(){const r=Object.keys(e.impl).filter(i=>0===i.indexOf("_cap_"));for(const i of r)e.impl.removeItem(i)})()}get impl(){return window.localStorage}get prefix(){return"NativeStorage"===this.group?"":`${this.group}.`}rawKeys(){return Object.keys(this.impl).filter(e=>0===e.indexOf(this.prefix))}applyPrefix(e){return this.prefix+e}}}}]);