"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6524],{152(x,E,b){b.d(E,{B:()=>F});var v=b(8839),T=b(9974),g=b(4360);function F(h,D=v.E){return(0,T.N)((e,n)=>{let P=null,w=null,c=null;const p=()=>{if(P){P.unsubscribe(),P=null;const d=w;w=null,n.next(d)}};function u(){const d=c+h,k=D.now();if(k<d)return P=this.schedule(void 0,d-k),void n.add(P);p()}e.subscribe((0,g._)(n,d=>{w=d,c=D.now(),P||(P=D.schedule(u,h),n.add(P))},()=>{p(),n.complete()},void 0,()=>{w=P=null}))})}},4670(x,E,b){b.d(E,{k:()=>g});var v=b(2615),T=b(3664);let g=(()=>{var F;class h{static#e=F=()=>(this.\u0275fac=function(n){return new(n||h)},this.\u0275mod=T.$C({type:h}),this.\u0275inj=v.G2t({}))}return F(),h})()},6524(x,E,b){b.d(E,{CleanupPageModule:()=>Te});var v=b(2200),T=b(4341),g=b(7343),F=b(8132),h=b(467),D=b(152),e=b(3664),n=b(2615),P=b(5921),w=b(3205),c=b(7522),p=b(918),u=b(9187),d=b(7643),k=b(6845),I=b(7314);function $(l,m){if(1&l){const s=e.RV6();e.j41(0,"span",117),e.bIt("click",function(){n.eBV(s),e.XpG();const r=e.sdS(15);return n.Njj(r.showPicker())}),e.EFF(1),e.k0s()}if(2&l){const s=e.XpG();e.R7$(),e.JRh(s.currentDateDisplay)}}function B(l,m){if(1&l&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&l){const s=e.XpG();e.R7$(),e.JRh(s.currentDateDisplay)}}function W(l,m){if(1&l){const s=e.RV6();e.j41(0,"span",117),e.bIt("click",function(){n.eBV(s),e.XpG();const r=e.sdS(17);return n.Njj(r.showPicker())}),e.EFF(1),e.k0s()}if(2&l){const s=e.XpG();e.R7$(),e.JRh(s.currentTimeDisplay)}}function A(l,m){if(1&l&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&l){const s=e.XpG();e.R7$(),e.JRh(s.currentTimeDisplay)}}function O(l,m){if(1&l&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&l){const s=e.XpG();e.R7$(),e.SpI(" (edited: ",s.getEditedDateTime(),")")}}function V(l,m){1&l&&e.nrm(0,"ion-icon",118)}function G(l,m){if(1&l){const s=e.RV6();e.j41(0,"div",13),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(!r.viewMode&&r.editZone())}),e.nrm(1,"ion-icon",119),e.j41(2,"span",15),e.EFF(3),e.k0s()()}if(2&l){let s;const t=e.XpG();e.R7$(3),e.JRh(t.getZoneName(null==(s=t.cleanupForm.get("zoneNumber"))?null:s.value))}}function S(l,m){if(1&l){const s=e.RV6();e.j41(0,"div",13),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(!r.viewMode&&r.editQuad())}),e.nrm(1,"ion-icon",120),e.j41(2,"span",15),e.EFF(3),e.k0s()()}if(2&l){let s;const t=e.XpG();e.R7$(3),e.SpI("Quad ",t.getQuadDisplay(null==(s=t.cleanupForm.get("quadNumber"))?null:s.value))}}function J(l,m){if(1&l){const s=e.RV6();e.j41(0,"span",121),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.editLocationAdmin())}),e.EFF(1),e.nI1(2,"t"),e.k0s()}2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Edit location")," "))}function z(l,m){1&l&&(e.j41(0,"ion-error",122),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Location is required")," "))}function L(l,m){if(1&l){const s=e.RV6();e.j41(0,"div",123)(1,"ion-button",124),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.enableEditMode())}),e.nrm(2,"ion-icon",125),e.EFF(3),e.nI1(4,"t"),e.k0s()()}2&l&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Edit This Entry")," "))}function U(l,m){1&l&&(e.j41(0,"div",126),e.nrm(1,"ion-icon",127),e.j41(2,"span"),e.EFF(3),e.nI1(4,"t"),e.k0s()()),2&l&&(e.R7$(3),e.JRh(e.bMT(4,1,"Editing Entry - Changes will replace the original submission")))}function X(l,m){1&l&&e.nrm(0,"ion-icon",128)}function Y(l,m){1&l&&e.nrm(0,"ion-icon",129)}function q(l,m){1&l&&(e.j41(0,"ion-error"),e.EFF(1),e.nI1(2,"t"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Team name is required")," "))}function Q(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.decrementTally("juicePackets"))}),e.nrm(1,"ion-icon",39),e.k0s()}}function K(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.incrementTally("juicePackets"))}),e.nrm(1,"ion-icon",41),e.k0s()}}function Z(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.decrementTally("cigaretteButts"))}),e.nrm(1,"ion-icon",39),e.k0s()}}function H(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.incrementTally("cigaretteButts"))}),e.nrm(1,"ion-icon",41),e.k0s()}}function ee(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.decrementTally("foodWrappers"))}),e.nrm(1,"ion-icon",39),e.k0s()}}function te(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.incrementTally("foodWrappers"))}),e.nrm(1,"ion-icon",41),e.k0s()}}function ne(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.decrementTally("takeAwayContainers"))}),e.nrm(1,"ion-icon",39),e.k0s()}}function oe(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.incrementTally("takeAwayContainers"))}),e.nrm(1,"ion-icon",41),e.k0s()}}function ie(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.decrementTally("lids"))}),e.nrm(1,"ion-icon",39),e.k0s()}}function re(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.incrementTally("lids"))}),e.nrm(1,"ion-icon",41),e.k0s()}}function ae(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.decrementTally("bottleCaps"))}),e.nrm(1,"ion-icon",39),e.k0s()}}function le(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.incrementTally("bottleCaps"))}),e.nrm(1,"ion-icon",41),e.k0s()}}function se(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.decrementTally("beverageBottles"))}),e.nrm(1,"ion-icon",39),e.k0s()}}function ce(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.incrementTally("beverageBottles"))}),e.nrm(1,"ion-icon",41),e.k0s()}}function ue(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.decrementTally("straws"))}),e.nrm(1,"ion-icon",39),e.k0s()}}function de(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.incrementTally("straws"))}),e.nrm(1,"ion-icon",41),e.k0s()}}function me(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.decrementTally("forksKnivesSpoons"))}),e.nrm(1,"ion-icon",39),e.k0s()}}function pe(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.incrementTally("forksKnivesSpoons"))}),e.nrm(1,"ion-icon",41),e.k0s()}}function _e(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.decrementTally("bags"))}),e.nrm(1,"ion-icon",39),e.k0s()}}function be(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.incrementTally("bags"))}),e.nrm(1,"ion-icon",41),e.k0s()}}function ge(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.decrementTally("cupsPlates"))}),e.nrm(1,"ion-icon",39),e.k0s()}}function fe(l,m){if(1&l){const s=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.incrementTally("cupsPlates"))}),e.nrm(1,"ion-icon",41),e.k0s()}}function he(l,m){if(1&l){const s=e.RV6();e.j41(0,"div",130)(1,"ion-button",131),e.nrm(2,"ion-icon",132),e.EFF(3),e.nI1(4,"t"),e.k0s(),e.j41(5,"ion-button",133),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.saveDraft())}),e.nrm(6,"ion-icon",134),e.EFF(7),e.nI1(8,"t"),e.k0s(),e.j41(9,"ion-button",135),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.discardForm())}),e.nrm(10,"ion-icon",136),e.EFF(11),e.nI1(12,"t"),e.k0s()()}if(2&l){const s=e.XpG();e.R7$(),e.Y8G("disabled",!s.cleanupForm.valid),e.R7$(2),e.SpI(" ",e.bMT(4,4,"Submit Cleanup Activity")," "),e.R7$(4),e.SpI(" ",e.bMT(8,6,"Save Draft")," "),e.R7$(4),e.SpI(" ",e.bMT(12,8,"Discard")," ")}}function ke(l,m){if(1&l){const s=e.RV6();e.j41(0,"div",137)(1,"ion-button",138),e.bIt("click",function(){n.eBV(s);const r=e.XpG();return n.Njj(r.deleteEntry())}),e.nrm(2,"ion-icon",136),e.EFF(3),e.nI1(4,"t"),e.k0s()()}2&l&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Delete Entry")," "))}const ye=[{path:"",component:(()=>{var l;class m{forceDeleteDraftFile(t){var r=this;return(0,h.A)(function*(){for(let o=0;o<3;o++)try{yield r.sharedDataService.deleteJsonFile(t),console.log(`Draft file force deleted successfully (attempt ${o+1})`);break}catch(a){if(console.error(`Error force deleting draft file (attempt ${o+1}):`,a),2===o)try{yield r.sharedDataService.writeJsonFile(t,null),console.log("Draft file cleared with null write")}catch(i){console.error("Failed to clear draft file with null write:",i)}yield new Promise(i=>setTimeout(i,100))}})()}constructor(t,r,o,a,i,f,y,_,j,C,N){this.formBuilder=t,this.alertController=r,this.loadingController=o,this.router=a,this.route=i,this.auth=f,this.cleanupSyncService=y,this.sharedDataService=_,this.entryDeletionService=j,this.siteSyncService=C,this.ts=N,this.progress=0,this.cleanupPhoto=null,this.currentDateTime="",this.currentDateDisplay="",this.currentTimeDisplay="",this.viewMode=!1,this.currentUser=null,this.currentReportId="",this.loadedReport=null,this.autosaveSub=null,this.isDiscarded=!1,this.isSubmitted=!1,this.isSubmitting=!1,this.isEditMode=!1,this.originalSubmittedBy="",this.availableLocations=[{name:"Ramsar",hasZones:!0,hasQuads:!0,zones:["1","2","3","4","5","6"],quads:Array.from({length:30},(R,M)=>`quad${M+1}`),zoneQuadMap:{1:[1,2,3],2:[13,14,15,16,17,18,20,21,22,23,25,27,28,29],3:[19,26],4:[4,5],5:[6,7,11,12,24,30],6:[8,9,10]}},{name:"Grand Anse",hasZones:!0,hasQuads:!0,zones:["1","2","3","4"],quads:Array.from({length:22},(R,M)=>`ga${M+1}`),zoneQuadMap:{1:[1,2,3,4],2:[5,6,7,8,9,10,21,22],3:[11,12,13,14,15,16,17,18],4:[19,20]}},{name:"Caiman",hasZones:!1,hasQuads:!0,zones:[],quads:["quad1","quad2","quad3","quad4","quad5"]},{name:"Canopy",hasZones:!1,hasQuads:!0,zones:[],quads:["quad1","quad2","quad3","quad4"]},{name:"Petit Barbarons",hasZones:!0,hasQuads:!1,zones:["1","2","3","4"],quads:[]},{name:"Kempinski",hasZones:!1,hasQuads:!1,zones:[],quads:[]},{name:"Roche Caiman",hasZones:!1,hasQuads:!1,zones:[],quads:[]}]}ngOnInit(){var t=this;return(0,h.A)(function*(){t.currentUser=t.auth.getCurrentUser(),t.initializeForm(),t.setCurrentDateTime(),yield t.loadDynamicSites();const r=t.route.snapshot.queryParams;"true"===r.viewMode&&r.reportId?yield t.loadReportForViewing(r.reportId):(t.route.queryParams.subscribe(o=>{o.location&&t.cleanupForm.patchValue({location:o.location}),o.zone&&t.cleanupForm.patchValue({zoneNumber:o.zone}),o.quad&&t.cleanupForm.patchValue({quadNumber:o.quad})}),"true"!==r.fresh&&(yield t.restoreDraftIfAny(),t.setCurrentDateTime()),t.currentReportId||(t.currentReportId=t.cleanupSyncService.generateReportId()),t.subscribeToFormChanges(),navigator.onLine&&t.cleanupSyncService.processPendingQueue().catch(o=>{console.error("CleanupPage: processPendingQueue failed:",o)}))})()}ngOnDestroy(){this.autosaveSub&&(this.autosaveSub.unsubscribe(),this.autosaveSub=null),!this.isSubmitted&&!this.isDiscarded&&this.saveDraftOnExit().catch(t=>console.error("CleanupPage: saveDraftOnExit failed:",t))}setCurrentDateTime(t){if(this.cleanupForm){const _=this.cleanupForm.get("date")?.value,j=this.cleanupForm.get("observationTime")?.value;if(_&&j){const[C,N,R]=_.split("-"),[M,ve]=j.split(":");return this.currentDateDisplay=`${R}/${N}/${C}`,this.currentTimeDisplay=`${M}:${ve}`,void(this.currentDateTime=`${this.currentDateDisplay}  \u2022  ${this.currentTimeDisplay}`)}}if(t){const _=this.extractDateTimeFromReportId(t);if(_){this.currentDateTime=_;const j=_.split("  \u2022  ");return void(2===j.length&&(this.currentDateDisplay=j[0],this.currentTimeDisplay=j[1]))}}const r=new Date,o=String(r.getDate()).padStart(2,"0"),a=String(r.getMonth()+1).padStart(2,"0"),i=r.getFullYear(),f=String(r.getHours()).padStart(2,"0"),y=String(r.getMinutes()).padStart(2,"0");this.currentDateDisplay=`${o}/${a}/${i}`,this.currentTimeDisplay=`${f}:${y}`,this.currentDateTime=`${this.currentDateDisplay}  \u2022  ${this.currentTimeDisplay}`}extractDateTimeFromReportId(t){const r=t.match(/(\d{2})(\d{2})(\d{4})_(\d{2})(\d{2})(\d{2})/);if(r){const[,o,a,i,f,y]=r;return`${o}/${a}/${i}  \u2022  ${f}:${y}`}return null}getCurrentDate(){return(new Date).toISOString().split("T")[0]}editLocation(){var t=this;return(0,h.A)(function*(){yield(yield t.alertController.create({header:t.ts.t("Location"),inputs:[{name:"location",type:"text",placeholder:t.ts.t("Enter location"),value:t.cleanupForm.get("location")?.value||""}],buttons:[{text:t.ts.t("Cancel"),role:"cancel"},{text:t.ts.t("Save"),handler:o=>{t.cleanupForm.patchValue({location:o.location})}}]})).present()})()}editZone(){var t=this;return(0,h.A)(function*(){yield(yield t.alertController.create({header:t.ts.t("Zone Number"),inputs:[{name:"zoneNumber",type:"text",placeholder:t.ts.t("Enter zone number"),value:t.cleanupForm.get("zoneNumber")?.value||""}],buttons:[{text:t.ts.t("Cancel"),role:"cancel"},{text:t.ts.t("Save"),handler:o=>{t.cleanupForm.patchValue({zoneNumber:o.zoneNumber})}}]})).present()})()}editQuad(){var t=this;return(0,h.A)(function*(){yield(yield t.alertController.create({header:t.ts.t("Quad Number"),inputs:[{name:"quadNumber",type:"text",placeholder:t.ts.t("Enter quad number"),value:t.cleanupForm.get("quadNumber")?.value||""}],buttons:[{text:t.ts.t("Cancel"),role:"cancel"},{text:t.ts.t("Save"),handler:o=>{t.cleanupForm.patchValue({quadNumber:o.quadNumber})}}]})).present()})()}getZoneName(t){return t?`Zone ${t}`:""}getQuadDisplay(t){if(!t)return"";const r=t.match(/\d+/);return r?r[0]:""}locationHasZones(){const t=this.cleanupForm.get("location")?.value;return!!t&&["Ramsar","Grand Anse","Petit Barbarons"].includes(t)}locationHasQuads(){const t=this.cleanupForm.get("location")?.value;return!!t&&["Ramsar","Grand Anse","Caiman","Canopy"].includes(t)}editLocationAdmin(){var t=this;return(0,h.A)(function*(){if(!t.currentUser||t.currentUser.level<4)return;const r=yield t.selectLocationStep();if(!r)return;const o=t.availableLocations.find(f=>f.name===r);let a="";if(o?.hasZones&&o.zones.length>0){const f=yield t.selectZoneStep(o);if(null===f)return;a=f}let i="";if(o?.hasQuads&&o.quads.length>0){const f=yield t.selectQuadStep(o,a);if(null===f)return;i=f}t.cleanupForm.patchValue({location:r,zoneNumber:a,quadNumber:i}),t.isEditMode&&t.cleanupForm.markAsDirty()})()}selectLocationStep(){var t=this;return new Promise(function(){var r=(0,h.A)(function*(o){const a=t.cleanupForm.get("location")?.value||"",i=t.availableLocations.map(y=>({name:"location",type:"radio",label:y.name,value:y.name,checked:y.name===a}));yield(yield t.alertController.create({header:t.ts.t("Select Location"),cssClass:"location-edit-alert",inputs:i,buttons:[{text:t.ts.t("Cancel"),role:"cancel",handler:()=>o(null)},{text:t.ts.t("Next"),handler:y=>o(y)}]})).present()});return function(o){return r.apply(this,arguments)}}())}selectZoneStep(t){var r=this;return new Promise(function(){var o=(0,h.A)(function*(a){const i=r.cleanupForm.get("zoneNumber")?.value||"",f=t.zones.map(_=>({name:"zone",type:"radio",label:`Zone ${_}`,value:_,checked:_===i}));yield(yield r.alertController.create({header:r.ts.t("Select Zone"),subHeader:t.name,cssClass:"location-edit-alert",inputs:f,buttons:[{text:r.ts.t("Cancel"),role:"cancel",handler:()=>a(null)},{text:r.ts.t("Next"),handler:_=>a(_)}]})).present()});return function(a){return o.apply(this,arguments)}}())}selectQuadStep(t,r){var o=this;return new Promise(function(){var a=(0,h.A)(function*(i){const f=o.cleanupForm.get("quadNumber")?.value||"";let y=t.quads;if(r&&t.zoneQuadMap&&t.zoneQuadMap[r]){const C=t.zoneQuadMap[r];y=t.quads.filter(N=>{const R=parseInt(o.getQuadDisplay(N));return C.includes(R)})}const _=y.map(C=>({name:"quad",type:"radio",label:`Quad ${o.getQuadDisplay(C)}`,value:C,checked:o.getQuadDisplay(C)===f||C===f}));yield(yield o.alertController.create({header:o.ts.t("Select Quad"),subHeader:t.name,cssClass:"location-edit-alert",inputs:_,buttons:[{text:o.ts.t("Cancel"),role:"cancel",handler:()=>i(null)},{text:o.ts.t("Save"),handler:C=>i(C)}]})).present()});return function(i){return a.apply(this,arguments)}}())}loadDynamicSites(){var t=this;return(0,h.A)(function*(){try{(yield t.siteSyncService.getAllSites()).forEach(o=>{t.availableLocations.some(a=>a.name===o.name)||t.availableLocations.push({name:o.name,hasZones:o.zones&&o.zones.length>0||!1,hasQuads:o.sample_points&&o.sample_points.length>0||!1,zones:o.zones?o.zones.map(a=>a.name?.replace("Zone ","")||a.id):[],quads:o.sample_points?o.sample_points.map(a=>a.id||a.label):[]})})}catch(r){console.error("Error loading dynamic sites:",r)}})()}initializeForm(){const t=this.getCurrentDate(),r=new Date,o=`${String(r.getHours()).padStart(2,"0")}:${String(r.getMinutes()).padStart(2,"0")}`;this.cleanupForm=this.formBuilder.group({date:[t,T.k0.required],observationTime:[o],team:["",T.k0.required],location:["",T.k0.required],zoneNumber:[""],quadNumber:[""],flipFlops:[null],toys:[null],bagsBottles:[null],pens:[null],toothbrushes:[null],lollipopSticks:[null],juicePackets:[null],cigaretteButts:[null],foodWrappers:[null],takeAwayContainers:[null],lids:[null],bottleCaps:[null],beverageBottles:[null],straws:[null],forksKnivesSpoons:[null],bags:[null],cupsPlates:[null],plasticBottle:[null],toothpasteTubes:[null],elasticBands:[null],boxPackaging:[null],wipesPacket:[null],foam:[null],largeFoam:[null],foamPieces:[null],balloons:[null],lighters:[null],householdItems:[null],diapersSanitary:[null],wipes:[null],rubber:[null],biologicalWaste:[null],wovenPlastic:[null],plasticsWeight:[null],lures:[null],fishingLineRopes:[null],nets:[null],buoysFloats:[null],otherFishingGear:[null],fishingGearWeight:[null],hardFragments:[null],softFragments:[null],remnantsWeight:[null],bottles:[null],bulbsLightTubes:[null],foodContainer:[null],glassFragments:[null],drinkingCans:[null],bottleCaps2:[null],aluminumFoil:[null],sheeting:[null],appliances:[null],glassWeight:[null],napkinsToiletPaper:[null],cupsPlates2:[null],cardboard:[null],usedWood:[null],cloth:[null],fiberglass:[null],paperWeight:[null],furniture:[null],appliancesElectronics:[null],treatedWood:[null],constructionDebris:[null],largePlastics:[null],greenWaste:[null],bulkyWeight:[null],totalWeight:[null],comments:[""]}),this.updateProgress()}incrementTally(t){const r=this.cleanupForm.get(t);r&&r.setValue((r.value||0)+1)}decrementTally(t){const r=this.cleanupForm.get(t);r&&r.value>0&&r.setValue(r.value-1)}calculateCategoryTotal(t){return t.reduce((r,o)=>r+(this.cleanupForm.get(o)?.value||0),0)}updateProgress(){const t=this.cleanupForm.value;let r=0,o=3;t.date&&r++,t.team&&r++,t.location&&r++,Object.keys(t).filter(_=>!["date","team","location","comments","totalWeight"].includes(_)&&!_.includes("Weight")).filter(_=>t[_]>0).length>0&&(r++,o++),["plasticsWeight","fishingGearWeight","remnantsWeight","glassWeight","paperWeight","bulkyWeight","totalWeight"].filter(_=>t[_]>0).length>0&&(r++,o++),this.progress=o>0?r/o:0}subscribeToFormChanges(){this.autosaveSub&&this.autosaveSub.unsubscribe(),this.autosaveSub=this.cleanupForm.valueChanges.pipe((0,D.B)(750)).subscribe(()=>{this.isSubmitted||this.isDiscarded||(this.updateProgress(),this.saveDraftOnExit().catch(t=>console.error("CleanupPage: autosave failed:",t)))})}onSubmit(){var t=this;return(0,h.A)(function*(){if(t.isSubmitting)return;if(t.isSubmitting=!0,t.cleanupForm.markAllAsTouched(),!t.cleanupForm.valid)return t.isSubmitting=!1,void(yield(yield t.alertController.create({header:t.ts.t("Incomplete Form"),message:t.ts.t("Please fill in all required fields (Location, Team, and Date)."),buttons:["OK"]})).present());t.isSubmitted=!0,t.autosaveSub&&(t.autosaveSub.unsubscribe(),t.autosaveSub=null);const r=yield t.loadingController.create({message:t.ts.t("Submitting cleanup data...")});yield r.present();try{const o={...t.cleanupForm.value};o.status={incomplete:!1,sent:!0,pending:!1};const a={formValue:o,coordinates:null,photos:[],existingReportId:t.currentReportId||void 0};t.isEditMode&&(a.originalSubmittedBy=t.originalSubmittedBy);const i=yield t.cleanupSyncService.submitFinal(a);yield r.dismiss();try{t.autosaveSub&&(t.autosaveSub.unsubscribe(),t.autosaveSub=null),yield new Promise(M=>setTimeout(M,1e3));const _=t.cleanupForm.value;yield t.cleanupSyncService.clearDraft(_);const j=(_?.location||"unknown").replace(/[^a-zA-Z0-9]/g,"_"),C=_?.zoneNumber||"",N=_?.quadNumber||"";let R=`cleanup_draft_${j}`;C&&(R+=`_zone${C}`),N&&(R+=`_quad${N}`),yield t.forceDeleteDraftFile(`${R}.json`),t.isSubmitted=!0,console.log("CleanupPage: Draft cleared and form reset successfully")}catch(_){console.error("CleanupPage: Failed to clear draft:",_)}const f=t.ts.t(t.isEditMode?i.queued?"Updated data saved locally and queued for upload when online.":"Cleanup activity updated successfully!":i.queued?"Cleanup data saved locally and queued for upload when online.":"Cleanup activity submitted successfully!");yield(yield t.alertController.create({header:t.ts.t("Success"),message:f,buttons:[{text:"OK",handler:()=>{t.router.navigate(["/health"])}}]})).present()}catch(o){yield r.dismiss(),console.error("Error submitting cleanup:",o),t.showAlert(t.ts.t("Error"),t.ts.t("Failed to submit cleanup activity. Please try again."))}})()}discardForm(){var t=this;return(0,h.A)(function*(){const r=yield t.alertController.create({header:t.ts.t("Discard Form"),message:t.ts.t("Are you sure you want to discard this form? All entered data will be lost."),buttons:[{text:t.ts.t("Cancel"),role:"cancel"},{text:t.ts.t("Discard"),role:"destructive"}]});yield r.present();const{role:o}=yield r.onDidDismiss();if("destructive"!==o)return;const a=yield t.loadingController.create({message:t.ts.t("Discarding...")});yield a.present(),t.isDiscarded=!0,t.autosaveSub&&(t.autosaveSub.unsubscribe(),t.autosaveSub=null),yield new Promise(i=>setTimeout(i,1e3));try{const i=t.cleanupForm.value;yield t.cleanupSyncService.clearDraft(i);const f=(i?.location||"unknown").replace(/[^a-zA-Z0-9]/g,"_"),y=i?.zoneNumber||"",_=i?.quadNumber||"";let j=`cleanup_draft_${f}`;y&&(j+=`_zone${y}`),_&&(j+=`_quad${_}`),yield t.forceDeleteDraftFile(`${j}.json`)}catch(i){console.error("CleanupPage: Error clearing draft during discard:",i)}yield a.dismiss(),t.initializeForm(),t.router.navigate(["/health"])})()}restoreDraftIfAny(){var t=this;return(0,h.A)(function*(){const r=t.route.snapshot.queryParams,o={location:r.location||t.cleanupForm.get("location")?.value,zoneNumber:r.zone||t.cleanupForm.get("zoneNumber")?.value,quadNumber:r.quad||t.cleanupForm.get("quadNumber")?.value},a=yield t.cleanupSyncService.loadDraft(o);if(a)try{a.reportId&&(t.currentReportId=a.reportId),a.form&&t.cleanupForm.patchValue(a.form),t.updateProgress()}catch(i){console.error("CleanupPage: failed to restore draft:",i)}})()}saveDraft(){var t=this;return(0,h.A)(function*(){if(!t.cleanupForm)return;const r=yield t.alertController.create({header:t.ts.t("Save Draft"),message:t.ts.t("Are you sure you want to save this form as a draft? You can return to complete it later."),buttons:[{text:t.ts.t("Cancel"),role:"cancel"},{text:t.ts.t("Save Draft"),role:"confirm"}]});yield r.present();const{role:o}=yield r.onDidDismiss();if("confirm"!==o)return;const a=yield t.loadingController.create({message:t.ts.t("Saving draft...")});yield a.present();try{yield t.saveDraftOnExit(),yield a.dismiss();const i=yield t.alertController.create({header:t.ts.t("Draft Saved"),message:t.ts.t("Your form has been saved as a draft. You can access it from the health page."),buttons:[{text:"OK",role:"confirm"}]});yield i.present(),yield i.onDidDismiss(),t.router.navigate(["/health"])}catch(i){yield a.dismiss(),console.error("Failed to save draft:",i),yield(yield t.alertController.create({header:t.ts.t("Save Failed"),message:t.ts.t("Failed to save the draft. Please try again."),buttons:["OK"]})).present()}})()}saveDraftOnExit(){var t=this;return(0,h.A)(function*(){if(!t.cleanupForm||t.viewMode||t.isDiscarded||t.isSubmitted)return;const r=t.cleanupForm.value;(r?.location||r?.team||r?.totalWeight>0)&&(yield t.cleanupSyncService.saveDraft({reportId:t.currentReportId,form:r,coordinates:null,photos:[]}))})()}resetForm(){this.cleanupForm.reset(),this.initializeForm()}showAlert(t,r){var o=this;return(0,h.A)(function*(){yield(yield o.alertController.create({header:t,message:r,buttons:["OK"]})).present()})()}goBack(){this.router.navigate(["/threats"])}setViewMode(t){this.viewMode=t,t?this.cleanupForm.disable():this.cleanupForm.enable()}enableEditMode(){!this.currentUser||this.currentUser.level<4||(this.isEditMode=!0,this.viewMode=!1,this.cleanupForm.enable(),this.originalSubmittedBy=this.loadedReport?.submittedBy||"")}getEditedDateTime(){if(!this.loadedReport)return null;let t=this.loadedReport.editedAt||null;if(!t){const _=this.loadedReport.updatedAt,j=this.loadedReport.createdAt;_&&j&&_!==j&&Math.abs(new Date(_).getTime()-new Date(j).getTime())>5e3&&(t=_)}if(!t)return null;const r=new Date(t);return isNaN(r.getTime())?null:`${r.getDate().toString().padStart(2,"0")}/${(r.getMonth()+1).toString().padStart(2,"0")}/${r.getFullYear()} ${r.getHours().toString().padStart(2,"0")}:${r.getMinutes().toString().padStart(2,"0")}`}onDateChanged(t){const r=t.target;r.value&&(this.cleanupForm.get("date")?.setValue(r.value),this.setCurrentDateTime())}onTimeChanged(t){const r=t.target;r.value&&(this.cleanupForm.get("observationTime")?.setValue(r.value),this.setCurrentDateTime())}loadReportForViewing(t){var r=this;return(0,h.A)(function*(){try{const o=yield r.cleanupSyncService.getAllReports();console.log("CleanupPage: All reports:",o);const a=o.find(f=>f.report.reportId===t);if(!a)return console.error("CleanupPage: Report not found for viewing:",t),yield(yield r.alertController.create({header:r.ts.t("Report Not Found"),message:r.ts.t("The requested report could not be found."),buttons:["OK"]})).present(),void r.router.navigate(["/threats"]);const i=a.report;console.log("CleanupPage: Loading report for viewing:",i),r.loadedReport=i,r.cleanupForm.patchValue({date:i.form.date||"",observationTime:i.form.observationTime||"",team:i.form.team||"",location:i.form.location||"",zoneNumber:i.form.zoneNumber||"",quadNumber:i.form.quadNumber||"",flipFlops:i.form.flipFlops||0,toys:i.form.toys||0,bagsBottles:i.form.bagsBottles||0,pens:i.form.pens||0,toothbrushes:i.form.toothbrushes||0,lollipopSticks:i.form.lollipopSticks||0,juicePackets:i.form.juicePackets||0,cigaretteButts:i.form.cigaretteButts||0,foodWrappers:i.form.foodWrappers||0,takeAwayContainers:i.form.takeAwayContainers||0,lids:i.form.lids||0,bottleCaps:i.form.bottleCaps||0,beverageBottles:i.form.beverageBottles||0,straws:i.form.straws||0,forksKnivesSpoons:i.form.forksKnivesSpoons||0,bags:i.form.bags||0,cupsPlates:i.form.cupsPlates||0,plasticBottle:i.form.plasticBottle||0,toothpasteTubes:i.form.toothpasteTubes||0,elasticBands:i.form.elasticBands||0,boxPackaging:i.form.boxPackaging||0,wipesPacket:i.form.wipesPacket||0,foam:i.form.foam||0,largeFoam:i.form.largeFoam||0,foamPieces:i.form.foamPieces||0,balloons:i.form.balloons||0,lighters:i.form.lighters||0,householdItems:i.form.householdItems||0,diapersSanitary:i.form.diapersSanitary||0,wipes:i.form.wipes||0,rubber:i.form.rubber||0,biologicalWaste:i.form.biologicalWaste||0,wovenPlastic:i.form.wovenPlastic||0,plasticsWeight:i.form.plasticsWeight||0,lures:i.form.lures||0,fishingLineRopes:i.form.fishingLineRopes||0,nets:i.form.nets||0,buoysFloats:i.form.buoysFloats||0,otherFishingGear:i.form.otherFishingGear||0,fishingGearWeight:i.form.fishingGearWeight||0,hardFragments:i.form.hardFragments||0,softFragment:i.form.softFragments||0,remnantsWeight:i.form.remnantsWeight||0,bottles:i.form.bottles||0,bulbsLightTubes:i.form.bulbsLightTubes||0,foodContainer:i.form.foodContainer||0,glassFragments:i.form.glassFragments||0,drinkingCans:i.form.drinkingCans||0,bottleCaps2:i.form.bottleCaps2||0,aluminumFoil:i.form.aluminumFoil||0,sheeting:i.form.sheeting||0,appliances:i.form.appliances||0,glassWeight:i.form.glassWeight||0,napkinsToiletPaper:i.form.napkinsToiletPaper||0,cupsPlates2:i.form.cupsPlates2||0,cardboard:i.form.cardboard||0,usedWood:i.form.usedWood||0,cloth:i.form.cloth||0,fiberglass:i.form.fiberglass||0,paperWeight:i.form.paperWeight||0,furniture:i.form.furniture||0,appliancesElectronics:i.form.appliancesElectronics||0,treatedWood:i.form.treatedWood||0,constructionDebris:i.form.constructionDebris||0,largePlastics:i.form.largePlastics||0,greenWaste:i.form.greenWaste||0,bulkyWeight:i.form.bulkyWeight||0,totalWeight:i.form.totalWeight||0,comments:i.form.comments||""}),r.currentReportId=t,r.setCurrentDateTime(t),r.updateProgress(),r.setViewMode(!0)}catch(o){console.error("CleanupPage: Error loading report for viewing:",o),yield(yield r.alertController.create({header:r.ts.t("Error"),message:r.ts.t("Failed to load the report."),buttons:["OK"]})).present(),r.router.navigate(["/threats"])}})()}deleteEntry(){var t=this;return(0,h.A)(function*(){const r=t.auth.getCurrentUser();var a;!r||r.level<4?yield(yield t.alertController.create({header:t.ts.t("Permission Denied"),message:t.ts.t("Only Level 4 users can delete entries."),buttons:["OK"]})).present():yield(yield t.alertController.create({header:t.ts.t("Delete Entry"),message:t.ts.t("Are you sure you want to permanently delete this entry? This will remove it from the database and back it up to deleted files storage. This action cannot be undone."),buttons:[{text:t.ts.t("Cancel"),role:"cancel"},{text:t.ts.t("Delete"),role:"destructive",handler:(a=(0,h.A)(function*(){yield t.performDeletion()}),function(){return a.apply(this,arguments)})}]})).present()})()}performDeletion(){var t=this;return(0,h.A)(function*(){const r=yield t.loadingController.create({message:t.ts.t("Deleting entry...")});yield r.present();try{const o=t.auth.getCurrentUser();yield t.entryDeletionService.deleteEntry({reportId:t.currentReportId,formType:"cleanup",tableName:"cleanup_reports",deletedBy:o?.username||"Unknown",deletedByEmail:o?.email||"",originalSubmittedBy:t.loadedReport?.submittedBy,originalSubmittedAt:t.loadedReport?.createdAt}),yield r.dismiss(),yield(yield t.alertController.create({header:t.ts.t("Success"),message:t.ts.t("Entry has been deleted and backed up successfully."),buttons:[{text:"OK",handler:()=>{t.router.navigate(["/threats"])}}]})).present()}catch(o){yield r.dismiss(),console.error("Error deleting entry:",o),yield(yield t.alertController.create({header:t.ts.t("Error"),message:t.ts.t("Failed to delete entry. Please try again."),buttons:["OK"]})).present()}})()}static#e=l=()=>(this.\u0275fac=function(r){return new(r||m)(e.rXU(T.ok),e.rXU(g.hG),e.rXU(g.Xi),e.rXU(P.Ix),e.rXU(P.nX),e.rXU(w.N),e.rXU(c.$),e.rXU(p.H),e.rXU(u.C),e.rXU(d.k),e.rXU(k.L))},this.\u0275cmp=e.VBU({type:m,selectors:[["app-cleanup"]],standalone:!1,decls:867,vars:331,consts:[["dateInput",""],["timeInput",""],[1,"cleanup-green"],["slot","start"],["defaultHref","/threats"],[1,"cleanup-green","compact-toolbar"],[1,"date-time-text"],["style","cursor: pointer;",3,"click",4,"ngIf"],[4,"ngIf"],["type","date",2,"position","absolute","opacity","0","width","0","height","0","pointer-events","none",3,"change","value"],["type","time",2,"position","absolute","opacity","0","width","0","height","0","pointer-events","none",3,"change","value"],[1,"cleanup-green","metadata-toolbar"],[1,"metadata-container"],[1,"metadata-item",3,"click"],["name","location",1,"metadata-icon"],[1,"metadata-label"],["name","alert-circle","class","status-icon required",4,"ngIf"],["class","metadata-item",3,"click",4,"ngIf"],["class","edit-location-link",3,"click",4,"ngIf"],["style","padding: 0 16px; font-size: 0.75rem; color: #e76f51;",4,"ngIf"],["color","light",3,"value"],[1,"progress-text"],[3,"ngSubmit","formGroup"],["class","edit-mode-banner",4,"ngIf"],["class","edit-mode-banner editing",4,"ngIf"],["size","12"],[2,"position","relative"],["position","stacked"],["formControlName","team","type","text",3,"placeholder"],["name","close-circle","color","danger","style","position: absolute; top: 12px; right: 10px;",4,"ngIf"],["name","checkmark-circle","style","position: absolute; top: 12px; right: 10px; color: #52a676;",4,"ngIf"],["formControlName","comments","rows","2",3,"placeholder"],[1,"plastics-header"],[1,"table-container"],[1,"waste-table"],[1,"section-header"],["colspan","2"],[1,"tally-control"],["size","small","fill","clear",3,"click"],["name","remove"],["type","number","formControlName","flipFlops","min","0","placeholder","0",1,"tally-input"],["name","add"],["type","number","formControlName","toys","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","pens","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","toothbrushes","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","lollipopSticks","min","0","placeholder","0",1,"tally-input"],["size","small","fill","clear",3,"click",4,"ngIf"],["type","number","formControlName","juicePackets","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","cigaretteButts","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","foodWrappers","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","takeAwayContainers","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","lids","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","bottleCaps","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","beverageBottles","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","straws","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","forksKnivesSpoons","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","bags","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","cupsPlates","min","0","placeholder","0",1,"tally-input"],["colspan","2",1,"weight-cell"],["type","number","formControlName","plasticsWeight","placeholder","0",1,"weight-input"],["type","number","formControlName","plasticBottle","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","toothpasteTubes","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","elasticBands","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","boxPackaging","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","wipesPacket","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","largeFoam","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","foamPieces","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","fishingGearWeight","placeholder","0",1,"weight-input"],["type","number","formControlName","balloons","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","lighters","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","householdItems","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","diapersSanitary","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","wipes","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","rubber","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","biologicalWaste","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","wovenPlastic","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","lures","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","fishingLineRopes","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","nets","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","buoysFloats","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","otherFishingGear","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","hardFragments","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","softFragments","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","remnantsWeight","placeholder","0",1,"weight-input"],["colspan","2",1,"total-weight-cell"],[1,"glass-header"],["type","number","formControlName","bottles","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","bulbsLightTubes","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","foodContainer","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","glassFragments","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","glassWeight","placeholder","0",1,"weight-input"],[1,"metal-header"],["type","number","formControlName","drinkingCans","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","bottleCaps2","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","aluminumFoil","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","sheeting","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","appliances","min","0","placeholder","0",1,"tally-input"],[1,"paper-header"],["type","number","formControlName","napkinsToiletPaper","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","cupsPlates2","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","cardboard","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","usedWood","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","cloth","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","fiberglass","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","paperWeight","placeholder","0",1,"weight-input"],[1,"bulky-header"],["type","number","formControlName","furniture","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","constructionDebris","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","appliancesElectronics","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","largePlastics","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","treatedWood","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","greenWaste","min","0","placeholder","0",1,"tally-input"],["type","number","formControlName","bulkyWeight","placeholder","0",1,"weight-input"],[1,"total-header"],["type","number","formControlName","totalWeight","placeholder","0",1,"weight-input"],["class","form-buttons",4,"ngIf"],["class","button-container",4,"ngIf"],[2,"cursor","pointer",3,"click"],["name","alert-circle",1,"status-icon","required"],["name","grid",1,"metadata-icon"],["name","apps",1,"metadata-icon"],[1,"edit-location-link",3,"click"],[2,"padding","0 16px","font-size","0.75rem","color","#e76f51"],[1,"edit-mode-banner"],["expand","block","color","warning",3,"click"],["name","create-outline","slot","start"],[1,"edit-mode-banner","editing"],["name","create-outline"],["name","close-circle","color","danger",2,"position","absolute","top","12px","right","10px"],["name","checkmark-circle",2,"position","absolute","top","12px","right","10px","color","#52a676"],[1,"form-buttons"],["expand","block","type","submit",1,"submit-button",3,"disabled"],["name","checkmark-circle","slot","start"],["expand","block","fill","outline","color","medium",1,"save-draft-button",3,"click"],["name","save-outline","slot","start"],["expand","block","fill","outline",1,"discard-button",3,"click"],["name","trash-outline","slot","start"],[1,"button-container"],["expand","block","color","danger",1,"delete-button",3,"click"]],template:function(r,o){if(1&r){const a=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar",2)(2,"ion-buttons",3),e.nrm(3,"ion-back-button",4),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"t"),e.k0s()(),e.j41(7,"ion-toolbar",5)(8,"ion-text",6),e.DNE(9,$,2,1,"span",7)(10,B,2,1,"span",8),e.EFF(11," \xa0 \u2022 \xa0 "),e.DNE(12,W,2,1,"span",7)(13,A,2,1,"span",8),e.j41(14,"input",9,0),e.bIt("change",function(f){return n.eBV(a),n.Njj(o.onDateChanged(f))}),e.k0s(),e.j41(16,"input",10,1),e.bIt("change",function(f){return n.eBV(a),n.Njj(o.onTimeChanged(f))}),e.k0s(),e.DNE(18,O,2,1,"span",8),e.k0s()(),e.j41(19,"ion-toolbar",11)(20,"div",12)(21,"div",13),e.bIt("click",function(){return n.eBV(a),n.Njj(!o.viewMode&&o.editLocation())}),e.nrm(22,"ion-icon",14),e.j41(23,"span",15),e.EFF(24),e.nI1(25,"t"),e.k0s(),e.DNE(26,V,1,0,"ion-icon",16),e.k0s(),e.DNE(27,G,4,1,"div",17)(28,S,4,1,"div",17)(29,J,3,3,"span",18),e.k0s(),e.DNE(30,z,3,3,"ion-error",19),e.k0s(),e.j41(31,"ion-toolbar",5),e.nrm(32,"ion-progress-bar",20),e.j41(33,"ion-text",21),e.EFF(34),e.nI1(35,"t"),e.k0s()()(),e.j41(36,"ion-content")(37,"form",22),e.bIt("ngSubmit",function(){return n.eBV(a),n.Njj(o.onSubmit())}),e.DNE(38,L,5,3,"div",23)(39,U,5,3,"div",24),e.j41(40,"ion-card")(41,"ion-card-header",2)(42,"ion-card-title"),e.EFF(43),e.nI1(44,"t"),e.k0s()(),e.j41(45,"ion-card-content")(46,"ion-grid")(47,"ion-row")(48,"ion-col",25)(49,"ion-item",26)(50,"ion-label",27),e.EFF(51),e.nI1(52,"t"),e.k0s(),e.nrm(53,"ion-input",28),e.nI1(54,"t"),e.DNE(55,X,1,0,"ion-icon",29)(56,Y,1,0,"ion-icon",30)(57,q,3,3,"ion-error",8),e.k0s()()(),e.j41(58,"ion-row")(59,"ion-col")(60,"ion-item")(61,"ion-label",27),e.EFF(62),e.nI1(63,"t"),e.k0s(),e.nrm(64,"ion-textarea",31),e.nI1(65,"t"),e.k0s()()()()()(),e.j41(66,"ion-card")(67,"ion-card-header",32)(68,"ion-card-title"),e.EFF(69),e.nI1(70,"t"),e.k0s()(),e.j41(71,"ion-card-content")(72,"div",33)(73,"table",34)(74,"tbody")(75,"tr",35)(76,"td",36)(77,"strong"),e.EFF(78),e.nI1(79,"t"),e.k0s()()(),e.j41(80,"tr")(81,"td"),e.EFF(82),e.nI1(83,"t"),e.k0s(),e.j41(84,"td")(85,"div",37)(86,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("flipFlops"))}),e.nrm(87,"ion-icon",39),e.k0s(),e.nrm(88,"ion-input",40),e.j41(89,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("flipFlops"))}),e.nrm(90,"ion-icon",41),e.k0s()()()(),e.j41(91,"tr")(92,"td"),e.EFF(93),e.nI1(94,"t"),e.k0s(),e.j41(95,"td")(96,"div",37)(97,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("toys"))}),e.nrm(98,"ion-icon",39),e.k0s(),e.nrm(99,"ion-input",42),e.j41(100,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("toys"))}),e.nrm(101,"ion-icon",41),e.k0s()()()(),e.j41(102,"tr")(103,"td"),e.EFF(104),e.nI1(105,"t"),e.k0s(),e.j41(106,"td")(107,"div",37)(108,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("pens"))}),e.nrm(109,"ion-icon",39),e.k0s(),e.nrm(110,"ion-input",43),e.j41(111,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("pens"))}),e.nrm(112,"ion-icon",41),e.k0s()()()(),e.j41(113,"tr")(114,"td"),e.EFF(115),e.nI1(116,"t"),e.k0s(),e.j41(117,"td")(118,"div",37)(119,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("toothbrushes"))}),e.nrm(120,"ion-icon",39),e.k0s(),e.nrm(121,"ion-input",44),e.j41(122,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("toothbrushes"))}),e.nrm(123,"ion-icon",41),e.k0s()()()(),e.j41(124,"tr")(125,"td"),e.EFF(126),e.nI1(127,"t"),e.k0s(),e.j41(128,"td")(129,"div",37)(130,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("lollipopSticks"))}),e.nrm(131,"ion-icon",39),e.k0s(),e.nrm(132,"ion-input",45),e.j41(133,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("lollipopSticks"))}),e.nrm(134,"ion-icon",41),e.k0s()()()(),e.j41(135,"tr")(136,"td"),e.EFF(137),e.nI1(138,"t"),e.k0s(),e.j41(139,"td")(140,"div",37),e.DNE(141,Q,2,0,"ion-button",46),e.nrm(142,"ion-input",47),e.DNE(143,K,2,0,"ion-button",46),e.k0s()()(),e.j41(144,"tr")(145,"td"),e.EFF(146),e.nI1(147,"t"),e.k0s(),e.j41(148,"td")(149,"div",37),e.DNE(150,Z,2,0,"ion-button",46),e.nrm(151,"ion-input",48),e.DNE(152,H,2,0,"ion-button",46),e.k0s()()(),e.j41(153,"tr")(154,"td"),e.EFF(155),e.nI1(156,"t"),e.k0s(),e.j41(157,"td")(158,"div",37),e.DNE(159,ee,2,0,"ion-button",46),e.nrm(160,"ion-input",49),e.DNE(161,te,2,0,"ion-button",46),e.k0s()()(),e.j41(162,"tr")(163,"td"),e.EFF(164),e.nI1(165,"t"),e.k0s(),e.j41(166,"td")(167,"div",37),e.DNE(168,ne,2,0,"ion-button",46),e.nrm(169,"ion-input",50),e.DNE(170,oe,2,0,"ion-button",46),e.k0s()()(),e.j41(171,"tr")(172,"td"),e.EFF(173),e.nI1(174,"t"),e.k0s(),e.j41(175,"td")(176,"div",37),e.DNE(177,ie,2,0,"ion-button",46),e.nrm(178,"ion-input",51),e.DNE(179,re,2,0,"ion-button",46),e.k0s()()(),e.j41(180,"tr")(181,"td"),e.EFF(182),e.nI1(183,"t"),e.k0s(),e.j41(184,"td")(185,"div",37),e.DNE(186,ae,2,0,"ion-button",46),e.nrm(187,"ion-input",52),e.DNE(188,le,2,0,"ion-button",46),e.k0s()()(),e.j41(189,"tr")(190,"td"),e.EFF(191),e.nI1(192,"t"),e.k0s(),e.j41(193,"td")(194,"div",37),e.DNE(195,se,2,0,"ion-button",46),e.nrm(196,"ion-input",53),e.DNE(197,ce,2,0,"ion-button",46),e.k0s()()(),e.j41(198,"tr")(199,"td"),e.EFF(200),e.nI1(201,"t"),e.k0s(),e.j41(202,"td")(203,"div",37),e.DNE(204,ue,2,0,"ion-button",46),e.nrm(205,"ion-input",54),e.DNE(206,de,2,0,"ion-button",46),e.k0s()()(),e.j41(207,"tr")(208,"td"),e.EFF(209),e.nI1(210,"t"),e.k0s(),e.j41(211,"td")(212,"div",37),e.DNE(213,me,2,0,"ion-button",46),e.nrm(214,"ion-input",55),e.DNE(215,pe,2,0,"ion-button",46),e.k0s()()(),e.j41(216,"tr")(217,"td"),e.EFF(218),e.nI1(219,"t"),e.k0s(),e.j41(220,"td")(221,"div",37),e.DNE(222,_e,2,0,"ion-button",46),e.nrm(223,"ion-input",56),e.DNE(224,be,2,0,"ion-button",46),e.k0s()()(),e.j41(225,"tr")(226,"td"),e.EFF(227),e.nI1(228,"t"),e.k0s(),e.j41(229,"td")(230,"div",37),e.DNE(231,ge,2,0,"ion-button",46),e.nrm(232,"ion-input",57),e.DNE(233,fe,2,0,"ion-button",46),e.k0s()()(),e.j41(234,"tr")(235,"td",58)(236,"strong"),e.EFF(237),e.nI1(238,"t"),e.k0s(),e.nrm(239,"ion-input",59),e.k0s()(),e.j41(240,"tr",35)(241,"td",36)(242,"strong"),e.EFF(243),e.nI1(244,"t"),e.k0s()()(),e.j41(245,"tr")(246,"td"),e.EFF(247),e.nI1(248,"t"),e.k0s(),e.j41(249,"td")(250,"div",37)(251,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("plasticBottle"))}),e.nrm(252,"ion-icon",39),e.k0s(),e.nrm(253,"ion-input",60),e.j41(254,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("plasticBottle"))}),e.nrm(255,"ion-icon",41),e.k0s()()()(),e.j41(256,"tr")(257,"td"),e.EFF(258),e.nI1(259,"t"),e.k0s(),e.j41(260,"td")(261,"div",37)(262,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("toothpasteTubes"))}),e.nrm(263,"ion-icon",39),e.k0s(),e.nrm(264,"ion-input",61),e.j41(265,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("toothpasteTubes"))}),e.nrm(266,"ion-icon",41),e.k0s()()()(),e.j41(267,"tr")(268,"td"),e.EFF(269),e.nI1(270,"t"),e.k0s(),e.j41(271,"td")(272,"div",37)(273,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("elasticBands"))}),e.nrm(274,"ion-icon",39),e.k0s(),e.nrm(275,"ion-input",62),e.j41(276,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("elasticBands"))}),e.nrm(277,"ion-icon",41),e.k0s()()()(),e.j41(278,"tr")(279,"td"),e.EFF(280),e.nI1(281,"t"),e.k0s(),e.j41(282,"td")(283,"div",37)(284,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("boxPackaging"))}),e.nrm(285,"ion-icon",39),e.k0s(),e.nrm(286,"ion-input",63),e.j41(287,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("boxPackaging"))}),e.nrm(288,"ion-icon",41),e.k0s()()()(),e.j41(289,"tr")(290,"td"),e.EFF(291),e.nI1(292,"t"),e.k0s(),e.j41(293,"td")(294,"div",37)(295,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("wipesPacket"))}),e.nrm(296,"ion-icon",39),e.k0s(),e.nrm(297,"ion-input",64),e.j41(298,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("wipesPacket"))}),e.nrm(299,"ion-icon",41),e.k0s()()()(),e.j41(300,"tr")(301,"td",58)(302,"strong"),e.EFF(303),e.nI1(304,"t"),e.k0s(),e.nrm(305,"ion-input",59),e.k0s()(),e.j41(306,"tr",35)(307,"td",36)(308,"strong"),e.EFF(309),e.nI1(310,"t"),e.k0s()()(),e.j41(311,"tr")(312,"td"),e.EFF(313),e.nI1(314,"t"),e.k0s(),e.j41(315,"td")(316,"div",37)(317,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("largeFoam"))}),e.nrm(318,"ion-icon",39),e.k0s(),e.nrm(319,"ion-input",65),e.j41(320,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("largeFoam"))}),e.nrm(321,"ion-icon",41),e.k0s()()()(),e.j41(322,"tr")(323,"td"),e.EFF(324),e.nI1(325,"t"),e.k0s(),e.j41(326,"td")(327,"div",37)(328,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("foamPieces"))}),e.nrm(329,"ion-icon",39),e.k0s(),e.nrm(330,"ion-input",66),e.j41(331,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("foamPieces"))}),e.nrm(332,"ion-icon",41),e.k0s()()()(),e.j41(333,"tr")(334,"td",58)(335,"strong"),e.EFF(336),e.nI1(337,"t"),e.k0s(),e.nrm(338,"ion-input",67),e.k0s()(),e.j41(339,"tr",35)(340,"td",36)(341,"strong"),e.EFF(342),e.nI1(343,"t"),e.k0s()()(),e.j41(344,"tr")(345,"td"),e.EFF(346),e.nI1(347,"t"),e.k0s(),e.j41(348,"td")(349,"div",37)(350,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("balloons"))}),e.nrm(351,"ion-icon",39),e.k0s(),e.nrm(352,"ion-input",68),e.j41(353,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("balloons"))}),e.nrm(354,"ion-icon",41),e.k0s()()()(),e.j41(355,"tr")(356,"td"),e.EFF(357),e.nI1(358,"t"),e.k0s(),e.j41(359,"td")(360,"div",37)(361,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("lighters"))}),e.nrm(362,"ion-icon",39),e.k0s(),e.nrm(363,"ion-input",69),e.j41(364,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("lighters"))}),e.nrm(365,"ion-icon",41),e.k0s()()()(),e.j41(366,"tr")(367,"td"),e.EFF(368),e.nI1(369,"t"),e.k0s(),e.j41(370,"td")(371,"div",37)(372,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("householdItems"))}),e.nrm(373,"ion-icon",39),e.k0s(),e.nrm(374,"ion-input",70),e.j41(375,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("householdItems"))}),e.nrm(376,"ion-icon",41),e.k0s()()()(),e.j41(377,"tr")(378,"td"),e.EFF(379),e.nI1(380,"t"),e.k0s(),e.j41(381,"td")(382,"div",37)(383,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("diapersSanitary"))}),e.nrm(384,"ion-icon",39),e.k0s(),e.nrm(385,"ion-input",71),e.j41(386,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("diapersSanitary"))}),e.nrm(387,"ion-icon",41),e.k0s()()()(),e.j41(388,"tr")(389,"td"),e.EFF(390),e.nI1(391,"t"),e.k0s(),e.j41(392,"td")(393,"div",37)(394,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("wipes"))}),e.nrm(395,"ion-icon",39),e.k0s(),e.nrm(396,"ion-input",72),e.j41(397,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("wipes"))}),e.nrm(398,"ion-icon",41),e.k0s()()()(),e.j41(399,"tr")(400,"td"),e.EFF(401),e.nI1(402,"t"),e.k0s(),e.j41(403,"td")(404,"div",37)(405,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("rubber"))}),e.nrm(406,"ion-icon",39),e.k0s(),e.nrm(407,"ion-input",73),e.j41(408,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("rubber"))}),e.nrm(409,"ion-icon",41),e.k0s()()()(),e.j41(410,"tr")(411,"td"),e.EFF(412),e.nI1(413,"t"),e.k0s(),e.j41(414,"td")(415,"div",37)(416,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("biologicalWaste"))}),e.nrm(417,"ion-icon",39),e.k0s(),e.nrm(418,"ion-input",74),e.j41(419,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("biologicalWaste"))}),e.nrm(420,"ion-icon",41),e.k0s()()()(),e.j41(421,"tr")(422,"td"),e.EFF(423),e.nI1(424,"t"),e.k0s(),e.j41(425,"td")(426,"div",37)(427,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("wovenPlastic"))}),e.nrm(428,"ion-icon",39),e.k0s(),e.nrm(429,"ion-input",75),e.j41(430,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("wovenPlastic"))}),e.nrm(431,"ion-icon",41),e.k0s()()()(),e.j41(432,"tr")(433,"td",58)(434,"strong"),e.EFF(435),e.nI1(436,"t"),e.k0s(),e.nrm(437,"ion-input",59),e.k0s()(),e.j41(438,"tr",35)(439,"td",36)(440,"strong"),e.EFF(441),e.nI1(442,"t"),e.k0s()()(),e.j41(443,"tr")(444,"td"),e.EFF(445),e.nI1(446,"t"),e.k0s(),e.j41(447,"td")(448,"div",37)(449,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("lures"))}),e.nrm(450,"ion-icon",39),e.k0s(),e.nrm(451,"ion-input",76),e.j41(452,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("lures"))}),e.nrm(453,"ion-icon",41),e.k0s()()()(),e.j41(454,"tr")(455,"td"),e.EFF(456),e.nI1(457,"t"),e.k0s(),e.j41(458,"td")(459,"div",37)(460,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("fishingLineRopes"))}),e.nrm(461,"ion-icon",39),e.k0s(),e.nrm(462,"ion-input",77),e.j41(463,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("fishingLineRopes"))}),e.nrm(464,"ion-icon",41),e.k0s()()()(),e.j41(465,"tr")(466,"td"),e.EFF(467),e.nI1(468,"t"),e.k0s(),e.j41(469,"td")(470,"div",37)(471,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("nets"))}),e.nrm(472,"ion-icon",39),e.k0s(),e.nrm(473,"ion-input",78),e.j41(474,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("nets"))}),e.nrm(475,"ion-icon",41),e.k0s()()()(),e.j41(476,"tr")(477,"td"),e.EFF(478),e.nI1(479,"t"),e.k0s(),e.j41(480,"td")(481,"div",37)(482,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("buoysFloats"))}),e.nrm(483,"ion-icon",39),e.k0s(),e.nrm(484,"ion-input",79),e.j41(485,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("buoysFloats"))}),e.nrm(486,"ion-icon",41),e.k0s()()()(),e.j41(487,"tr")(488,"td"),e.EFF(489),e.nI1(490,"t"),e.k0s(),e.j41(491,"td")(492,"div",37)(493,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("otherFishingGear"))}),e.nrm(494,"ion-icon",39),e.k0s(),e.nrm(495,"ion-input",80),e.j41(496,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("otherFishingGear"))}),e.nrm(497,"ion-icon",41),e.k0s()()()(),e.j41(498,"tr")(499,"td",58)(500,"strong"),e.EFF(501),e.nI1(502,"t"),e.k0s(),e.nrm(503,"ion-input",67),e.k0s()(),e.j41(504,"tr",35)(505,"td",36)(506,"strong"),e.EFF(507),e.nI1(508,"t"),e.k0s()()(),e.j41(509,"tr")(510,"td"),e.EFF(511),e.nI1(512,"t"),e.k0s(),e.j41(513,"td")(514,"div",37)(515,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("hardFragments"))}),e.nrm(516,"ion-icon",39),e.k0s(),e.nrm(517,"ion-input",81),e.j41(518,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("hardFragments"))}),e.nrm(519,"ion-icon",41),e.k0s()()()(),e.j41(520,"tr")(521,"td"),e.EFF(522),e.nI1(523,"t"),e.k0s(),e.j41(524,"td")(525,"div",37)(526,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("softFragments"))}),e.nrm(527,"ion-icon",39),e.k0s(),e.nrm(528,"ion-input",82),e.j41(529,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("softFragments"))}),e.nrm(530,"ion-icon",41),e.k0s()()()(),e.j41(531,"tr")(532,"td",58)(533,"strong"),e.EFF(534),e.nI1(535,"t"),e.k0s(),e.nrm(536,"ion-input",83),e.k0s()(),e.j41(537,"tr")(538,"td",84)(539,"strong"),e.EFF(540),e.nI1(541,"t"),e.k0s(),e.nrm(542,"ion-input",59),e.k0s()()()()()()(),e.j41(543,"ion-card")(544,"ion-card-header",85)(545,"ion-card-title"),e.EFF(546),e.nI1(547,"t"),e.k0s()(),e.j41(548,"ion-card-content")(549,"div",33)(550,"table",34)(551,"thead")(552,"tr")(553,"th"),e.EFF(554),e.nI1(555,"t"),e.k0s(),e.j41(556,"th"),e.EFF(557),e.nI1(558,"t"),e.k0s()()(),e.j41(559,"tbody")(560,"tr")(561,"td"),e.EFF(562),e.nI1(563,"t"),e.k0s(),e.j41(564,"td")(565,"div",37)(566,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("bottles"))}),e.nrm(567,"ion-icon",39),e.k0s(),e.nrm(568,"ion-input",86),e.j41(569,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("bottles"))}),e.nrm(570,"ion-icon",41),e.k0s()()()(),e.j41(571,"tr")(572,"td"),e.EFF(573),e.nI1(574,"t"),e.k0s(),e.j41(575,"td")(576,"div",37)(577,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("bulbsLightTubes"))}),e.nrm(578,"ion-icon",39),e.k0s(),e.nrm(579,"ion-input",87),e.j41(580,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("bulbsLightTubes"))}),e.nrm(581,"ion-icon",41),e.k0s()()()(),e.j41(582,"tr")(583,"td"),e.EFF(584),e.nI1(585,"t"),e.k0s(),e.j41(586,"td")(587,"div",37)(588,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("foodContainer"))}),e.nrm(589,"ion-icon",39),e.k0s(),e.nrm(590,"ion-input",88),e.j41(591,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("foodContainer"))}),e.nrm(592,"ion-icon",41),e.k0s()()()(),e.j41(593,"tr")(594,"td"),e.EFF(595),e.nI1(596,"t"),e.k0s(),e.j41(597,"td")(598,"div",37)(599,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("glassFragments"))}),e.nrm(600,"ion-icon",39),e.k0s(),e.nrm(601,"ion-input",89),e.j41(602,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("glassFragments"))}),e.nrm(603,"ion-icon",41),e.k0s()()()(),e.j41(604,"tr")(605,"td",58)(606,"strong"),e.EFF(607),e.nI1(608,"t"),e.k0s(),e.nrm(609,"ion-input",90),e.k0s()()()()()()(),e.j41(610,"ion-card")(611,"ion-card-header",91)(612,"ion-card-title"),e.EFF(613),e.nI1(614,"t"),e.k0s()(),e.j41(615,"ion-card-content")(616,"div",33)(617,"table",34)(618,"thead")(619,"tr")(620,"th"),e.EFF(621),e.nI1(622,"t"),e.k0s(),e.j41(623,"th"),e.EFF(624),e.nI1(625,"t"),e.k0s()()(),e.j41(626,"tbody")(627,"tr")(628,"td"),e.EFF(629),e.nI1(630,"t"),e.k0s(),e.j41(631,"td")(632,"div",37)(633,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("drinkingCans"))}),e.nrm(634,"ion-icon",39),e.k0s(),e.nrm(635,"ion-input",92),e.j41(636,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("drinkingCans"))}),e.nrm(637,"ion-icon",41),e.k0s()()()(),e.j41(638,"tr")(639,"td"),e.EFF(640),e.nI1(641,"t"),e.k0s(),e.j41(642,"td")(643,"div",37)(644,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("bottleCaps2"))}),e.nrm(645,"ion-icon",39),e.k0s(),e.nrm(646,"ion-input",93),e.j41(647,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("bottleCaps2"))}),e.nrm(648,"ion-icon",41),e.k0s()()()(),e.j41(649,"tr")(650,"td"),e.EFF(651),e.nI1(652,"t"),e.k0s(),e.j41(653,"td")(654,"div",37)(655,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("aluminumFoil"))}),e.nrm(656,"ion-icon",39),e.k0s(),e.nrm(657,"ion-input",94),e.j41(658,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("aluminumFoil"))}),e.nrm(659,"ion-icon",41),e.k0s()()()(),e.j41(660,"tr")(661,"td"),e.EFF(662),e.nI1(663,"t"),e.k0s(),e.j41(664,"td")(665,"div",37)(666,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("sheeting"))}),e.nrm(667,"ion-icon",39),e.k0s(),e.nrm(668,"ion-input",95),e.j41(669,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("sheeting"))}),e.nrm(670,"ion-icon",41),e.k0s()()()(),e.j41(671,"tr")(672,"td"),e.EFF(673),e.nI1(674,"t"),e.k0s(),e.j41(675,"td")(676,"div",37)(677,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("appliances"))}),e.nrm(678,"ion-icon",39),e.k0s(),e.nrm(679,"ion-input",96),e.j41(680,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("appliances"))}),e.nrm(681,"ion-icon",41),e.k0s()()()(),e.j41(682,"tr")(683,"td",58)(684,"strong"),e.EFF(685),e.nI1(686,"t"),e.k0s(),e.nrm(687,"ion-input",90),e.k0s()()()()()()(),e.j41(688,"ion-card")(689,"ion-card-header",97)(690,"ion-card-title"),e.EFF(691),e.nI1(692,"t"),e.k0s()(),e.j41(693,"ion-card-content")(694,"div",33)(695,"table",34)(696,"tbody")(697,"tr")(698,"td"),e.EFF(699),e.nI1(700,"t"),e.k0s(),e.j41(701,"td")(702,"div",37)(703,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("napkinsToiletPaper"))}),e.nrm(704,"ion-icon",39),e.k0s(),e.nrm(705,"ion-input",98),e.j41(706,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("napkinsToiletPaper"))}),e.nrm(707,"ion-icon",41),e.k0s()()()(),e.j41(708,"tr")(709,"td"),e.EFF(710),e.nI1(711,"t"),e.k0s(),e.j41(712,"td")(713,"div",37)(714,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("cupsPlates2"))}),e.nrm(715,"ion-icon",39),e.k0s(),e.nrm(716,"ion-input",99),e.j41(717,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("cupsPlates2"))}),e.nrm(718,"ion-icon",41),e.k0s()()()(),e.j41(719,"tr")(720,"td"),e.EFF(721),e.nI1(722,"t"),e.k0s(),e.j41(723,"td")(724,"div",37)(725,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("cardboard"))}),e.nrm(726,"ion-icon",39),e.k0s(),e.nrm(727,"ion-input",100),e.j41(728,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("cardboard"))}),e.nrm(729,"ion-icon",41),e.k0s()()()(),e.j41(730,"tr")(731,"td"),e.EFF(732),e.nI1(733,"t"),e.k0s(),e.j41(734,"td")(735,"div",37)(736,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("usedWood"))}),e.nrm(737,"ion-icon",39),e.k0s(),e.nrm(738,"ion-input",101),e.j41(739,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("usedWood"))}),e.nrm(740,"ion-icon",41),e.k0s()()()(),e.j41(741,"tr")(742,"td"),e.EFF(743),e.nI1(744,"t"),e.k0s(),e.j41(745,"td")(746,"div",37)(747,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("cloth"))}),e.nrm(748,"ion-icon",39),e.k0s(),e.nrm(749,"ion-input",102),e.j41(750,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("cloth"))}),e.nrm(751,"ion-icon",41),e.k0s()()()(),e.j41(752,"tr")(753,"td"),e.EFF(754),e.nI1(755,"t"),e.k0s(),e.j41(756,"td")(757,"div",37)(758,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("fiberglass"))}),e.nrm(759,"ion-icon",39),e.k0s(),e.nrm(760,"ion-input",103),e.j41(761,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("fiberglass"))}),e.nrm(762,"ion-icon",41),e.k0s()()()(),e.j41(763,"tr")(764,"td",58)(765,"strong"),e.EFF(766),e.nI1(767,"t"),e.k0s(),e.nrm(768,"ion-input",104),e.k0s()()()()()()(),e.j41(769,"ion-card")(770,"ion-card-header",105)(771,"ion-card-title"),e.EFF(772),e.nI1(773,"t"),e.k0s()(),e.j41(774,"ion-card-content")(775,"div",33)(776,"table",34)(777,"tbody")(778,"tr")(779,"td"),e.EFF(780),e.nI1(781,"t"),e.k0s(),e.j41(782,"td")(783,"div",37)(784,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("furniture"))}),e.nrm(785,"ion-icon",39),e.k0s(),e.nrm(786,"ion-input",106),e.j41(787,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("furniture"))}),e.nrm(788,"ion-icon",41),e.k0s()()()(),e.j41(789,"tr")(790,"td"),e.EFF(791),e.nI1(792,"t"),e.k0s(),e.j41(793,"td")(794,"div",37)(795,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("constructionDebris"))}),e.nrm(796,"ion-icon",39),e.k0s(),e.nrm(797,"ion-input",107),e.j41(798,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("constructionDebris"))}),e.nrm(799,"ion-icon",41),e.k0s()()()(),e.j41(800,"tr")(801,"td"),e.EFF(802),e.nI1(803,"t"),e.k0s(),e.j41(804,"td")(805,"div",37)(806,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("appliancesElectronics"))}),e.nrm(807,"ion-icon",39),e.k0s(),e.nrm(808,"ion-input",108),e.j41(809,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("appliancesElectronics"))}),e.nrm(810,"ion-icon",41),e.k0s()()()(),e.j41(811,"tr")(812,"td"),e.EFF(813),e.nI1(814,"t"),e.k0s(),e.j41(815,"td")(816,"div",37)(817,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("largePlastics"))}),e.nrm(818,"ion-icon",39),e.k0s(),e.nrm(819,"ion-input",109),e.j41(820,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("largePlastics"))}),e.nrm(821,"ion-icon",41),e.k0s()()()(),e.j41(822,"tr")(823,"td"),e.EFF(824),e.nI1(825,"t"),e.k0s(),e.j41(826,"td")(827,"div",37)(828,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("treatedWood"))}),e.nrm(829,"ion-icon",39),e.k0s(),e.nrm(830,"ion-input",110),e.j41(831,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("treatedWood"))}),e.nrm(832,"ion-icon",41),e.k0s()()()(),e.j41(833,"tr")(834,"td"),e.EFF(835),e.nI1(836,"t"),e.k0s(),e.j41(837,"td")(838,"div",37)(839,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.decrementTally("greenWaste"))}),e.nrm(840,"ion-icon",39),e.k0s(),e.nrm(841,"ion-input",111),e.j41(842,"ion-button",38),e.bIt("click",function(){return n.eBV(a),n.Njj(o.incrementTally("greenWaste"))}),e.nrm(843,"ion-icon",41),e.k0s()()()(),e.j41(844,"tr")(845,"td",58)(846,"strong"),e.EFF(847),e.nI1(848,"t"),e.k0s(),e.nrm(849,"ion-input",112),e.k0s()()()()()()(),e.j41(850,"ion-card")(851,"ion-card-header",113)(852,"ion-card-title"),e.EFF(853),e.nI1(854,"t"),e.k0s()(),e.j41(855,"ion-card-content")(856,"div",33)(857,"table",34)(858,"tbody")(859,"tr")(860,"td",84)(861,"strong"),e.EFF(862),e.nI1(863,"t"),e.k0s(),e.nrm(864,"ion-input",114),e.k0s()()()()()()(),e.DNE(865,he,13,10,"div",115)(866,ke,5,3,"div",116),e.k0s()()}if(2&r){let a,i,f,y,_,j,C,N,R,M;e.R7$(5),e.JRh(e.bMT(6,141,"Wetland Cleanup Activity")),e.R7$(4),e.Y8G("ngIf",(null==o.currentUser?null:o.currentUser.level)>=4&&!o.viewMode),e.R7$(),e.Y8G("ngIf",!((null==o.currentUser?null:o.currentUser.level)>=4&&!o.viewMode)),e.R7$(2),e.Y8G("ngIf",(null==o.currentUser?null:o.currentUser.level)>=4&&!o.viewMode),e.R7$(),e.Y8G("ngIf",!((null==o.currentUser?null:o.currentUser.level)>=4&&!o.viewMode)),e.R7$(),e.Y8G("value",null==(a=o.cleanupForm.get("date"))?null:a.value),e.R7$(2),e.Y8G("value",null==(i=o.cleanupForm.get("observationTime"))?null:i.value),e.R7$(2),e.Y8G("ngIf",(o.viewMode||o.isEditMode)&&o.getEditedDateTime()),e.R7$(6),e.JRh((null==(f=o.cleanupForm.get("location"))?null:f.value)||e.bMT(25,143,"Add location")),e.R7$(2),e.Y8G("ngIf",!(null!=(y=o.cleanupForm.get("location"))&&y.value||o.viewMode)),e.R7$(),e.Y8G("ngIf",(null==(_=o.cleanupForm.get("zoneNumber"))?null:_.value)&&o.locationHasZones()),e.R7$(),e.Y8G("ngIf",(null==(j=o.cleanupForm.get("quadNumber"))?null:j.value)&&o.locationHasQuads()),e.R7$(),e.Y8G("ngIf",o.isEditMode&&o.currentUser&&o.currentUser.level>=4),e.R7$(),e.Y8G("ngIf",(null==(C=o.cleanupForm.get("location"))?null:C.hasError("required"))&&(null==(C=o.cleanupForm.get("location"))?null:C.touched)),e.R7$(2),e.Y8G("value",o.progress),e.R7$(2),e.Lme(" ",(100*o.progress).toFixed(0),"% ",e.bMT(35,145,"Complete")," "),e.R7$(2),e.AVh("view-mode",o.viewMode),e.R7$(),e.Y8G("formGroup",o.cleanupForm),e.R7$(),e.Y8G("ngIf",o.viewMode&&o.currentUser&&o.currentUser.level>=4),e.R7$(),e.Y8G("ngIf",o.isEditMode),e.R7$(4),e.JRh(e.bMT(44,147,"General Information")),e.R7$(8),e.JRh(e.bMT(52,149,"Team")),e.R7$(2),e.Y8G("placeholder",e.bMT(54,151,"Team name or initials")),e.R7$(2),e.Y8G("ngIf",!(null!=(N=o.cleanupForm.get("team"))&&N.value)),e.R7$(),e.Y8G("ngIf",null==(R=o.cleanupForm.get("team"))?null:R.value),e.R7$(),e.Y8G("ngIf",(null==(M=o.cleanupForm.get("team"))?null:M.hasError("required"))&&(null==(M=o.cleanupForm.get("team"))?null:M.touched)),e.R7$(5),e.JRh(e.bMT(63,153,"Comments")),e.R7$(2),e.Y8G("placeholder",e.bMT(65,155,"Additional notes")),e.R7$(5),e.JRh(e.bMT(70,157,"PLASTICS")),e.R7$(9),e.JRh(e.bMT(79,159,"Consumer Items")),e.R7$(4),e.JRh(e.bMT(83,161,"Flip flops")),e.R7$(11),e.JRh(e.bMT(94,163,"Toys / figurines")),e.R7$(11),e.JRh(e.bMT(105,165,"Pens")),e.R7$(11),e.JRh(e.bMT(116,167,"Toothbrushes")),e.R7$(11),e.JRh(e.bMT(127,169,"Lollipop sticks")),e.R7$(11),e.JRh(e.bMT(138,171,"Juice packets")),e.R7$(4),e.Y8G("ngIf",!o.viewMode),e.R7$(2),e.Y8G("ngIf",!o.viewMode),e.R7$(3),e.JRh(e.bMT(147,173,"Cigarette butts")),e.R7$(4),e.Y8G("ngIf",!o.viewMode),e.R7$(2),e.Y8G("ngIf",!o.viewMode),e.R7$(3),e.JRh(e.bMT(156,175,"Food wrappers (candy, chips etc.)")),e.R7$(4),e.Y8G("ngIf",!o.viewMode),e.R7$(2),e.Y8G("ngIf",!o.viewMode),e.R7$(3),e.JRh(e.bMT(165,177,"Take away containers")),e.R7$(4),e.Y8G("ngIf",!o.viewMode),e.R7$(2),e.Y8G("ngIf",!o.viewMode),e.R7$(3),e.JRh(e.bMT(174,179,"Lids")),e.R7$(4),e.Y8G("ngIf",!o.viewMode),e.R7$(2),e.Y8G("ngIf",!o.viewMode),e.R7$(3),e.JRh(e.bMT(183,181,"Bottle caps")),e.R7$(4),e.Y8G("ngIf",!o.viewMode),e.R7$(2),e.Y8G("ngIf",!o.viewMode),e.R7$(3),e.JRh(e.bMT(192,183,"Beverage bottles")),e.R7$(4),e.Y8G("ngIf",!o.viewMode),e.R7$(2),e.Y8G("ngIf",!o.viewMode),e.R7$(3),e.JRh(e.bMT(201,185,"Straws")),e.R7$(4),e.Y8G("ngIf",!o.viewMode),e.R7$(2),e.Y8G("ngIf",!o.viewMode),e.R7$(3),e.JRh(e.bMT(210,187,"Forks, knives, spoons")),e.R7$(4),e.Y8G("ngIf",!o.viewMode),e.R7$(2),e.Y8G("ngIf",!o.viewMode),e.R7$(3),e.JRh(e.bMT(219,189,"Bags")),e.R7$(4),e.Y8G("ngIf",!o.viewMode),e.R7$(2),e.Y8G("ngIf",!o.viewMode),e.R7$(3),e.JRh(e.bMT(228,191,"Cups and plates")),e.R7$(4),e.Y8G("ngIf",!o.viewMode),e.R7$(2),e.Y8G("ngIf",!o.viewMode),e.R7$(4),e.JRh(e.bMT(238,193,"Consumer Weight (kg):")),e.R7$(6),e.JRh(e.bMT(244,195,"Packaging")),e.R7$(4),e.JRh(e.bMT(248,197,"Plastic bottle (oil, sunscreen, bleach)")),e.R7$(11),e.JRh(e.bMT(259,199,"Toothpaste tubes")),e.R7$(11),e.JRh(e.bMT(270,201,"Elastic bands")),e.R7$(11),e.JRh(e.bMT(281,203,"Box packaging")),e.R7$(11),e.JRh(e.bMT(292,205,"Wipes packet")),e.R7$(12),e.JRh(e.bMT(304,207,"Packaging Weight (kg):")),e.R7$(6),e.JRh(e.bMT(310,209,"Foam")),e.R7$(4),e.JRh(e.bMT(314,211,"Large foam")),e.R7$(11),e.JRh(e.bMT(325,213,"Foam pieces")),e.R7$(12),e.JRh(e.bMT(337,215,"Foam Weight (kg):")),e.R7$(6),e.JRh(e.bMT(343,217,"Other Trash")),e.R7$(4),e.JRh(e.bMT(347,219,"Balloons (party decorations)")),e.R7$(11),e.JRh(e.bMT(358,221,"Lighters")),e.R7$(11),e.JRh(e.bMT(369,223,"Household items")),e.R7$(11),e.JRh(e.bMT(380,225,"Diapers / Sanitary")),e.R7$(11),e.JRh(e.bMT(391,227,"Wipes")),e.R7$(11),e.JRh(e.bMT(402,229,"Rubber")),e.R7$(11),e.JRh(e.bMT(413,231,"Biological waste")),e.R7$(11),e.JRh(e.bMT(424,233,"Woven plastics (polypropylene)")),e.R7$(12),e.JRh(e.bMT(436,235,"Other Trash Weight (kg):")),e.R7$(6),e.JRh(e.bMT(442,237,"Fishing Gear")),e.R7$(4),e.JRh(e.bMT(446,239,"Lures")),e.R7$(11),e.JRh(e.bMT(457,241,"Fishing Line / Ropes")),e.R7$(11),e.JRh(e.bMT(468,243,"Nets")),e.R7$(11),e.JRh(e.bMT(479,245,"Buoys / floats")),e.R7$(11),e.JRh(e.bMT(490,247,"Other (mix)")),e.R7$(12),e.JRh(e.bMT(502,249,"Fishing Gear Weight (kg):")),e.R7$(6),e.JRh(e.bMT(508,251,"Remnants")),e.R7$(4),e.JRh(e.bMT(512,253,"Hard fragments")),e.R7$(11),e.JRh(e.bMT(523,255,"Soft fragments")),e.R7$(12),e.JRh(e.bMT(535,257,"Remnants Weight (kg):")),e.R7$(6),e.JRh(e.bMT(541,259,"TOTAL PLASTICS WEIGHT (kg):")),e.R7$(6),e.JRh(e.bMT(547,261,"GLASS")),e.R7$(8),e.JRh(e.bMT(555,263,"Item")),e.R7$(3),e.JRh(e.bMT(558,265,"Amount")),e.R7$(5),e.JRh(e.bMT(563,267,"Bottles")),e.R7$(11),e.JRh(e.bMT(574,269,"Bulbs and light tubes")),e.R7$(11),e.JRh(e.bMT(585,271,"Food container")),e.R7$(11),e.JRh(e.bMT(596,273,"Glass fragments")),e.R7$(12),e.JRh(e.bMT(608,275,"Glass Weight (kg):")),e.R7$(6),e.JRh(e.bMT(614,277,"METAL")),e.R7$(8),e.JRh(e.bMT(622,279,"Item")),e.R7$(3),e.JRh(e.bMT(625,281,"Amount")),e.R7$(5),e.JRh(e.bMT(630,283,"Drinking cans")),e.R7$(11),e.JRh(e.bMT(641,285,"Bottle caps")),e.R7$(11),e.JRh(e.bMT(652,287,"Aluminum foil")),e.R7$(11),e.JRh(e.bMT(663,289,"Sheeting")),e.R7$(11),e.JRh(e.bMT(674,291,"Appliances")),e.R7$(12),e.JRh(e.bMT(686,293,"Metal Weight (kg):")),e.R7$(6),e.JRh(e.bMT(692,295,"PAPER AND CARDBOARD")),e.R7$(8),e.JRh(e.bMT(700,297,"Napkins / Toilet paper")),e.R7$(11),e.JRh(e.bMT(711,299,"Cups and plates")),e.R7$(11),e.JRh(e.bMT(722,301,"Cardboard")),e.R7$(11),e.JRh(e.bMT(733,303,"Used wood")),e.R7$(11),e.JRh(e.bMT(744,305,"Cloth")),e.R7$(11),e.JRh(e.bMT(755,307,"Fiberglass")),e.R7$(12),e.JRh(e.bMT(767,309,"Paper & Cardboard Weight (kg):")),e.R7$(6),e.JRh(e.bMT(773,311,"BULKY WASTE")),e.R7$(8),e.JRh(e.bMT(781,313,"Furniture")),e.R7$(11),e.JRh(e.bMT(792,315,"Construction debris")),e.R7$(11),e.JRh(e.bMT(803,317,"Appliances/electronics")),e.R7$(11),e.JRh(e.bMT(814,319,"Large plastics")),e.R7$(11),e.JRh(e.bMT(825,321,"Treated wood")),e.R7$(11),e.JRh(e.bMT(836,323,"Green waste")),e.R7$(12),e.JRh(e.bMT(848,325,"Bulky Waste Weight (kg):")),e.R7$(6),e.JRh(e.bMT(854,327,"ALL TRASH")),e.R7$(9),e.JRh(e.bMT(863,329,"TOTAL WEIGHT (kg):")),e.R7$(3),e.Y8G("ngIf",!o.viewMode),e.R7$(),e.Y8G("ngIf",o.viewMode&&(null==o.currentUser?null:o.currentUser.level)>=4)}},dependencies:[v.bT,T.qT,T.BC,T.cb,T.j4,T.JD,g.Jm,g.QW,g.b_,g.I9,g.ME,g.tN,g.hU,g.W9,g.lO,g.eU,g.iq,g.$w,g.uz,g.he,g.FH,g.ln,g.IO,g.nc,g.BC,g.ai,g.su,g.Gw,g.el,g.T6,I.D],styles:[".cleanup-green[_ngcontent-%COMP%]{--background: #4fb3bf;color:#fff}.cleanup-green[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%);width:100%;pointer-events:none}.cleanup-green.compact-toolbar[_ngcontent-%COMP%]{--min-height: 28px;--padding-top: 5px;--padding-bottom: 5px}.edit-mode-banner[_ngcontent-%COMP%]{padding:.75rem 1rem;margin:.5rem;border-radius:.5rem}.edit-mode-banner[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: .5rem;font-weight:600}.edit-mode-banner.editing[_ngcontent-%COMP%]{background:#fff3cd;border:1px solid #ffc107;display:flex;align-items:center;gap:.5rem;color:#856404;font-weight:500}.edit-mode-banner.editing[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2rem}.date-time-text[_ngcontent-%COMP%]{display:block;text-align:center;color:#fffffff2;font-size:14px;padding:0;margin:3px 0;font-weight:400;letter-spacing:.3px;line-height:1.2}.metadata-toolbar[_ngcontent-%COMP%]{--min-height: 40px;--padding-top: 6px;--padding-bottom: 6px}.metadata-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;padding:0 12px;flex-wrap:wrap}.metadata-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;background:#ffffff26;border-radius:16px;padding:5px 10px;cursor:pointer;transition:all .2s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.metadata-item[_ngcontent-%COMP%]:active{transform:scale(.95);background:#ffffff40}.metadata-icon[_ngcontent-%COMP%]{font-size:14px;color:#ffffffe6;min-width:14px}.metadata-label[_ngcontent-%COMP%]{color:#fff;font-size:12px;font-weight:500;letter-spacing:.2px;white-space:nowrap;max-width:120px;overflow:hidden;text-overflow:ellipsis}.edit-location-link[_ngcontent-%COMP%]{color:#ffffffe6;font-size:11px;text-decoration:underline;cursor:pointer;margin-left:8px;padding:4px 8px}.edit-location-link[_ngcontent-%COMP%]:active{opacity:.7}.status-icon[_ngcontent-%COMP%]{font-size:14px;margin-left:2px}.status-icon.success[_ngcontent-%COMP%]{color:#52a676}.status-icon.required[_ngcontent-%COMP%]{color:#ffd93d;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.6}}.progress-text[_ngcontent-%COMP%]{display:block;text-align:center;color:#fff;font-size:13px;padding:0;margin:0 0 4px;font-weight:400;line-height:1}ion-card[_ngcontent-%COMP%]{margin:16px;border-radius:12px;box-shadow:0 2px 8px #0000001a}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{border-radius:12px 12px 0 0;padding:16px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#fff}@media (min-width: 400px) and (max-width: 800px){ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.25rem}}@media (max-width: 399px) and (min-width: 360px){ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 359px){ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:.95rem}}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{background:#fff;padding:16px}.cleanup-green[_ngcontent-%COMP%]{--background: #4fb3bf}.plastics-header[_ngcontent-%COMP%]{--background: #D4A73C}.plastics-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{color:#333}.glass-header[_ngcontent-%COMP%]{--background: #4dbba7}.metal-header[_ngcontent-%COMP%]{--background: #52a676}.paper-header[_ngcontent-%COMP%]{--background: #ec7063}.bulky-header[_ngcontent-%COMP%]{--background: #2d8659}.total-header[_ngcontent-%COMP%]{--background: #4fb3bf}.table-container[_ngcontent-%COMP%]{overflow-x:auto;margin:0 -16px}.waste-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.875rem}.waste-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f5f5f5}.waste-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 8px;text-align:center;font-weight:600;border:1px solid #ddd;font-size:.875rem}.waste-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ddd}.waste-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.category-row[_ngcontent-%COMP%]{background:#f4d03f;color:#333;font-weight:700}.waste-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.category-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 12px}.waste-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover:not(.category-row){background:#f9f9f9}.waste-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:left;border:1px solid #ddd;vertical-align:middle}.waste-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.weight-cell[_ngcontent-%COMP%]{background:#f0f0f0;font-weight:600}.waste-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.weight-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-right:8px}.waste-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.total-weight-cell[_ngcontent-%COMP%]{background:#e8e8e8;font-weight:700;text-align:center;padding:12px}.tally-control[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}.tally-control[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 4px;--padding-end: 4px;min-width:32px;height:32px;margin:0}.tally-control[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.tally-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:30px;text-align:center;font-weight:600;font-size:.95rem}.tally-control[_ngcontent-%COMP%]   .tally-input[_ngcontent-%COMP%]{max-width:60px;min-width:40px;text-align:center;font-weight:600;font-size:.95rem;--padding-start: 4px;--padding-end: 4px;--padding-top: 4px;--padding-bottom: 4px}.weight-input[_ngcontent-%COMP%]{max-width:120px;display:inline-block;--padding-start: 8px;--padding-end: 8px;font-weight:600}.form-buttons[_ngcontent-%COMP%]{padding:0 16px;margin-top:24px;margin-bottom:32px}.form-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-bottom:12px}.form-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-buttons[_ngcontent-%COMP%]   ion-button.save-draft-button[_ngcontent-%COMP%]{margin:10px 0 12px}.form-buttons[_ngcontent-%COMP%]   .save-draft-button[_ngcontent-%COMP%]{--border-radius: 8px;height:48px;font-size:1rem;font-weight:500;--background: rgba(107, 124, 122, .1);--border-color: #6b7c7a;--color: #6b7c7a;--background-hover: rgba(107, 124, 122, .2);--background-activated: rgba(107, 124, 122, .3)}.form-buttons[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{margin:0;--border-radius: 8px;height:48px;font-size:1.125rem;font-weight:600;--background: #4fb3bf;--background-hover: #3d8f9a;--background-activated: #3d8f9a}.form-buttons[_ngcontent-%COMP%]   .discard-button[_ngcontent-%COMP%]{--border-radius: 8px;height:48px;font-size:1rem;font-weight:500;--color: #e76f51;--border-color: #e76f51;--border-width: 2px;--background-hover: rgba(231, 111, 81, .1);--background-activated: rgba(231, 111, 81, .2);--ripple-color: rgba(231, 111, 81, .3)}.form-buttons[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{margin-top:20px;--background: #d32f2f;--background-hover: #b71c1c;--background-activated: #b71c1c;font-weight:600;height:48px;font-size:1rem}.submit-button[_ngcontent-%COMP%]{margin:24px 16px 32px;--border-radius: 8px;height:48px;font-size:1.125rem;font-weight:600;--background: #4fb3bf;--background-hover: #3d8f9a;--background-activated: #3d8f9a}ion-error[_ngcontent-%COMP%]{color:#e76f51!important;font-size:.75rem!important;margin-top:4px;padding-left:16px}ion-item.item-disabled[_ngcontent-%COMP%], ion-item.item-interactive-disabled[_ngcontent-%COMP%]{opacity:1!important;--opacity: 1 !important}ion-item.item-disabled[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], ion-item.item-interactive-disabled[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{opacity:1!important;color:#000!important}  .item-disabled,   .item-interactive-disabled{opacity:1!important}  .item-disabled ion-label,   .item-disabled .label-text,   .item-disabled .native-input,   .item-disabled .select-text,   .item-disabled .select-icon,   .item-interactive-disabled ion-label,   .item-interactive-disabled .label-text,   .item-interactive-disabled .native-input,   .item-interactive-disabled .select-text,   .item-interactive-disabled .select-icon{opacity:1!important;color:#000!important}  ion-select.select-disabled{opacity:1!important}  ion-select.select-disabled .select-text,   ion-select.select-disabled .select-icon,   ion-select.select-disabled .select-placeholder{opacity:1!important;color:#000!important}  ion-toggle.toggle-disabled{opacity:1!important}  ion-checkbox.checkbox-disabled{opacity:1!important}  ion-input.input-disabled,   ion-textarea.textarea-disabled{opacity:1!important}  ion-input.input-disabled .native-input,   ion-input.input-disabled .native-textarea,   ion-textarea.textarea-disabled .native-input,   ion-textarea.textarea-disabled .native-textarea{opacity:1!important;color:#000!important;-webkit-text-fill-color:#000!important}  ion-content.view-mode .tally-control ion-button{display:none!important}@media (max-width: 768px){.waste-table[_ngcontent-%COMP%]{font-size:.75rem}.waste-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px 4px;font-size:.75rem}.waste-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 4px;font-size:.75rem}.tally-control[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{min-width:28px;height:28px}.tally-control[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.tally-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:24px;font-size:.85rem}}"]}))}return l(),m})()}];let je=(()=>{var l;class m{static#e=l=()=>(this.\u0275fac=function(r){return new(r||m)},this.\u0275mod=e.$C({type:m}),this.\u0275inj=n.G2t({imports:[F.iI.forChild(ye),F.iI]}))}return l(),m})();var Ce=b(4670);let Te=(()=>{var l;class m{static#e=l=()=>(this.\u0275fac=function(r){return new(r||m)},this.\u0275mod=e.$C({type:m}),this.\u0275inj=n.G2t({imports:[v.MD,T.YN,T.X1,g.bv,je,Ce.k]}))}return l(),m})()},7314(x,E,b){b.d(E,{D:()=>g});var v=b(3664),T=b(6845);let g=(()=>{var F;class h{constructor(e){this.translationService=e}transform(e){return this.translationService.t(e)}static#e=F=()=>(this.\u0275fac=function(n){return new(n||h)(v.rXU(T.L,16))},this.\u0275pipe=v.EJ8({name:"t",type:h,pure:!1}))}return F(),h})()},9187(x,E,b){b.d(E,{C:()=>e});var v=b(467),T=b(2084),g=b(2615),F=b(5029),h=b(918),D=b(8863);let e=(()=>{var n;class P{constructor(c,p,u){this.supabase=c,this.sharedDataService=p,this.monitoringLog=u}deleteEntry(c){var p=this;return(0,v.A)(function*(){console.log("[EntryDeletionService] Starting deletion process for:",c);try{const u=yield p.fetchOriginalEntry(c.tableName,c.reportId);if(!u)throw new Error(`Entry not found in table ${c.tableName} with reportId ${c.reportId}`);console.log("[EntryDeletionService] Original entry fetched:",u);const d=yield p.backupToDeletedFiles(c,u);console.log("[EntryDeletionService] Backup completed:",d),yield p.recordDeletionMetadata(c,d,u),console.log("[EntryDeletionService] Deletion metadata recorded"),yield p.deleteImagesFromBucket(u,c.formType,c.reportId),console.log("[EntryDeletionService] Images deleted from bucket"),yield p.deleteJsonFromStorage(c.formType,c.reportId),console.log("[EntryDeletionService] JSON file deleted from storage"),yield p.deleteFromTable(c.tableName,c.reportId),console.log("[EntryDeletionService] Entry deleted from table"),yield p.deleteLocalFile(c.formType,c.reportId),console.log("[EntryDeletionService] Local file deleted");const k=p.getEntrySummary(u,c.formType);p.monitoringLog.recordFormDeleted(c.deletedBy,c.formType,c.reportId,k),console.log("[EntryDeletionService] \u2705 Deletion process completed successfully")}catch(u){throw console.error("[EntryDeletionService] \u274c Deletion process failed:",u),u}})()}getEntrySummary(c,p){const u=[];return c?.location&&u.push(c.location),c?.zone_number&&u.push(`Z${c.zone_number}`),c?.quad_number&&u.push(`Q${c.quad_number}`),c?.observation_date&&u.push(c.observation_date),u.join(", ")||p}fetchOriginalEntry(c,p){var u=this;return(0,v.A)(function*(){const{data:d,error:k}=yield u.supabase.getClient().from(c).select("*").eq("report_id",p).single();if(k)throw console.error("[EntryDeletionService] Error fetching original entry:",k),k;return d})()}backupToDeletedFiles(c,p){var u=this;return(0,v.A)(function*(){const d=`${c.formType}/${c.reportId}`,k=`${d}/${c.reportId}.json`,I=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),{error:$}=yield u.supabase.getClient().storage.from("deleted_files").upload(k,I);if($)throw console.error("[EntryDeletionService] Error backing up JSON:",$),$;const B=[],W=u.getImageBucketName(c.formType),A=u.extractImagePathsFromEntry(p,c.formType,c.reportId);for(const O of A)if(O)try{const{data:V,error:G}=yield u.supabase.getClient().storage.from(W).download(O);if(G){console.warn("[EntryDeletionService] Could not download image:",O,G);continue}const S=`${d}/${O.split("/").pop()}`,{error:J}=yield u.supabase.getClient().storage.from("deleted_files").upload(S,V);J?console.warn("[EntryDeletionService] Could not backup image:",S,J):B.push(S)}catch(V){console.warn("[EntryDeletionService] Error processing image:",V)}return{backupFolderPath:d,jsonBackupPath:k,imageBackupPaths:B}})()}recordDeletionMetadata(c,p,u){var d=this;return(0,v.A)(function*(){const k={original_entry:u,backup_paths:{json:p.jsonBackupPath,images:p.imageBackupPaths},deletion_timestamp:(0,T.E)()},{error:I}=yield d.supabase.getClient().from("deleted_metadata_files").insert({original_report_id:c.reportId,form_type:c.formType,deleted_by:c.deletedBy,deleted_by_email:c.deletedByEmail,original_submitted_by:c.originalSubmittedBy||u.submittedBy,original_submitted_at:c.originalSubmittedAt||u.createdAt,backup_folder_path:p.backupFolderPath,original_table_name:c.tableName,original_storage_path:d.getStoragePath(c.tableName,c.reportId),metadata:k});if(I)throw console.error("[EntryDeletionService] Error recording deletion metadata:",I),I})()}deleteImagesFromBucket(c,p,u){var d=this;return(0,v.A)(function*(){const k=d.getImageBucketName(p),I=d.extractImagePathsFromEntry(c,p,u);for(const $ of I)if($)try{const{error:B}=yield d.supabase.getClient().storage.from(k).remove([$]);B&&console.warn("[EntryDeletionService] Could not delete image:",$,B)}catch(B){console.warn("[EntryDeletionService] Error deleting image:",B)}})()}deleteJsonFromStorage(c,p){var u=this;return(0,v.A)(function*(){const d=u.getReportsBucketName(c),k=`${p}.json`,{error:I}=yield u.supabase.getClient().storage.from(d).remove([k]);I&&console.warn("[EntryDeletionService] Could not delete JSON from storage:",k,I)})()}deleteFromTable(c,p){var u=this;return(0,v.A)(function*(){const{error:d}=yield u.supabase.getClient().from(c).delete().eq("report_id",p);if(d)throw console.error("[EntryDeletionService] Error deleting from table:",d),d})()}deleteLocalFile(c,p){var u=this;return(0,v.A)(function*(){try{const d=u.getLocalFileName(c,p);yield u.sharedDataService.deleteJsonFile(d)}catch(d){console.warn("[EntryDeletionService] Could not delete local file:",d)}})()}getReportsBucketName(c){return c}getImageBucketName(c){return{"flora-fauna":"flora-fauna-images",biomass:"biomass-images",health:"health-images",outplanting:"outplanting-images",restoration:"restoration-images",cleanup:"cleanup-images",pollution:"pollution-images",disturbances:"disturbances-images"}[c]||`${c}-images`}extractImagePathsFromEntry(c,p,u){const d=[];if("health"===p)return d.push(`${u}/soil.jpg`),d.push(`${u}/predation.jpg`),d.push(`${u}/pollution.jpg`),d;if("pollution"===p){d.push(`${u}/greyWater.jpg`),d.push(`${u}/trash.jpg`),d.push(`${u}/sewage.jpg`);for(let k=1;k<=10;k++)d.push(`${u}/photo_${k}.jpg`);return d}if("disturbances"===p)return d.push(`${u}/harvest.jpg`),d.push(`${u}/clearing.jpg`),d.push(`${u}/construction.jpg`),d.push(`${u}/fallenTree.jpg`),d.push(`${u}/erosion.jpg`),d.push(`${u}/accretion.jpg`),d.push(`${u}/diseases.jpg`),d;for(let k=1;k<=20;k++)d.push(`${u}/photo_${k}.jpg`);return d}getStoragePath(c,p){return`${c}/${p}.json`}getLocalFileName(c,p){return`${p}.json`}static#e=n=()=>(this.\u0275fac=function(p){return new(p||P)(g.KVO(F.L),g.KVO(h.H),g.KVO(D.u))},this.\u0275prov=g.jDH({token:P,factory:P.\u0275fac,providedIn:"root"}))}return n(),P})()}}]);