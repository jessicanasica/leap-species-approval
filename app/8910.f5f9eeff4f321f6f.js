"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8910],{4670(qe,Re,J){J.d(Re,{k:()=>ge});var me=J(2615),Ue=J(3664);let ge=(()=>{var Ce;class fe{static#e=Ce=()=>(this.\u0275fac=function(ie){return new(ie||fe)},this.\u0275mod=Ue.$C({type:fe}),this.\u0275inj=me.G2t({}))}return Ce(),fe})()},5010(qe,Re,J){J.d(Re,{I:()=>ie});var me=J(467),Ue=J(7691),ge=J(2615),Ce=J(7863),fe=J(7343),Je=J(5032),Fe=J(6845);let ie=(()=>{var He;class ee{constructor(j,oe,be,we){this.imageCompression=j,this.domController=oe,this.toastController=be,this.ts=we}TakePicture(){var j=this;return(0,me.A)(function*(){const oe=yield Ue.i7.getPhoto({resultType:Ue.LK.Uri,source:Ue.ru.Camera,quality:100}),we=yield(yield fetch(oe.webPath)).blob(),We=yield j.convertBlobToBase64(we);console.log("\u{1f4f8} Photo captured, compressing...");const Le=yield j.imageCompression.compressImage(We),Ne=j.imageCompression.getBase64FileSize(We),Ke=j.imageCompression.getBase64FileSize(Le),Ie=j.imageCompression.getCompressionPercentage(Ne,Ke);return console.log(`\u{1f5dc}\ufe0f Image compressed: ${(Ne/1048576).toFixed(2)}MB \u2192 ${(Ke/1048576).toFixed(2)}MB (${Ie}% reduction)`),Le})()}convertBlobToBase64(j){return new Promise((oe,be)=>{const we=new FileReader;we.onerror=be,we.onload=()=>{oe(we.result)},we.readAsDataURL(j)})}showZoomToast(){var j=this;return(0,me.A)(function*(){const oe="en"===j.ts.getLanguage()?"Pinch to zoom before taking photo":"Pini pou zome avan pran foto";yield(yield j.toastController.create({message:oe,duration:1e4,position:"bottom",color:"dark"})).present()})()}showZoomInstruction(){const j="en"===this.ts.getLanguage()?"Pinch to zoom before taking photo":"Pini pou zome avan pran foto",oe=document.createElement("div");return oe.className="zoom-instruction-overlay",oe.innerHTML=`\n            <div class="zoom-instruction-content">\n                <div class="zoom-icon">\u{1f4f8}</div>\n                <div class="zoom-text">${j}</div>\n                <div class="zoom-gesture">\n                    <div class="finger finger1"></div>\n                    <div class="finger finger2"></div>\n                </div>\n            </div>\n        `,this.domController.write(()=>{document.body.appendChild(oe),setTimeout(()=>{oe.classList.add("show")},100)}),oe}removeZoomInstruction(j){this.domController.write(()=>{j&&j.parentNode&&(j.classList.remove("show"),setTimeout(()=>{j.parentNode&&j.parentNode.removeChild(j)},300))})}static#e=He=()=>(this.\u0275fac=function(oe){return new(oe||ee)(ge.KVO(Ce.L),ge.KVO(Je.bM),ge.KVO(fe.K_),ge.KVO(Fe.L))},this.\u0275prov=ge.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"}))}return He(),ee})()},7314(qe,Re,J){J.d(Re,{D:()=>ge});var me=J(3664),Ue=J(6845);let ge=(()=>{var Ce;class fe{constructor(Fe){this.translationService=Fe}transform(Fe){return this.translationService.t(Fe)}static#e=Ce=()=>(this.\u0275fac=function(ie){return new(ie||fe)(me.rXU(Ue.L,16))},this.\u0275pipe=me.EJ8({name:"t",type:fe,pure:!1}))}return Ce(),fe})()},7863(qe,Re,J){J.d(Re,{L:()=>gt});var me=J(467);function ge(P,B){return new Promise(function(L,c){let e;return Ce(P).then(function(t){try{return e=t,L(new Blob([B.slice(0,2),e,B.slice(2)],{type:"image/jpeg"}))}catch(f){return c(f)}},c)})}const Ce=P=>new Promise((B,L)=>{const c=new FileReader;c.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let f=0;if(65496!==t.getUint16(f))return L("not a valid JPEG");for(f+=2;;){const a=t.getUint16(f);if(65498===a)break;const A=t.getUint16(f+2);if(65505===a&&1165519206===t.getUint32(f+4)){const m=f+10;let n;switch(t.getUint16(m)){case 18761:n=!0;break;case 19789:n=!1;break;default:return L("TIFF header contains invalid endian")}if(42!==t.getUint16(m+2,n))return L("TIFF header contains invalid version");const o=t.getUint32(m+4,n),r=m+o+2+12*t.getUint16(m+o,n);for(let s=m+o+2;s<r;s+=12)if(274==t.getUint16(s,n)){if(3!==t.getUint16(s+2,n))return L("Orientation data type is invalid");if(1!==t.getUint32(s+4,n))return L("Orientation data count is invalid");t.setUint16(s+8,1,n);break}return B(e.slice(f,f+2+A))}f+=2+A}return B(new Blob)}),c.readAsArrayBuffer(P)});var B,L,c,fe={};({get exports(){return fe},set exports(P){fe=P}}).exports=c={},c.parse=function(e,t){for(var f=c.bin.readUshort,a=c.bin.readUint,A=0,m={},n=new Uint8Array(e),o=n.length-4;101010256!=a(n,o);)o--;A=o,A+=4;var r=f(n,A+=4);f(n,A+=2);var s=a(n,A+=2),d=a(n,A+=4);A+=4,A=d;for(var _=0;_<r;_++){a(n,A),A+=4,A+=4,A+=4,a(n,A+=4),s=a(n,A+=4);var I=a(n,A+=4),b=f(n,A+=4),O=f(n,A+2),R=f(n,A+4);A+=6;var F=a(n,A+=8);A+=4,A+=b+O+R,c._readLocal(n,F,m,s,I,t)}return m},c._readLocal=function(e,t,f,a,A,m){var n=c.bin.readUshort,o=c.bin.readUint;o(e,t),n(e,t+=4),n(e,t+=2);var r=n(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var s=n(e,t+=8),d=n(e,t+=2),_=c.bin.readUTF8(e,t+=2,s);if(t+=s,t+=d,m)f[_]={size:A,csize:a};else{var I=new Uint8Array(e.buffer,t);if(0==r)f[_]=new Uint8Array(I.buffer.slice(t,t+a));else{if(8!=r)throw"unknown compression method: "+r;var b=new Uint8Array(A);c.inflateRaw(I,b),f[_]=b}}},c.inflateRaw=function(e,t){return c.F.inflate(e,t)},c.inflate=function(e,t){return c.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},c.deflate=function(e,t){null==t&&(t={level:6});var f=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[f]=120,a[f+1]=156,f=c.F.deflateRaw(e,a,f+=2,t.level);var A=c.adler(e,0,e.length);return a[f+0]=A>>>24&255,a[f+1]=A>>>16&255,a[f+2]=A>>>8&255,a[f+3]=A>>>0&255,new Uint8Array(a.buffer,0,f+4)},c.deflateRaw=function(e,t){null==t&&(t={level:6});var f=new Uint8Array(50+Math.floor(1.1*e.length)),a=c.F.deflateRaw(e,f,a,t.level);return new Uint8Array(f.buffer,0,a)},c.encode=function(e,t){null==t&&(t=!1);var f=0,a=c.bin.writeUint,A=c.bin.writeUshort,m={};for(var n in e){var o=!c._noNeed(n)&&!t,r=e[n],s=c.crc.crc(r,0,r.length);m[n]={cpr:o,usize:r.length,crc:s,file:o?c.deflateRaw(r):r}}for(var n in m)f+=m[n].file.length+30+46+2*c.bin.sizeUTF8(n);f+=22;var d=new Uint8Array(f),_=0,I=[];for(var n in m){var b=m[n];I.push(_),_=c._writeHeader(d,_,n,b,0)}var O=0,R=_;for(var n in m)b=m[n],I.push(_),_=c._writeHeader(d,_,n,b,1,I[O++]);var F=_-R;return a(d,_,101010256),_+=4,A(d,_+=4,O),A(d,_+=2,O),a(d,_+=2,F),a(d,_+=4,R),_+=4,_+=2,d.buffer},c._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},c._writeHeader=function(e,t,f,a,A,m){var n=c.bin.writeUint,o=c.bin.writeUshort,r=a.file;return n(e,t,0==A?67324752:33639248),t+=4,1==A&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,a.cpr?8:0),n(e,t+=2,0),n(e,t+=4,a.crc),n(e,t+=4,r.length),n(e,t+=4,a.usize),o(e,t+=4,c.bin.sizeUTF8(f)),o(e,t+=2,0),t+=2,1==A&&(t+=2,t+=2,n(e,t+=6,m),t+=4),t+=c.bin.writeUTF8(e,t,f),0==A&&(e.set(r,t),t+=r.length),t},c.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var f=t,a=0;a<8;a++)1&f?f=3988292384^f>>>1:f>>>=1;e[t]=f}return e}(),update:function(e,t,f,a){for(var A=0;A<a;A++)e=c.crc.table[255&(e^t[f+A])]^e>>>8;return e},crc:function(e,t,f){return 4294967295^c.crc.update(4294967295,e,t,f)}},c.adler=function(e,t,f){for(var a=1,A=0,m=t,n=t+f;m<n;){for(var o=Math.min(m+5552,n);m<o;)A+=a+=e[m++];a%=65521,A%=65521}return A<<16|a},c.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,f){e[t]=255&f,e[t+1]=f>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,f){e[t]=255&f,e[t+1]=f>>8&255,e[t+2]=f>>16&255,e[t+3]=f>>24&255},readASCII:function(e,t,f){for(var a="",A=0;A<f;A++)a+=String.fromCharCode(e[t+A]);return a},writeASCII:function(e,t,f){for(var a=0;a<f.length;a++)e[t+a]=f.charCodeAt(a)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,f){for(var a,A="",m=0;m<f;m++)A+="%"+c.bin.pad(e[t+m].toString(16));try{a=decodeURIComponent(A)}catch{return c.bin.readASCII(e,t,f)}return a},writeUTF8:function(e,t,f){for(var a=f.length,A=0,m=0;m<a;m++){var n=f.charCodeAt(m);if(4294967168&n)if(4294965248&n)if(4294901760&n){if(4292870144&n)throw"e";e[t+A]=240|n>>18,e[t+A+1]=128|n>>12&63,e[t+A+2]=128|n>>6&63,e[t+A+3]=128|63&n,A+=4}else e[t+A]=224|n>>12,e[t+A+1]=128|n>>6&63,e[t+A+2]=128|63&n,A+=3;else e[t+A]=192|n>>6,e[t+A+1]=128|63&n,A+=2;else e[t+A]=n,A++}return A},sizeUTF8:function(e){for(var t=e.length,f=0,a=0;a<t;a++){var A=e.charCodeAt(a);if(4294967168&A)if(4294965248&A)if(4294901760&A){if(4292870144&A)throw"e";f+=4}else f+=3;else f+=2;else f++}return f}},c.F={},c.F.deflateRaw=function(e,t,f,a){var A=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],m=c.F.U,n=c.F._goodIndex,o=c.F._putsE,r=0,s=f<<3,d=0,_=e.length;if(0==a){for(;r<_;)o(t,s,r+(y=Math.min(65535,_-r))==_?1:0),s=c.F._copyExact(e,r,y,t,s+8),r+=y;return s>>>3}var I=m.lits,b=m.strt,O=m.prev,R=0,F=0,x=0,g=0,T=0,u=0;for(_>2&&(b[u=c.F._hash(e,0)]=0),r=0;r<_;r++){if(T=u,r+1<_-2){u=c.F._hash(e,r+1);var l=r+1&32767;O[l]=b[u],b[u]=l}if(d<=r){(R>14e3||F>26697)&&_-r>100&&(d<r&&(I[R]=r-d,R+=2,d=r),s=c.F._writeBlock(r==_-1||d==_?1:0,I,R,g,e,x,r-x,t,s),R=F=g=0,x=r);var v=0;r<_-2&&(v=c.F._bestMatch(e,r,O,T,Math.min(A[2],_-r),A[3]));var y=v>>>16,w=65535&v;if(0!=v){w=65535&v;var E=n(y=v>>>16,m.of0);m.lhst[257+E]++;var p=n(w,m.df0);m.dhst[p]++,g+=m.exb[E]+m.dxb[p],I[R]=y<<23|r-d,I[R+1]=w<<16|E<<8|p,R+=2,d=r+y}else m.lhst[e[r]]++;F++}}for(x==r&&0!=e.length||(d<r&&(I[R]=r-d,R+=2,d=r),s=c.F._writeBlock(1,I,R,g,e,x,r-x,t,s),R=0,F=0,R=F=g=0,x=r);7&s;)s++;return s>>>3},c.F._bestMatch=function(e,t,f,a,A,m){var n=32767&t,o=f[n],r=n-o+32768&32767;if(o==n||a!=c.F._hash(e,t-r))return 0;for(var s=0,d=0,_=Math.min(32767,t);r<=_&&0!=--m&&o!=n;){if(0==s||e[t+s]==e[t+s-r]){var I=c.F._howLong(e,t,r);if(I>s){if(d=r,(s=I)>=A)break;r+2<I&&(I=r+2);for(var b=0,O=0;O<I-2;O++){var R=t-r+O+32768&32767,F=R-f[R]+32768&32767;F>b&&(b=F,o=R)}}}r+=(n=o)-(o=f[n])+32768&32767}return s<<16|d},c.F._howLong=function(e,t,f){if(e[t]!=e[t-f]||e[t+1]!=e[t+1-f]||e[t+2]!=e[t+2-f])return 0;var a=t,A=Math.min(e.length,t+258);for(t+=3;t<A&&e[t]==e[t-f];)t++;return t-a},c.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},c.saved=0,c.F._writeBlock=function(e,t,f,a,A,m,n,o,r){var s,d,_,I,b,O,R,F,x,g=c.F.U,T=c.F._putsF,u=c.F._putsE;g.lhst[256]++,d=(s=c.F.getTrees())[0],_=s[1],I=s[2],b=s[3],O=s[4],R=s[5],F=s[6],x=s[7];var l=32+(r+3&7?8-(r+3&7):0)+(n<<3),v=a+c.F.contSize(g.fltree,g.lhst)+c.F.contSize(g.fdtree,g.dhst),y=a+c.F.contSize(g.ltree,g.lhst)+c.F.contSize(g.dtree,g.dhst);y+=14+3*R+c.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var w=0;w<286;w++)g.lhst[w]=0;for(w=0;w<30;w++)g.dhst[w]=0;for(w=0;w<19;w++)g.ihst[w]=0;var E=l<v&&l<y?0:v<y?1:2;if(T(o,r,e),T(o,r+1,E),r+=3,0==E){for(;7&r;)r++;r=c.F._copyExact(A,m,n,o,r)}else{var p,C;if(1==E&&(p=g.fltree,C=g.fdtree),2==E){c.F.makeCodes(g.ltree,d),c.F.revCodes(g.ltree,d),c.F.makeCodes(g.dtree,_),c.F.revCodes(g.dtree,_),c.F.makeCodes(g.itree,I),c.F.revCodes(g.itree,I),p=g.ltree,C=g.dtree,u(o,r,b-257),u(o,r+=5,O-1),u(o,r+=5,R-4),r+=4;for(var h=0;h<R;h++)u(o,r+3*h,g.itree[1+(g.ordr[h]<<1)]);r=c.F._codeTiny(F,g.itree,o,r+=3*R),r=c.F._codeTiny(x,g.itree,o,r)}for(var i=m,S=0;S<f;S+=2){for(var U=t[S],Q=U>>>23,H=i+(8388607&U);i<H;)r=c.F._writeLit(A[i++],p,o,r);if(0!=Q){var k=t[S+1],z=k>>16,D=k>>8&255,M=255&k;u(o,r=c.F._writeLit(257+D,p,o,r),Q-g.of0[D]),T(o,r=c.F._writeLit(M,C,o,r+=g.exb[D]),z-g.df0[M]),r+=g.dxb[M],i+=Q}}r=c.F._writeLit(256,p,o,r)}return r},c.F._copyExact=function(e,t,f,a,A){var m=A>>>3;return a[m]=f,a[m+1]=f>>>8,a[m+2]=255-a[m],a[m+3]=255-a[m+1],m+=4,a.set(new Uint8Array(e.buffer,t,f),m),A+(f+4<<3)},c.F.getTrees=function(){for(var e=c.F.U,t=c.F._hufTree(e.lhst,e.ltree,15),f=c.F._hufTree(e.dhst,e.dtree,15),a=[],A=c.F._lenCodes(e.ltree,a),m=[],n=c.F._lenCodes(e.dtree,m),o=0;o<a.length;o+=2)e.ihst[a[o]]++;for(o=0;o<m.length;o+=2)e.ihst[m[o]]++;for(var r=c.F._hufTree(e.ihst,e.itree,7),s=19;s>4&&0==e.itree[1+(e.ordr[s-1]<<1)];)s--;return[t,f,r,A,n,s,a,m]},c.F.getSecond=function(e){for(var t=[],f=0;f<e.length;f+=2)t.push(e[f+1]);return t},c.F.nonZero=function(e){for(var t="",f=0;f<e.length;f+=2)0!=e[f+1]&&(t+=(f>>1)+",");return t},c.F.contSize=function(e,t){for(var f=0,a=0;a<t.length;a++)f+=t[a]*e[1+(a<<1)];return f},c.F._codeTiny=function(e,t,f,a){for(var A=0;A<e.length;A+=2){var m=e[A],n=e[A+1];a=c.F._writeLit(m,t,f,a);var o=16==m?2:17==m?3:7;m>15&&(c.F._putsE(f,a,n,o),a+=o)}return a},c.F._lenCodes=function(e,t){for(var f=e.length;2!=f&&0==e[f-1];)f-=2;for(var a=0;a<f;a+=2){var A=e[a+1],m=a+3<f?e[a+3]:-1,n=a+5<f?e[a+5]:-1,o=0==a?-1:e[a-1];if(0==A&&m==A&&n==A){for(var r=a+5;r+2<f&&e[r+2]==A;)r+=2;(s=Math.min(r+1-a>>>1,138))<11?t.push(17,s-3):t.push(18,s-11),a+=2*s-2}else if(A==o&&m==A&&n==A){for(r=a+5;r+2<f&&e[r+2]==A;)r+=2;var s=Math.min(r+1-a>>>1,6);t.push(16,s-3),a+=2*s-2}else t.push(A,0)}return f>>>1},c.F._hufTree=function(e,t,f){var a=[],A=e.length,m=t.length,n=0;for(n=0;n<m;n+=2)t[n]=0,t[n+1]=0;for(n=0;n<A;n++)0!=e[n]&&a.push({lit:n,f:e[n]});var o=a.length,r=a.slice(0);if(0==o)return 0;if(1==o){var s=a[0].lit;return r=0==s?1:0,t[1+(s<<1)]=1,t[1+(r<<1)]=1,1}a.sort(function(F,x){return F.f-x.f});var d=a[0],_=a[1],I=0,b=1,O=2;for(a[0]={lit:-1,f:d.f+_.f,l:d,r:_,d:0};b!=o-1;)d=I!=b&&(O==o||a[I].f<a[O].f)?a[I++]:a[O++],_=I!=b&&(O==o||a[I].f<a[O].f)?a[I++]:a[O++],a[b++]={lit:-1,f:d.f+_.f,l:d,r:_};var R=c.F.setDepth(a[b-1],0);for(R>f&&(c.F.restrictDepth(r,f,R),R=f),n=0;n<o;n++)t[1+(r[n].lit<<1)]=r[n].d;return R},c.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(c.F.setDepth(e.l,t+1),c.F.setDepth(e.r,t+1))},c.F.restrictDepth=function(e,t,f){var a=0,A=1<<f-t,m=0;for(e.sort(function(o,r){return r.d==o.d?o.f-r.f:r.d-o.d}),a=0;a<e.length&&e[a].d>t;a++){var n=e[a].d;e[a].d=t,m+=A-(1<<f-n)}for(m>>>=f-t;m>0;)(n=e[a].d)<t?(e[a].d++,m-=1<<t-n-1):a++;for(;a>=0;a--)e[a].d==t&&m<0&&(e[a].d--,m++);0!=m&&console.log("debt left")},c.F._goodIndex=function(e,t){var f=0;return t[16|f]<=e&&(f|=16),t[8|f]<=e&&(f|=8),t[4|f]<=e&&(f|=4),t[2|f]<=e&&(f|=2),t[1|f]<=e&&(f|=1),f},c.F._writeLit=function(e,t,f,a){return c.F._putsF(f,a,t[e<<1]),a+t[1+(e<<1)]},c.F.inflate=function(e,t){var f=Uint8Array;if(3==e[0]&&0==e[1])return t||new f(0);var a=c.F,A=a._bitsF,m=a._bitsE,n=a._decodeTiny,o=a.makeCodes,r=a.codes2map,s=a._get17,d=a.U,_=null==t;_&&(t=new f(e.length>>>2<<3));for(var I,b,O=0,R=0,F=0,x=0,g=0,T=0,u=0,l=0,v=0;0==O;)if(O=A(e,v,1),R=A(e,v+1,2),v+=3,0!=R){if(_&&(t=c.F._check(t,l+(1<<17))),1==R&&(I=d.flmap,b=d.fdmap,T=511,u=31),2==R){F=m(e,v,5)+257,x=m(e,v+5,5)+1,g=m(e,v+10,4)+4,v+=14;for(var y=0;y<38;y+=2)d.itree[y]=0,d.itree[y+1]=0;var w=1;for(y=0;y<g;y++){var E=m(e,v+3*y,3);d.itree[1+(d.ordr[y]<<1)]=E,E>w&&(w=E)}v+=3*g,o(d.itree,w),r(d.itree,w,d.imap),I=d.lmap,b=d.dmap,v=n(d.imap,(1<<w)-1,F+x,e,v,d.ttree);var p=a._copyOut(d.ttree,0,F,d.ltree);T=(1<<p)-1;var C=a._copyOut(d.ttree,F,x,d.dtree);u=(1<<C)-1,o(d.ltree,p),r(d.ltree,p,I),o(d.dtree,C),r(d.dtree,C,b)}for(;;){var h=I[s(e,v)&T];v+=15&h;var i=h>>>4;if(i>>>8){if(256==i)break;var S=l+i-254;if(i>264){var U=d.ldef[i-257];S=l+(U>>>3)+m(e,v,7&U),v+=7&U}var Q=b[s(e,v)&u],k=d.ddef[Q>>>4],z=(k>>>4)+A(e,v+=15&Q,15&k);for(v+=15&k,_&&(t=c.F._check(t,l+(1<<17)));l<S;)t[l]=t[l++-z],t[l]=t[l++-z],t[l]=t[l++-z],t[l]=t[l++-z];l=S}else t[l++]=i}}else{7&v&&(v+=8-(7&v));var D=4+(v>>>3),M=e[D-4]|e[D-3]<<8;_&&(t=c.F._check(t,l+M)),t.set(new f(e.buffer,e.byteOffset+D,M),l),v=D+M<<3,l+=M}return t.length==l?t:t.slice(0,l)},c.F._check=function(e,t){var f=e.length;if(t<=f)return e;var a=new Uint8Array(Math.max(f<<1,t));return a.set(e,0),a},c.F._decodeTiny=function(e,t,f,a,A,m){for(var n=c.F._bitsE,o=c.F._get17,r=0;r<f;){var s=e[o(a,A)&t];A+=15&s;var d=s>>>4;if(d<=15)m[r]=d,r++;else{var _=0,I=0;16==d?(I=3+n(a,A,2),A+=2,_=m[r-1]):17==d?(I=3+n(a,A,3),A+=3):18==d&&(I=11+n(a,A,7),A+=7);for(var b=r+I;r<b;)m[r]=_,r++}}return A},c.F._copyOut=function(e,t,f,a){for(var A=0,m=0,n=a.length>>>1;m<f;){var o=e[m+t];a[m<<1]=0,a[1+(m<<1)]=o,o>A&&(A=o),m++}for(;m<n;)a[m<<1]=0,a[1+(m<<1)]=0,m++;return A},c.F.makeCodes=function(e,t){for(var f,a,A,m,n=c.F.U,o=e.length,r=n.bl_count,s=0;s<=t;s++)r[s]=0;for(s=1;s<o;s+=2)r[e[s]]++;var d=n.next_code;for(f=0,r[0]=0,a=1;a<=t;a++)d[a]=f=f+r[a-1]<<1;for(A=0;A<o;A+=2)0!=(m=e[A+1])&&(e[A]=d[m],d[m]++)},c.F.codes2map=function(e,t,f){for(var a=e.length,A=c.F.U.rev15,m=0;m<a;m+=2)if(0!=e[m+1])for(var o=e[m+1],r=m>>1<<4|o,s=t-o,d=e[m]<<s,_=d+(1<<s);d!=_;)f[A[d]>>>15-t]=r,d++},c.F.revCodes=function(e,t){for(var f=c.F.U.rev15,a=15-t,A=0;A<e.length;A+=2)e[A]=f[e[A]<<t-e[A+1]]>>>a},c.F._putsE=function(e,t,f){var a=t>>>3;e[a]|=f<<=7&t,e[a+1]|=f>>>8},c.F._putsF=function(e,t,f){var a=t>>>3;e[a]|=f<<=7&t,e[a+1]|=f>>>8,e[a+2]|=f>>>16},c.F._bitsE=function(e,t,f){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<f)-1},c.F._bitsF=function(e,t,f){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<f)-1},c.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},c.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},c.F.U=(B=Uint16Array,L=Uint32Array,{next_code:new B(16),bl_count:new B(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new B(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new L(32),flmap:new B(512),fltree:[],fdmap:new B(32),fdtree:[],lmap:new B(32768),ltree:[],ttree:[],dmap:new B(32768),dtree:[],imap:new B(512),itree:[],rev15:new B(32768),lhst:new L(286),dhst:new L(30),ihst:new L(19),lits:new L(15e3),strt:new B(65536),prev:new B(32768)}),function(){for(var e=c.F.U,t=0;t<32768;t++){var f=t;f=(4278255360&(f=(4042322160&(f=(3435973836&(f=(2863311530&f)>>>1|(1431655765&f)<<1))>>>2|(858993459&f)<<2))>>>4|(252645135&f)<<4))>>>8|(16711935&f)<<8,e.rev15[t]=(f>>>16|f<<16)>>>17}function a(A,m,n){for(;0!=m--;)A.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),c.F.makeCodes(e.fltree,9),c.F.codes2map(e.fltree,9,e.flmap),c.F.revCodes(e.fltree,9),a(e.fdtree,32,5),c.F.makeCodes(e.fdtree,5),c.F.codes2map(e.fdtree,5,e.fdmap),c.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}();var Fe=function Ue(P,B){return B.forEach(function(L){L&&"string"!=typeof L&&!Array.isArray(L)&&Object.keys(L).forEach(function(c){if("default"!==c&&!(c in P)){var e=Object.getOwnPropertyDescriptor(L,c);Object.defineProperty(P,c,e.get?e:{enumerable:!0,get:function(){return L[c]}})}})}),Object.freeze(P)}({__proto__:null,default:fe},[fe]);const ie=function(){var P={nextZero(n,o){for(;0!=n[o];)o++;return o},readUshort:(n,o)=>n[o]<<8|n[o+1],writeUshort(n,o,r){n[o]=r>>8&255,n[o+1]=255&r},readUint:(n,o)=>16777216*n[o]+(n[o+1]<<16|n[o+2]<<8|n[o+3]),writeUint(n,o,r){n[o]=r>>24&255,n[o+1]=r>>16&255,n[o+2]=r>>8&255,n[o+3]=255&r},readASCII(n,o,r){let s="";for(let d=0;d<r;d++)s+=String.fromCharCode(n[o+d]);return s},writeASCII(n,o,r){for(let s=0;s<r.length;s++)n[o+s]=r.charCodeAt(s)},readBytes(n,o,r){const s=[];for(let d=0;d<r;d++)s.push(n[o+d]);return s},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,o,r){let s,d="";for(let _=0;_<r;_++)d+=`%${P.pad(n[o+_].toString(16))}`;try{s=decodeURIComponent(d)}catch{return P.readASCII(n,o,r)}return s}};function B(n,o,r,s){const d=o*r,_=t(s),I=Math.ceil(o*_/8),b=new Uint8Array(4*d),O=new Uint32Array(b.buffer),{ctype:R}=s,{depth:F}=s,x=P.readUshort;if(6==R){const U=d<<2;if(8==F)for(var g=0;g<U;g+=4)b[g]=n[g],b[g+1]=n[g+1],b[g+2]=n[g+2],b[g+3]=n[g+3];if(16==F)for(g=0;g<U;g++)b[g]=n[g<<1]}else if(2==R){const U=s.tabs.tRNS;if(null==U){if(8==F)for(g=0;g<d;g++){var T=3*g;O[g]=255<<24|n[T+2]<<16|n[T+1]<<8|n[T]}if(16==F)for(g=0;g<d;g++)O[g]=255<<24|n[4+(T=6*g)]<<16|n[T+2]<<8|n[T]}else{var u=U[0];const Q=U[1],H=U[2];if(8==F)for(g=0;g<d;g++){var l=g<<2;O[g]=255<<24|n[2+(T=3*g)]<<16|n[T+1]<<8|n[T],n[T]==u&&n[T+1]==Q&&n[T+2]==H&&(b[l+3]=0)}if(16==F)for(g=0;g<d;g++)l=g<<2,O[g]=255<<24|n[4+(T=6*g)]<<16|n[T+2]<<8|n[T],x(n,T)==u&&x(n,T+2)==Q&&x(n,T+4)==H&&(b[l+3]=0)}}else if(3==R){const U=s.tabs.PLTE,Q=s.tabs.tRNS,H=Q?Q.length:0;if(1==F)for(var v=0;v<r;v++){var y=v*I,w=v*o;for(g=0;g<o;g++){var E=3*(p=n[y+(g>>3)]>>7-(7&g)&1);b[l=w+g<<2]=U[E],b[l+1]=U[E+1],b[l+2]=U[E+2],b[l+3]=p<H?Q[p]:255}}if(2==F)for(v=0;v<r;v++)for(y=v*I,w=v*o,g=0;g<o;g++)E=3*(p=n[y+(g>>2)]>>6-((3&g)<<1)&3),b[l=w+g<<2]=U[E],b[l+1]=U[E+1],b[l+2]=U[E+2],b[l+3]=p<H?Q[p]:255;if(4==F)for(v=0;v<r;v++)for(y=v*I,w=v*o,g=0;g<o;g++)E=3*(p=n[y+(g>>1)]>>4-((1&g)<<2)&15),b[l=w+g<<2]=U[E],b[l+1]=U[E+1],b[l+2]=U[E+2],b[l+3]=p<H?Q[p]:255;if(8==F)for(g=0;g<d;g++){var p;E=3*(p=n[g]),b[l=g<<2]=U[E],b[l+1]=U[E+1],b[l+2]=U[E+2],b[l+3]=p<H?Q[p]:255}}else if(4==R){if(8==F)for(g=0;g<d;g++){var C=n[h=g<<1];b[l=g<<2]=C,b[l+1]=C,b[l+2]=C,b[l+3]=n[h+1]}if(16==F)for(g=0;g<d;g++){var h;C=n[h=g<<2],b[l=g<<2]=C,b[l+1]=C,b[l+2]=C,b[l+3]=n[h+2]}}else if(0==R)for(u=s.tabs.tRNS?s.tabs.tRNS:-1,v=0;v<r;v++){const U=v*I,Q=v*o;if(1==F)for(var i=0;i<o;i++){var S=(C=255*(n[U+(i>>>3)]>>>7-(7&i)&1))==255*u?0:255;O[Q+i]=S<<24|C<<16|C<<8|C}else if(2==F)for(i=0;i<o;i++)S=(C=85*(n[U+(i>>>2)]>>>6-((3&i)<<1)&3))==85*u?0:255,O[Q+i]=S<<24|C<<16|C<<8|C;else if(4==F)for(i=0;i<o;i++)S=(C=17*(n[U+(i>>>1)]>>>4-((1&i)<<2)&15))==17*u?0:255,O[Q+i]=S<<24|C<<16|C<<8|C;else if(8==F)for(i=0;i<o;i++)S=(C=n[U+i])==u?0:255,O[Q+i]=S<<24|C<<16|C<<8|C;else if(16==F)for(i=0;i<o;i++)C=n[U+(i<<1)],S=x(n,U+(i<<1))==u?0:255,O[Q+i]=S<<24|C<<16|C<<8|C}return b}function L(n,o,r,s){const d=t(n),_=Math.ceil(r*d/8),I=new Uint8Array((_+1+n.interlace)*s);return o=n.tabs.CgBI?e(o,I):c(o,I),0==n.interlace?o=f(o,n,0,r,s):1==n.interlace&&(o=function(O,R){const F=R.width,x=R.height,g=t(R),T=g>>3,u=Math.ceil(F*g/8),l=new Uint8Array(x*u);let v=0;const y=[0,0,4,0,2,0,1],w=[0,4,0,2,0,1,0],E=[8,8,8,4,4,2,2],p=[8,8,4,4,2,2,1];let C=0;for(;C<7;){const i=E[C],S=p[C];let U=0,Q=0,H=y[C];for(;H<x;)H+=i,Q++;let k=w[C];for(;k<F;)k+=S,U++;const z=Math.ceil(U*g/8);f(O,R,v,U,Q);let D=0,M=y[C];for(;M<x;){let W=w[C],V=v+D*z<<3;for(;W<F;){var h;if(1==g&&(h=(h=O[V>>3])>>7-(7&V)&1,l[M*u+(W>>3)]|=h<<7-(7&W)),2==g&&(h=(h=O[V>>3])>>6-(7&V)&3,l[M*u+(W>>2)]|=h<<6-((3&W)<<1)),4==g&&(h=(h=O[V>>3])>>4-(7&V)&15,l[M*u+(W>>1)]|=h<<4-((1&W)<<2)),g>=8){const K=M*u+W*T;for(let N=0;N<T;N++)l[K+N]=O[(V>>3)+N]}V+=g,W+=S}D++,M+=i}U*Q!=0&&(v+=Q*(1+z)),C+=1}return l}(o,n)),o}function c(n,o){return e(new Uint8Array(n.buffer,2,n.length-6),o)}var e=function(){const n={H:{}};return n.H.N=function(o,r){const s=Uint8Array;let d,_,I=0,b=0,O=0,R=0,F=0,x=0,g=0,T=0,u=0;if(3==o[0]&&0==o[1])return r||new s(0);const l=n.H,v=l.b,y=l.e,w=l.R,E=l.n,p=l.A,C=l.Z,h=l.m,i=null==r;for(i&&(r=new s(o.length>>>2<<5));0==I;)if(I=v(o,u,1),b=v(o,u+1,2),u+=3,0!=b){if(i&&(r=n.H.W(r,T+(1<<17))),1==b&&(d=h.J,_=h.h,x=511,g=31),2==b){O=y(o,u,5)+257,R=y(o,u+5,5)+1,F=y(o,u+10,4)+4,u+=14;let U=1;for(var S=0;S<38;S+=2)h.Q[S]=0,h.Q[S+1]=0;for(S=0;S<F;S++){const k=y(o,u+3*S,3);h.Q[1+(h.X[S]<<1)]=k,k>U&&(U=k)}u+=3*F,E(h.Q,U),p(h.Q,U,h.u),d=h.w,_=h.d,u=w(h.u,(1<<U)-1,O+R,o,u,h.v);const Q=l.V(h.v,0,O,h.C);x=(1<<Q)-1;const H=l.V(h.v,O,R,h.D);g=(1<<H)-1,E(h.C,Q),p(h.C,Q,d),E(h.D,H),p(h.D,H,_)}for(;;){const U=d[C(o,u)&x];u+=15&U;const Q=U>>>4;if(Q>>>8){if(256==Q)break;{let H=T+Q-254;if(Q>264){const W=h.q[Q-257];H=T+(W>>>3)+y(o,u,7&W),u+=7&W}const k=_[C(o,u)&g];u+=15&k;const D=h.c[k>>>4],M=(D>>>4)+v(o,u,15&D);for(u+=15&D;T<H;)r[T]=r[T++-M],r[T]=r[T++-M],r[T]=r[T++-M],r[T]=r[T++-M];T=H}}else r[T++]=Q}}else{7&u&&(u+=8-(7&u));const U=4+(u>>>3),Q=o[U-4]|o[U-3]<<8;i&&(r=n.H.W(r,T+Q)),r.set(new s(o.buffer,o.byteOffset+U,Q),T),u=U+Q<<3,T+=Q}return r.length==T?r:r.slice(0,T)},n.H.W=function(o,r){const s=o.length;if(r<=s)return o;const d=new Uint8Array(s<<1);return d.set(o,0),d},n.H.R=function(o,r,s,d,_,I){const b=n.H.e,O=n.H.Z;let R=0;for(;R<s;){const F=o[O(d,_)&r];_+=15&F;const x=F>>>4;if(x<=15)I[R]=x,R++;else{let g=0,T=0;16==x?(T=3+b(d,_,2),_+=2,g=I[R-1]):17==x?(T=3+b(d,_,3),_+=3):18==x&&(T=11+b(d,_,7),_+=7);const u=R+T;for(;R<u;)I[R]=g,R++}}return _},n.H.V=function(o,r,s,d){let _=0,I=0;const b=d.length>>>1;for(;I<s;){const O=o[I+r];d[I<<1]=0,d[1+(I<<1)]=O,O>_&&(_=O),I++}for(;I<b;)d[I<<1]=0,d[1+(I<<1)]=0,I++;return _},n.H.n=function(o,r){const s=n.H.m,d=o.length;let _,I,b,O;const R=s.j;for(var F=0;F<=r;F++)R[F]=0;for(F=1;F<d;F+=2)R[o[F]]++;const x=s.K;for(_=0,R[0]=0,I=1;I<=r;I++)_=_+R[I-1]<<1,x[I]=_;for(b=0;b<d;b+=2)O=o[b+1],0!=O&&(o[b]=x[O],x[O]++)},n.H.A=function(o,r,s){const d=o.length,_=n.H.m.r;for(let I=0;I<d;I+=2)if(0!=o[I+1]){const O=o[I+1],R=I>>1<<4|O,F=r-O;let x=o[I]<<F;const g=x+(1<<F);for(;x!=g;)s[_[x]>>>15-r]=R,x++}},n.H.l=function(o,r){const s=n.H.m.r,d=15-r;for(let _=0;_<o.length;_+=2)o[_]=s[o[_]<<r-o[_+1]]>>>d},n.H.M=function(o,r,s){const d=r>>>3;o[d]|=s<<=7&r,o[d+1]|=s>>>8},n.H.I=function(o,r,s){const d=r>>>3;o[d]|=s<<=7&r,o[d+1]|=s>>>8,o[d+2]|=s>>>16},n.H.e=function(o,r,s){return(o[r>>>3]|o[1+(r>>>3)]<<8)>>>(7&r)&(1<<s)-1},n.H.b=function(o,r,s){return(o[r>>>3]|o[1+(r>>>3)]<<8|o[2+(r>>>3)]<<16)>>>(7&r)&(1<<s)-1},n.H.Z=function(o,r){return(o[r>>>3]|o[1+(r>>>3)]<<8|o[2+(r>>>3)]<<16)>>>(7&r)},n.H.i=function(o,r){return(o[r>>>3]|o[1+(r>>>3)]<<8|o[2+(r>>>3)]<<16|o[3+(r>>>3)]<<24)>>>(7&r)},n.H.m=function(){const o=Uint16Array,r=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=n.H.m;for(var r=0;r<32768;r++){let d=r;d=(2863311530&d)>>>1|(1431655765&d)<<1,d=(3435973836&d)>>>2|(858993459&d)<<2,d=(4042322160&d)>>>4|(252645135&d)<<4,d=(4278255360&d)>>>8|(16711935&d)<<8,o.r[r]=(d>>>16|d<<16)>>>17}function s(d,_,I){for(;0!=_--;)d.push(0,I)}for(r=0;r<32;r++)o.q[r]=o.S[r]<<3|o.T[r],o.c[r]=o.p[r]<<4|o.z[r];s(o._,144,8),s(o._,112,9),s(o._,24,7),s(o._,8,8),n.H.n(o._,9),n.H.A(o._,9,o.J),n.H.l(o._,9),s(o.$,32,5),n.H.n(o.$,5),n.H.A(o.$,5,o.h),n.H.l(o.$,5),s(o.Q,19,0),s(o.C,286,0),s(o.D,30,0),s(o.v,320,0)}(),n.H.N}();function t(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function f(n,o,r,s,d){let _=t(o);const I=Math.ceil(s*_/8);let b,O;_=Math.ceil(_/8);let R=n[r],F=0;if(R>1&&(n[r]=[0,0,1][R-2]),3==R)for(F=_;F<I;F++)n[F+1]=n[F+1]+(n[F+1-_]>>>1)&255;for(let x=0;x<d;x++)if(b=r+x*I,O=b+x+1,R=n[O-1],F=0,0==R)for(;F<I;F++)n[b+F]=n[O+F];else if(1==R){for(;F<_;F++)n[b+F]=n[O+F];for(;F<I;F++)n[b+F]=n[O+F]+n[b+F-_]}else if(2==R)for(;F<I;F++)n[b+F]=n[O+F]+n[b+F-I];else if(3==R){for(;F<_;F++)n[b+F]=n[O+F]+(n[b+F-I]>>>1);for(;F<I;F++)n[b+F]=n[O+F]+(n[b+F-I]+n[b+F-_]>>>1)}else{for(;F<_;F++)n[b+F]=n[O+F]+a(0,n[b+F-I],0);for(;F<I;F++)n[b+F]=n[O+F]+a(n[b+F-_],n[b+F-I],n[b+F-_-I])}return n}function a(n,o,r){const s=n+o-r,d=s-n,_=s-o,I=s-r;return d*d<=_*_&&d*d<=I*I?n:_*_<=I*I?o:r}function A(n,o,r){r.width=P.readUint(n,o),r.height=P.readUint(n,o+=4),r.depth=n[o+=4],o++,r.ctype=n[o],o++,r.compress=n[o],o++,r.filter=n[o],o++,r.interlace=n[o],o++}function m(n,o,r,s,d,_,I,b,O){const R=Math.min(o,d),F=Math.min(r,_);let x=0,g=0;for(let C=0;C<F;C++)for(let h=0;h<R;h++)if(I>=0&&b>=0?(x=C*o+h<<2,g=(b+C)*d+I+h<<2):(x=(-b+C)*o-I+h<<2,g=C*d+h<<2),0==O)s[g]=n[x],s[g+1]=n[x+1],s[g+2]=n[x+2],s[g+3]=n[x+3];else if(1==O){var T=.00392156862745098*n[x+3],u=n[x]*T,l=n[x+1]*T,v=n[x+2]*T,y=s[g+3]*(1/255),w=s[g]*y,E=s[g+1]*y,p=s[g+2]*y;const i=1-T,S=T+y*i,U=0==S?0:1/S;s[g+3]=255*S,s[g+0]=(u+w*i)*U,s[g+1]=(l+E*i)*U,s[g+2]=(v+p*i)*U}else if(2==O)u=n[x],l=n[x+1],v=n[x+2],w=s[g],E=s[g+1],p=s[g+2],(T=n[x+3])==(y=s[g+3])&&u==w&&l==E&&v==p?(s[g]=0,s[g+1]=0,s[g+2]=0,s[g+3]=0):(s[g]=u,s[g+1]=l,s[g+2]=v,s[g+3]=T);else if(3==O){if(u=n[x],l=n[x+1],v=n[x+2],w=s[g],E=s[g+1],p=s[g+2],(T=n[x+3])==(y=s[g+3])&&u==w&&l==E&&v==p)continue;if(T<220&&y>20)return!1}return!0}return{decode:function(o){const r=new Uint8Array(o);let s=8;const d=P,_=d.readUshort,I=d.readUint,b={tabs:{},frames:[]},O=new Uint8Array(r.length);let R,F=0,x=0;const g=[137,80,78,71,13,10,26,10];for(var T=0;T<8;T++)if(r[T]!=g[T])throw"The input is not a PNG file!";for(;s<r.length;){const C=d.readUint(r,s);s+=4;const h=d.readASCII(r,s,4);if(s+=4,"IHDR"==h)A(r,s,b);else if("iCCP"==h){for(var u=s;0!=r[u];)u++;d.readASCII(r,s,u-s);const i=r.slice(u+2,s+C);let S=null;try{S=c(i)}catch{S=e(i)}b.tabs[h]=S}else if("CgBI"==h)b.tabs[h]=r.slice(s,s+4);else if("IDAT"==h){for(T=0;T<C;T++)O[F+T]=r[s+T];F+=C}else if("acTL"==h)b.tabs[h]={num_frames:I(r,s),num_plays:I(r,s+4)},R=new Uint8Array(r.length);else if("fcTL"==h){0!=x&&((p=b.frames[b.frames.length-1]).data=L(b,R.slice(0,x),p.rect.width,p.rect.height),x=0);const i={x:I(r,s+12),y:I(r,s+16),width:I(r,s+4),height:I(r,s+8)};let S=_(r,s+22);S=_(r,s+20)/(0==S?100:S);const U={rect:i,delay:Math.round(1e3*S),dispose:r[s+24],blend:r[s+25]};b.frames.push(U)}else if("fdAT"==h){for(T=0;T<C-4;T++)R[x+T]=r[s+T+4];x+=C-4}else if("pHYs"==h)b.tabs[h]=[d.readUint(r,s),d.readUint(r,s+4),r[s+8]];else if("cHRM"==h)for(b.tabs[h]=[],T=0;T<8;T++)b.tabs[h].push(d.readUint(r,s+4*T));else if("tEXt"==h||"zTXt"==h){null==b.tabs[h]&&(b.tabs[h]={});var l=d.nextZero(r,s),v=d.readASCII(r,s,l-s),y=s+C-l-1;if("tEXt"==h)E=d.readASCII(r,l+1,y);else{var w=c(r.slice(l+2,l+2+y));E=d.readUTF8(w,0,w.length)}b.tabs[h][v]=E}else if("iTXt"==h){null==b.tabs[h]&&(b.tabs[h]={}),l=0,l=d.nextZero(r,u=s),v=d.readASCII(r,u,l-u);const i=r[u=l+1];var E;l=d.nextZero(r,u+=2),d.readASCII(r,u,l-u),l=d.nextZero(r,u=l+1),d.readUTF8(r,u,l-u),y=C-((u=l+1)-s),0==i?E=d.readUTF8(r,u,y):(w=c(r.slice(u,u+y)),E=d.readUTF8(w,0,w.length)),b.tabs[h][v]=E}else if("PLTE"==h)b.tabs[h]=d.readBytes(r,s,C);else if("hIST"==h){const i=b.tabs.PLTE.length/3;for(b.tabs[h]=[],T=0;T<i;T++)b.tabs[h].push(_(r,s+2*T))}else if("tRNS"==h)3==b.ctype?b.tabs[h]=d.readBytes(r,s,C):0==b.ctype?b.tabs[h]=_(r,s):2==b.ctype&&(b.tabs[h]=[_(r,s),_(r,s+2),_(r,s+4)]);else if("gAMA"==h)b.tabs[h]=d.readUint(r,s)/1e5;else if("sRGB"==h)b.tabs[h]=r[s];else if("bKGD"==h)0==b.ctype||4==b.ctype?b.tabs[h]=[_(r,s)]:2==b.ctype||6==b.ctype?b.tabs[h]=[_(r,s),_(r,s+2),_(r,s+4)]:3==b.ctype&&(b.tabs[h]=r[s]);else if("IEND"==h)break;s+=C,d.readUint(r,s),s+=4}var p;return 0!=x&&((p=b.frames[b.frames.length-1]).data=L(b,R.slice(0,x),p.rect.width,p.rect.height)),b.data=L(b,O,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(o){const r=o.width,s=o.height;if(null==o.tabs.acTL)return[B(o.data,r,s,o).buffer];const d=[];null==o.frames[0].data&&(o.frames[0].data=o.data);const _=r*s*4,I=new Uint8Array(_),b=new Uint8Array(_),O=new Uint8Array(_);for(let F=0;F<o.frames.length;F++){const x=o.frames[F],g=x.rect.x,T=x.rect.y,u=x.rect.width,l=x.rect.height,v=B(x.data,u,l,o);if(0!=F)for(var R=0;R<_;R++)O[R]=I[R];if(0==x.blend?m(v,u,l,I,r,s,g,T,0):1==x.blend&&m(v,u,l,I,r,s,g,T,1),d.push(I.buffer.slice(0)),0!=x.dispose)if(1==x.dispose)m(b,u,l,I,r,s,g,T,0);else if(2==x.dispose)for(R=0;R<_;R++)I[R]=O[R]}return d},_paeth:a,_copyTile:m,_bin:P}}();!function(){const{_copyTile:P}=ie,{_bin:B}=ie,L=ie._paeth;var c={table:function(){const u=new Uint32Array(256);for(let l=0;l<256;l++){let v=l;for(let y=0;y<8;y++)1&v?v=3988292384^v>>>1:v>>>=1;u[l]=v}return u}(),update(u,l,v,y){for(let w=0;w<y;w++)u=c.table[255&(u^l[v+w])]^u>>>8;return u},crc:(u,l,v)=>4294967295^c.update(4294967295,u,l,v)};function e(u,l,v,y){l[v]+=u[0]*y>>4,l[v+1]+=u[1]*y>>4,l[v+2]+=u[2]*y>>4,l[v+3]+=u[3]*y>>4}function t(u){return Math.max(0,Math.min(255,u))}function f(u,l){const v=u[0]-l[0],y=u[1]-l[1],w=u[2]-l[2],E=u[3]-l[3];return v*v+y*y+w*w+E*E}function a(u,l,v,y,w,E,p){null==p&&(p=1);const C=y.length,h=[];for(var i=0;i<C;i++){const M=y[i];h.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(i=0;i<C;i++){let M=4294967295;for(var S=0,U=0;U<C;U++){var Q=f(h[i],h[U]);U!=i&&Q<M&&(M=Q,S=U)}}const H=new Uint32Array(w.buffer),k=new Int16Array(l*v*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(i=0;i<z.length;i++)z[i]=255*((z[i]+.5)/16-.5);for(let M=0;M<v;M++)for(let W=0;W<l;W++){var D;i=4*(M*l+W),D=2!=p?[t(u[i]+k[i]),t(u[i+1]+k[i+1]),t(u[i+2]+k[i+2]),t(u[i+3]+k[i+3])]:[t(u[i]+(Q=z[4*(3&M)+(3&W)])),t(u[i+1]+Q),t(u[i+2]+Q),t(u[i+3]+Q)],S=0;let V=16777215;for(U=0;U<C;U++){const G=f(D,h[U]);G<V&&(V=G,S=U)}const K=h[S],N=[D[0]-K[0],D[1]-K[1],D[2]-K[2],D[3]-K[3]];1==p&&(W!=l-1&&e(N,k,i+4,7),M!=v-1&&(0!=W&&e(N,k,i+4*l-4,3),e(N,k,i+4*l,5),W!=l-1&&e(N,k,i+4*l+4,1))),E[i>>2]=S,H[i>>2]=y[S]}}function A(u,l,v,y,w){null==w&&(w={});const{crc:E}=c,p=B.writeUint,C=B.writeUshort,h=B.writeASCII;let i=8;const S=u.frames.length>1;let U,Q=!1,H=33+(S?20:0);if(null!=w.sRGB&&(H+=13),null!=w.pHYs&&(H+=21),null!=w.iCCP&&(U=pako.deflate(w.iCCP),H+=21+U.length+4),3==u.ctype){for(var k=u.plte.length,z=0;z<k;z++)u.plte[z]>>>24!=255&&(Q=!0);H+=8+3*k+4+(Q?8+1*k+4:0)}for(var D=0;D<u.frames.length;D++)S&&(H+=38),H+=(K=u.frames[D]).cimg.length+12,0!=D&&(H+=4);H+=12;const M=new Uint8Array(H),W=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)M[z]=W[z];if(p(M,i,13),i+=4,h(M,i,"IHDR"),i+=4,p(M,i,l),i+=4,p(M,i,v),i+=4,M[i]=u.depth,i++,M[i]=u.ctype,i++,M[i]=0,i++,M[i]=0,i++,M[i]=0,i++,p(M,i,E(M,i-17,17)),i+=4,null!=w.sRGB&&(p(M,i,1),i+=4,h(M,i,"sRGB"),i+=4,M[i]=w.sRGB,i++,p(M,i,E(M,i-5,5)),i+=4),null!=w.iCCP){const N=13+U.length;p(M,i,N),i+=4,h(M,i,"iCCP"),i+=4,h(M,i,"ICC profile"),i+=11,i+=2,M.set(U,i),i+=U.length,p(M,i,E(M,i-(N+4),N+4)),i+=4}if(null!=w.pHYs&&(p(M,i,9),i+=4,h(M,i,"pHYs"),i+=4,p(M,i,w.pHYs[0]),i+=4,p(M,i,w.pHYs[1]),i+=4,M[i]=w.pHYs[2],i++,p(M,i,E(M,i-13,13)),i+=4),S&&(p(M,i,8),i+=4,h(M,i,"acTL"),i+=4,p(M,i,u.frames.length),i+=4,p(M,i,null!=w.loop?w.loop:0),i+=4,p(M,i,E(M,i-12,12)),i+=4),3==u.ctype){for(p(M,i,3*(k=u.plte.length)),i+=4,h(M,i,"PLTE"),i+=4,z=0;z<k;z++){const N=3*z,G=u.plte[z],re=G>>>8&255,Se=G>>>16&255;M[i+N+0]=255&G,M[i+N+1]=re,M[i+N+2]=Se}if(i+=3*k,p(M,i,E(M,i-3*k-4,3*k+4)),i+=4,Q){for(p(M,i,k),i+=4,h(M,i,"tRNS"),i+=4,z=0;z<k;z++)M[i+z]=u.plte[z]>>>24&255;i+=k,p(M,i,E(M,i-k-4,k+4)),i+=4}}let V=0;for(D=0;D<u.frames.length;D++){var K=u.frames[D];S&&(p(M,i,26),i+=4,h(M,i,"fcTL"),i+=4,p(M,i,V++),i+=4,p(M,i,K.rect.width),i+=4,p(M,i,K.rect.height),i+=4,p(M,i,K.rect.x),i+=4,p(M,i,K.rect.y),i+=4,C(M,i,y[D]),i+=2,C(M,i,1e3),i+=2,M[i]=K.dispose,i++,M[i]=K.blend,i++,p(M,i,E(M,i-30,30)),i+=4);const N=K.cimg;p(M,i,(k=N.length)+(0==D?0:4)),i+=4;const G=i;h(M,i,0==D?"IDAT":"fdAT"),i+=4,0!=D&&(p(M,i,V++),i+=4),M.set(N,i),i+=k,p(M,i,E(M,G,i-G)),i+=4}return p(M,i,0),i+=4,h(M,i,"IEND"),i+=4,p(M,i,E(M,i-4,4)),i+=4,M.buffer}function m(u,l,v){for(let y=0;y<u.frames.length;y++){const w=u.frames[y],E=w.rect.height,p=new Uint8Array(E*w.bpl+E);w.cimg=s(w.img,E,w.bpp,w.bpl,p,l,v)}}function n(u,l,v,y,w){const E=w[0],p=w[1],C=w[2],h=w[3],i=w[4],S=w[5];let U=6,Q=8,H=255;for(var k=0;k<u.length;k++){const le=new Uint8Array(u[k]);for(var z=le.length,D=0;D<z;D+=4)H&=le[D+3]}const M=255!=H,W=function(X,$,se,ue,te,de){const ne=[];for(var Z=0;Z<X.length;Z++){const he=new Uint8Array(X[Z]),ve=new Uint32Array(he.buffer);var Ae;let pe=0,Me=0,_e=$,xe=se,tt=ue?1:0;if(0!=Z){const pt=de||ue||1==Z||0!=ne[Z-2].dispose?1:2;let nt=0,lt=1e9;for(let je=0;je<pt;je++){var Be=new Uint8Array(X[Z-1-je]);const vt=new Uint32Array(X[Z-1-je]);let Te=$,Pe=se,ze=-1,Ge=-1;for(let Oe=0;Oe<se;Oe++)for(let De=0;De<$;De++)ve[ce=Oe*$+De]!=vt[ce]&&(De<Te&&(Te=De),De>ze&&(ze=De),Oe<Pe&&(Pe=Oe),Oe>Ge&&(Ge=Oe));-1==ze&&(Te=Pe=ze=Ge=0),te&&(!(1&~Te)&&Te--,!(1&~Pe)&&Pe--);const ct=(ze-Te+1)*(Ge-Pe+1);ct<lt&&(lt=ct,nt=je,pe=Te,Me=Pe,_e=ze-Te+1,xe=Ge-Pe+1)}Be=new Uint8Array(X[Z-1-nt]),1==nt&&(ne[Z-1].dispose=2),Ae=new Uint8Array(_e*xe*4),P(Be,$,se,Ae,_e,xe,-pe,-Me,0),tt=P(he,$,se,Ae,_e,xe,-pe,-Me,3)?1:0,1==tt?r(he,$,se,Ae,{x:pe,y:Me,width:_e,height:xe}):P(he,$,se,Ae,_e,xe,-pe,-Me,0)}else Ae=he.slice(0);ne.push({rect:{x:pe,y:Me,width:_e,height:xe},img:Ae,blend:tt,dispose:0})}if(ue)for(Z=0;Z<ne.length;Z++){if(1==(Qe=ne[Z]).blend)continue;const he=Qe.rect,ve=ne[Z-1].rect,pe=Math.min(he.x,ve.x),Me=Math.min(he.y,ve.y),_e={x:pe,y:Me,width:Math.max(he.x+he.width,ve.x+ve.width)-pe,height:Math.max(he.y+he.height,ve.y+ve.height)-Me};ne[Z-1].dispose=1,Z-1!=0&&o(X,$,se,ne,Z-1,_e,te),o(X,$,se,ne,Z,_e,te)}let Ye=0;if(1!=X.length)for(var ce=0;ce<ne.length;ce++){var Qe;Ye+=(Qe=ne[ce]).rect.width*Qe.rect.height}return ne}(u,l,v,E,p,C),V={},K=[],N=[];if(0!=y){const le=[];for(D=0;D<W.length;D++)le.push(W[D].img.buffer);const $=_(function(te){let de=0;for(var ne=0;ne<te.length;ne++)de+=te[ne].byteLength;const Z=new Uint8Array(de);let Ae=0;for(ne=0;ne<te.length;ne++){const Be=new Uint8Array(te[ne]),Ye=Be.length;for(let ce=0;ce<Ye;ce+=4){let Qe=Be[ce],he=Be[ce+1],ve=Be[ce+2];const pe=Be[ce+3];0==pe&&(Qe=he=ve=0),Z[Ae+ce]=Qe,Z[Ae+ce+1]=he,Z[Ae+ce+2]=ve,Z[Ae+ce+3]=pe}Ae+=Ye}return Z.buffer}(le),y);for(D=0;D<$.plte.length;D++)K.push($.plte[D].est.rgba);let se=0;for(D=0;D<W.length;D++){const ue=(q=W[D]).img.length;var G=new Uint8Array($.inds.buffer,se>>2,ue>>2);N.push(G);const te=new Uint8Array($.abuf,se,ue);S&&a(q.img,q.rect.width,q.rect.height,K,te,G),q.img.set(te),se+=ue}}else for(k=0;k<W.length;k++){var q=W[k];const le=new Uint32Array(q.img.buffer);var re=q.rect.width;for(z=le.length,G=new Uint8Array(z),N.push(G),D=0;D<z;D++){const X=le[D];if(0!=D&&X==le[D-1])G[D]=G[D-1];else if(D>re&&X==le[D-re])G[D]=G[D-re];else{let $=V[X];if(null==$&&(V[X]=$=K.length,K.push(X),K.length>=300))break;G[D]=$}}}const Se=K.length;for(Se<=256&&0==i&&(Q=Se<=2?1:Se<=4?2:Se<=16?4:8,Q=Math.max(Q,h)),k=0;k<W.length;k++){re=(q=W[k]).rect.width;const le=q.rect.height;let X=q.img;new Uint32Array(X.buffer);let $=4*re,se=4;if(Se<=256&&0==i){$=Math.ceil(Q*re/8);var Ee=new Uint8Array($*le);const ue=N[k];for(let te=0;te<le;te++){D=te*$;const de=te*re;if(8==Q)for(var Y=0;Y<re;Y++)Ee[D+Y]=ue[de+Y];else if(4==Q)for(Y=0;Y<re;Y++)Ee[D+(Y>>1)]|=ue[de+Y]<<4-4*(1&Y);else if(2==Q)for(Y=0;Y<re;Y++)Ee[D+(Y>>2)]|=ue[de+Y]<<6-2*(3&Y);else if(1==Q)for(Y=0;Y<re;Y++)Ee[D+(Y>>3)]|=ue[de+Y]<<7-1*(7&Y)}X=Ee,U=3,se=1}else if(0==M&&1==W.length){Ee=new Uint8Array(re*le*3);const ue=re*le;for(D=0;D<ue;D++){const te=3*D,de=4*D;Ee[te]=X[de],Ee[te+1]=X[de+1],Ee[te+2]=X[de+2]}X=Ee,U=2,se=3,$=3*re}q.img=X,q.bpl=$,q.bpp=se}return{ctype:U,depth:Q,plte:K,frames:W}}function o(u,l,v,y,w,E,p){const C=Uint8Array,h=Uint32Array,i=new C(u[w-1]),S=new h(u[w-1]),U=w+1<u.length?new C(u[w+1]):null,Q=new C(u[w]),H=new h(Q.buffer);let k=l,z=v,D=-1,M=-1;for(let V=0;V<E.height;V++)for(let K=0;K<E.width;K++){const N=E.x+K,G=E.y+V,q=G*l+N,re=H[q];0==re||0==y[w-1].dispose&&S[q]==re&&(null==U||0!=U[4*q+3])||(N<k&&(k=N),N>D&&(D=N),G<z&&(z=G),G>M&&(M=G))}-1==D&&(k=z=D=M=0),p&&(!(1&~k)&&k--,!(1&~z)&&z--);const W=y[w];W.rect=E={x:k,y:z,width:D-k+1,height:M-z+1},W.blend=1,W.img=new Uint8Array(E.width*E.height*4),0==y[w-1].dispose?(P(i,l,v,W.img,E.width,E.height,-E.x,-E.y,0),r(Q,l,v,W.img,E)):P(Q,l,v,W.img,E.width,E.height,-E.x,-E.y,0)}function r(u,l,v,y,w){P(u,l,v,y,w.width,w.height,-w.x,-w.y,2)}function s(u,l,v,y,w,E,p){const C=[];let h,i=[0,1,2,3,4];-1!=E?i=[E]:(l*y>5e5||1==v)&&(i=[0]),p&&(h={level:0});const S=Fe;for(var U=0;U<i.length;U++){for(let k=0;k<l;k++)d(w,u,k,y,v,i[U]);C.push(S.deflate(w,h))}let Q,H=1e9;for(U=0;U<C.length;U++)C[U].length<H&&(Q=U,H=C[U].length);return C[Q]}function d(u,l,v,y,w,E){const p=v*y;let C=p+v;if(u[C]=E,C++,0==E)if(y<500)for(var h=0;h<y;h++)u[C+h]=l[p+h];else u.set(new Uint8Array(l.buffer,p,y),C);else if(1==E){for(h=0;h<w;h++)u[C+h]=l[p+h];for(h=w;h<y;h++)u[C+h]=l[p+h]-l[p+h-w]+256&255}else if(0==v){for(h=0;h<w;h++)u[C+h]=l[p+h];if(2==E)for(h=w;h<y;h++)u[C+h]=l[p+h];if(3==E)for(h=w;h<y;h++)u[C+h]=l[p+h]-(l[p+h-w]>>1)+256&255;if(4==E)for(h=w;h<y;h++)u[C+h]=l[p+h]-L(l[p+h-w],0,0)+256&255}else{if(2==E)for(h=0;h<y;h++)u[C+h]=l[p+h]+256-l[p+h-y]&255;if(3==E){for(h=0;h<w;h++)u[C+h]=l[p+h]+256-(l[p+h-y]>>1)&255;for(h=w;h<y;h++)u[C+h]=l[p+h]+256-(l[p+h-y]+l[p+h-w]>>1)&255}if(4==E){for(h=0;h<w;h++)u[C+h]=l[p+h]+256-L(0,l[p+h-y],0)&255;for(h=w;h<y;h++)u[C+h]=l[p+h]+256-L(l[p+h-w],l[p+h-y],l[p+h-w-y])&255}}}function _(u,l){const v=new Uint8Array(u),y=v.slice(0),w=new Uint32Array(y.buffer),E=I(y,l),p=E[0],C=E[1],h=v.length,i=new Uint8Array(h>>2);let S;if(v.length<2e7)for(var U=0;U<h;U+=4)S=b(p,Q=v[U]*(1/255),H=v[U+1]*(1/255),k=v[U+2]*(1/255),z=v[U+3]*(1/255)),i[U>>2]=S.ind,w[U>>2]=S.est.rgba;else for(U=0;U<h;U+=4){var Q=.00392156862745098*v[U],H=v[U+1]*(1/255),k=v[U+2]*(1/255),z=v[U+3]*(1/255);for(S=p;S.left;)S=O(S.est,Q,H,k,z)<=0?S.left:S.right;i[U>>2]=S.ind,w[U>>2]=S.est.rgba}return{abuf:y.buffer,inds:i,plte:C}}function I(u,l,v){null==v&&(v=1e-4);const y=new Uint32Array(u.buffer),w={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=x(u,w.i0,w.i1),w.est=g(w.bst);const E=[w];for(;E.length<l;){let C=0,h=0;for(var p=0;p<E.length;p++)E[p].est.L>C&&(C=E[p].est.L,h=p);if(C<v)break;const i=E[h],S=R(u,y,i.i0,i.i1,i.est.e,i.est.eMq255);if(i.i0>=S||i.i1<=S){i.est.L=0;continue}const U={i0:i.i0,i1:S,bst:null,est:null,tdst:0,left:null,right:null};U.bst=x(u,U.i0,U.i1),U.est=g(U.bst);const Q={i0:S,i1:i.i1,bst:null,est:null,tdst:0,left:null,right:null};for(Q.bst={R:[],m:[],N:i.bst.N-U.bst.N},p=0;p<16;p++)Q.bst.R[p]=i.bst.R[p]-U.bst.R[p];for(p=0;p<4;p++)Q.bst.m[p]=i.bst.m[p]-U.bst.m[p];Q.est=g(Q.bst),i.left=U,i.right=Q,E[h]=U,E.push(Q)}for(E.sort((C,h)=>h.bst.N-C.bst.N),p=0;p<E.length;p++)E[p].ind=p;return[w,E]}function b(u,l,v,y,w){if(null==u.left)return u.tdst=function(U,Q,H,k,z){const D=Q-U[0],M=H-U[1],W=k-U[2],V=z-U[3];return D*D+M*M+W*W+V*V}(u.est.q,l,v,y,w),u;const E=O(u.est,l,v,y,w);let p=u.left,C=u.right;E>0&&(p=u.right,C=u.left);const h=b(p,l,v,y,w);if(h.tdst<=E*E)return h;const i=b(C,l,v,y,w);return i.tdst<h.tdst?i:h}function O(u,l,v,y,w){const{e:E}=u;return E[0]*l+E[1]*v+E[2]*y+E[3]*w-u.eMq}function R(u,l,v,y,w,E){for(y-=4;v<y;){for(;F(u,v,w)<=E;)v+=4;for(;F(u,y,w)>E;)y-=4;if(v>=y)break;const p=l[v>>2];l[v>>2]=l[y>>2],l[y>>2]=p,v+=4,y-=4}for(;F(u,v,w)>E;)v-=4;return v+4}function F(u,l,v){return u[l]*v[0]+u[l+1]*v[1]+u[l+2]*v[2]+u[l+3]*v[3]}function x(u,l,v){const y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],E=v-l>>2;for(let p=l;p<v;p+=4){const C=.00392156862745098*u[p],h=u[p+1]*(1/255),i=u[p+2]*(1/255),S=u[p+3]*(1/255);w[0]+=C,w[1]+=h,w[2]+=i,w[3]+=S,y[0]+=C*C,y[1]+=C*h,y[2]+=C*i,y[3]+=C*S,y[5]+=h*h,y[6]+=h*i,y[7]+=h*S,y[10]+=i*i,y[11]+=i*S,y[15]+=S*S}return y[4]=y[1],y[8]=y[2],y[9]=y[6],y[12]=y[3],y[13]=y[7],y[14]=y[11],{R:y,m:w,N:E}}function g(u){const{R:l}=u,{m:v}=u,{N:y}=u,w=v[0],E=v[1],p=v[2],C=v[3],h=0==y?0:1/y,i=[l[0]-w*w*h,l[1]-w*E*h,l[2]-w*p*h,l[3]-w*C*h,l[4]-E*w*h,l[5]-E*E*h,l[6]-E*p*h,l[7]-E*C*h,l[8]-p*w*h,l[9]-p*E*h,l[10]-p*p*h,l[11]-p*C*h,l[12]-C*w*h,l[13]-C*E*h,l[14]-C*p*h,l[15]-C*C*h],S=i,U=T;let Q=[Math.random(),Math.random(),Math.random(),Math.random()],H=0,k=0;if(0!=y)for(let D=0;D<16&&(Q=U.multVec(S,Q),k=Math.sqrt(U.dot(Q,Q)),Q=U.sml(1/k,Q),!(0!=D&&Math.abs(k-H)<1e-9));D++)H=k;const z=[w*h,E*h,p*h,C*h];return{Cov:i,q:z,e:Q,L:H,eMq255:U.dot(U.sml(255,z),Q),eMq:U.dot(Q,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0]))>>>0}}var T={multVec:(u,l)=>[u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3],u[4]*l[0]+u[5]*l[1]+u[6]*l[2]+u[7]*l[3],u[8]*l[0]+u[9]*l[1]+u[10]*l[2]+u[11]*l[3],u[12]*l[0]+u[13]*l[1]+u[14]*l[2]+u[15]*l[3]],dot:(u,l)=>u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3],sml:(u,l)=>[u*l[0],u*l[1],u*l[2],u*l[3]]};ie.encode=function(l,v,y,w,E,p,C){null==w&&(w=0),null==C&&(C=!1);const h=n(l,v,y,w,[!1,!1,!1,0,C,!1]);return m(h,-1),A(h,v,y,E,p)},ie.encodeLL=function(l,v,y,w,E,p,C,h){const i={ctype:0+(1==w?0:2)+(0==E?0:4),depth:p,frames:[]},S=(w+E)*p,U=S*v;for(let Q=0;Q<l.length;Q++)i.frames.push({rect:{x:0,y:0,width:v,height:y},img:new Uint8Array(l[Q]),blend:0,dispose:1,bpp:Math.ceil(S/8),bpl:Math.ceil(U/8)});return m(i,0,!0),A(i,v,y,C,h)},ie.encode.compress=n,ie.encode.dither=a,ie.quantize=_,ie.quantize.getKDtree=I,ie.quantize.getNearest=b}();const He={toArrayBuffer(P,B){const L=P.width,c=P.height,e=L<<2,t=P.getContext("2d").getImageData(0,0,L,c),f=new Uint32Array(t.data.buffer),a=(32*L+31)/32<<2,A=a*c,m=122+A,n=new ArrayBuffer(m),o=new DataView(n),r=1<<20;let s,d,_,I,b=r,O=0,R=0,F=0;function x(u){o.setUint16(R,u,!0),R+=2}function g(u){o.setUint32(R,u,!0),R+=4}function T(u){R+=u}x(19778),g(m),T(4),g(122),g(108),g(L),g(-c>>>0),x(1),x(32),g(3),g(A),g(2835),g(2835),T(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),function u(){for(;O<c&&b>0;){for(I=122+O*a,s=0;s<e;)b--,d=f[F++],_=d>>>24,o.setUint32(I+s,d<<8|_),s+=4;O++}F<f.length?(b=r,setTimeout(u,He._dly)):B(n)}()},toBlob(P,B){this.toArrayBuffer(P,L=>{B(new Blob([L],{type:"image/bmp"}))})},_dly:9};var ee={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ut={[ee.CHROME]:16384,[ee.FIREFOX]:11180,[ee.DESKTOP_SAFARI]:16384,[ee.IE]:8192,[ee.IOS]:4096,[ee.ETC]:8192};const j=typeof window<"u",oe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,be=j&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),we=(j||oe)&&(be&&be.getOriginalSymbol(window,"File")||typeof File<"u"&&File),We=(j||oe)&&(be&&be.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Le(P,B,L=Date.now()){return new Promise(c=>{const e=P.split(","),t=e[0].match(/:(.*?);/)[1],f=globalThis.atob(e[1]);let a=f.length;const A=new Uint8Array(a);for(;a--;)A[a]=f.charCodeAt(a);const m=new Blob([A],{type:t});m.name=B,m.lastModified=L,c(m)})}function Ne(P){return new Promise((B,L)=>{const c=new We;c.onload=()=>B(c.result),c.onerror=e=>L(e),c.readAsDataURL(P)})}function Ke(P){return new Promise((B,L)=>{const c=new Image;c.onload=()=>B(c),c.onerror=e=>L(e),c.src=P})}function Ie(){if(void 0!==Ie.cachedResult)return Ie.cachedResult;let P=ee.ETC;const{userAgent:B}=navigator;return/Chrom(e|ium)/i.test(B)?P=ee.CHROME:/iP(ad|od|hone)/i.test(B)&&/WebKit/i.test(B)?P=ee.IOS:/Safari/i.test(B)?P=ee.DESKTOP_SAFARI:/Firefox/i.test(B)?P=ee.FIREFOX:(/MSIE/i.test(B)||document.documentMode)&&(P=ee.IE),Ie.cachedResult=P}function rt(P,B){const L=Ie(),c=ut[L];let e=P,t=B,f=e*t;const a=e>t?t/e:e/t;for(;f>c*c;){const A=(c+e)/2,m=(c+t)/2;A<m?(t=m,e=m*a):(t=A*a,e=A),f=e*t}return{width:e,height:t}}function $e(P,B){let L,c;try{if(L=new OffscreenCanvas(P,B),c=L.getContext("2d"),null===c)throw new Error("getContext of OffscreenCanvas returns null")}catch{L=document.createElement("canvas"),c=L.getContext("2d")}return L.width=P,L.height=B,[L,c]}function ot(P,B){const{width:L,height:c}=rt(P.width,P.height),[e,t]=$e(L,c);return B&&/jpe?g/.test(B)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(P,0,0,e.width,e.height),e}function Ze(){return void 0!==Ze.cachedResult||(Ze.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ze.cachedResult}function Ve(P,B={}){return new Promise(function(L,c){let e,t;var f=function(){try{return t=ot(e,B.fileType||P.type),L([e,t])}catch(A){return c(A)}},a=function(A){try{var m=function(n){try{throw n}catch(o){return c(o)}};try{let n;return Ne(P).then(function(o){try{return n=o,Ke(n).then(function(r){try{return e=r,function(){try{return f()}catch(s){return c(s)}}()}catch(s){return m(s)}},m)}catch(r){return m(r)}},m)}catch(n){m(n)}}catch(n){return c(n)}};try{if(Ze()||[ee.DESKTOP_SAFARI,ee.MOBILE_SAFARI].includes(Ie()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(P).then(function(A){try{return e=A,f()}catch{return a()}},a)}catch{a()}})}function Xe(P,B,L,c,e=1){return new Promise(function(t,f){let a;if("image/png"===B){let m,n,o;return m=P.getContext("2d"),({data:n}=m.getImageData(0,0,P.width,P.height)),o=ie.encode([n.buffer],P.width,P.height,4096*e),a=new Blob([o],{type:B}),a.name=L,a.lastModified=c,A.call(this)}{let m=function(){return A.call(this)};if("image/bmp"===B)return new Promise(n=>He.toBlob(P,n)).then(function(n){try{return a=n,a.name=L,a.lastModified=c,m.call(this)}catch(o){return f(o)}}.bind(this),f);{let n=function(){return m.call(this)};if("function"==typeof OffscreenCanvas&&P instanceof OffscreenCanvas)return P.convertToBlob({type:B,quality:e}).then(function(o){try{return a=o,a.name=L,a.lastModified=c,n.call(this)}catch(r){return f(r)}}.bind(this),f);{let o;return o=P.toDataURL(B,e),Le(o,L,c).then(function(r){try{return a=r,n.call(this)}catch(s){return f(s)}}.bind(this),f)}}}function A(){return t(a)}})}function ye(P){P.width=0,P.height=0}function ke(){return new Promise(function(P,B){let L,c,e,t,f;return void 0!==ke.cachedResult?P(ke.cachedResult):(L="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",Le("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return c=a,Ve(c).then(function(A){try{return e=A[1],Xe(e,c.type,c.name,c.lastModified).then(function(m){try{return t=m,ye(e),Ve(t).then(function(n){try{return f=n[0],P(ke.cachedResult=1===f.width&&2===f.height)}catch(o){return B(o)}},B)}catch(n){return B(n)}},B)}catch(m){return B(m)}},B)}catch(A){return B(A)}},B))})}function it(P){return new Promise((B,L)=>{const c=new We;c.onload=e=>{const t=new DataView(e.target.result);if(65496!=t.getUint16(0,!1))return B(-2);const f=t.byteLength;let a=2;for(;a<f;){if(t.getUint16(a+2,!1)<=8)return B(-1);const A=t.getUint16(a,!1);if(a+=2,65505==A){if(1165519206!=t.getUint32(a+=2,!1))return B(-1);const m=18761==t.getUint16(a+=6,!1);a+=t.getUint32(a+4,m);const n=t.getUint16(a,m);a+=2;for(let o=0;o<n;o++)if(274==t.getUint16(a+12*o,m))return B(t.getUint16(a+12*o+8,m))}else{if(65280&~A)break;a+=t.getUint16(a,!1)}}return B(-1)},c.onerror=e=>L(e),c.readAsArrayBuffer(P)})}function at(P,B){const{width:L}=P,{height:c}=P,{maxWidthOrHeight:e}=B;let t,f=P;return isFinite(e)&&(L>e||c>e)&&([f,t]=$e(L,c),L>c?(f.width=e,f.height=c/L*e):(f.width=L/c*e,f.height=e),t.drawImage(P,0,0,f.width,f.height),ye(P)),f}function st(P,B){const{width:L}=P,{height:c}=P,[e,t]=$e(L,c);switch(B>4&&B<9?(e.width=c,e.height=L):(e.width=L,e.height=c),B){case 2:t.transform(-1,0,0,1,L,0);break;case 3:t.transform(-1,0,0,-1,L,c);break;case 4:t.transform(1,0,0,-1,0,c);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,c,0);break;case 7:t.transform(0,-1,-1,0,c,L);break;case 8:t.transform(0,-1,1,0,0,L)}return t.drawImage(P,0,0,L,c),ye(P),e}function ft(P,B,L=0){return new Promise(function(c,e){let t,f,a,A,m,n,o,r,s,d,_,I,b,O,R,F,x,g,T,u;function l(y=5){if(B.signal&&B.signal.aborted)throw B.signal.reason;t+=y,B.onProgress(Math.min(t,100))}function v(y){if(B.signal&&B.signal.aborted)throw B.signal.reason;t=Math.min(Math.max(y,t),100),B.onProgress(t)}return t=L,f=B.maxIteration||10,a=1024*B.maxSizeMB*1024,l(),Ve(P,B).then(function(y){try{return[,A]=y,l(),m=at(A,B),l(),new Promise(function(w,E){var p;if(!(p=B.exifOrientation))return it(P).then(function(h){try{return p=h,C.call(this)}catch(i){return E(i)}}.bind(this),E);function C(){return w(p)}return C.call(this)}).then(function(w){try{return n=w,l(),ke().then(function(E){try{return o=E?m:st(m,n),l(),r=B.initialQuality||1,s=B.fileType||P.type,Xe(o,s,P.name,P.lastModified,r).then(function(p){try{{let h=function(){if(f--&&(R>a||R>b)){let S,U;return S=u?.95*T.width:T.width,U=u?.95*T.height:T.height,[x,g]=$e(S,U),g.drawImage(T,0,0,S,U),r*="image/png"===s?.85:.95,Xe(x,s,P.name,P.lastModified,r).then(function(Q){try{return F=Q,ye(T),T=x,R=F.size,v(Math.min(99,Math.floor((O-R)/(O-a)*100))),h}catch(H){return e(H)}},e)}return[1]},i=function(){return ye(T),ye(x),ye(m),ye(o),ye(A),v(100),c(F)};return d=p,l(),_=d.size>a,I=d.size>P.size,_||I?(b=P.size,O=d.size,R=O,T=o,u=!B.alwaysKeepResolution&&_,(C=function(S){for(;S;){if(S.then)return void S.then(C,e);try{if(S.pop){if(S.length)return S.pop()?i.call(this):S;S=h}else S=S.call(this)}catch(U){return e(U)}}}.bind(this))(h)):(v(100),c(d));var C}}catch(h){return e(h)}}.bind(this),e)}catch(p){return e(p)}}.bind(this),e)}catch(E){return e(E)}}.bind(this),e)}catch(w){return e(w)}}.bind(this),e)})}let et;function ae(P,B){return new Promise(function(L,c){let e,t,f,a,A,m;if(e={...B},f=0,({onProgress:a}=e),e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,A="boolean"!=typeof e.useWebWorker||e.useWebWorker,delete e.useWebWorker,e.onProgress=s=>{f=s,"function"==typeof a&&a(f)},!(P instanceof Blob||P instanceof we))return c(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(P.type))return c(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!A||"function"!=typeof Worker||m)return ft(P,e).then(function(s){try{return t=s,r.call(this)}catch(d){return c(d)}}.bind(this),c);var n=function(){try{return r.call(this)}catch(s){return c(s)}}.bind(this),o=function(s){try{return ft(P,e).then(function(d){try{return t=d,n()}catch(_){return c(_)}},c)}catch(d){return c(d)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",function dt(P,B){return new Promise((L,c)=>{et||(et=function(){const a=[];return a.push("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"),URL.createObjectURL(new Blob(a))}());const e=new Worker(et);e.addEventListener("message",function(f){if(B.signal&&B.signal.aborted)e.terminate();else if(void 0===f.data.progress){if(f.data.error)return c(new Error(f.data.error)),void e.terminate();L(f.data.file),e.terminate()}else B.onProgress(f.data.progress)}),e.addEventListener("error",c),B.signal&&B.signal.addEventListener("abort",()=>{c(B.signal.reason),e.terminate()}),e.postMessage({file:P,imageCompressionLibUrl:B.libURL,options:{...B,onProgress:void 0,signal:void 0}})})}(P,e).then(function(s){try{return t=s,n()}catch{return o()}},o)}catch{o()}function r(){try{t.name=P.name,t.lastModified=P.lastModified}catch{}try{e.preserveExif&&"image/jpeg"===P.type&&(!e.fileType||e.fileType&&e.fileType===P.type)&&(t=ge(P,t))}catch{}return L(t)}})}ae.getDataUrlFromFile=Ne,ae.getFilefromDataUrl=Le,ae.loadImage=Ke,ae.drawImageInCanvas=ot,ae.drawFileInCanvas=Ve,ae.canvasToFile=Xe,ae.getExifOrientation=it,ae.handleMaxWidthOrHeight=at,ae.followExifOrientation=st,ae.cleanupCanvasMemory=ye,ae.isAutoOrientationInBrowser=ke,ae.approximateBelowMaximumCanvasSizeOfBrowser=rt,ae.copyExifWithoutOrientation=ge,ae.getBrowserName=Ie,ae.version="2.0.2";var At=J(2615);let gt=(()=>{var P;class B{constructor(){}compressImage(c){var e=this;return(0,me.A)(function*(t,f=1,a=1920){try{const A=e.base64ToFile(t,"image.jpg");if(!A)throw new Error("Invalid base64 image data");console.log("\u{1f5bc}\ufe0f Starting image compression:",{originalSize:A.size/1048576,targetSize:f});const n=yield ae(A,{maxSizeMB:f,maxWidthOrHeight:a,useWebWorker:!0,preserveExif:!0,onProgress:o=>{console.log("Compression progress:",o)}});return console.log("\u2705 Image compression complete:",{originalSize:A.size/1048576,compressedSize:n.size/1048576}),e.blobToBase64(n)}catch(A){return console.error("\u274c Image compression failed:",A),t}}).apply(this,arguments)}compressFile(c){return(0,me.A)(function*(e,t=1,f=1920){try{console.log("\u{1f5bc}\ufe0f Starting file compression:",{originalSize:e.size/1048576,targetSize:t});const A=yield ae(e,{maxSizeMB:t,maxWidthOrHeight:f,useWebWorker:!0,preserveExif:!0});return console.log("\u2705 File compression complete:",{originalSize:e.size/1048576,compressedSize:A.size/1048576}),new File([A],e.name,{type:"image/jpeg"})}catch(a){return console.error("\u274c File compression failed:",a),e}}).apply(this,arguments)}base64ToFile(c,e){try{const t=c.split(",");if(t.length<2)throw new Error("Invalid base64 format");const f=t[0].match(/:(.*?);/);if(!f)throw new Error("Could not determine MIME type");const a=f[1],A=atob(t[1]);let m=A.length;const n=new Uint8Array(m);for(;m--;)n[m]=A.charCodeAt(m);return new File([n],e,{type:a})}catch(t){return console.error("Error converting base64 to file:",t),null}}blobToBase64(c){return new Promise((e,t)=>{const f=new FileReader;f.onload=()=>e(f.result),f.onerror=t,f.readAsDataURL(c)})}getBase64FileSize(c){const e=c.split(",")[1]||c;return Math.round(.75*e.length)}getCompressionPercentage(c,e){return 0===c?0:Math.round((c-e)/c*100)}static#e=P=()=>(this.\u0275fac=function(e){return new(e||B)},this.\u0275prov=At.jDH({token:B,factory:B.\u0275fac,providedIn:"root"}))}return P(),B})()}}]);