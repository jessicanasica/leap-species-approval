"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5053],{4670(b,P,g){g.d(P,{k:()=>m});var p=g(2615),M=g(3664);let m=(()=>{var _;class l{static#t=_=()=>(this.\u0275fac=function(u){return new(u||l)},this.\u0275mod=M.$C({type:l}),this.\u0275inj=p.G2t({}))}return _(),l})()},5053(b,P,g){g.d(P,{BiodiversityPageModule:()=>W});var p=g(2200),M=g(4341),m=g(7343),_=g(8132),l=g(467),O=g(5083),t=g(3664),u=g(2615),y=g(5921),x=g(1084),R=g(752),D=g(918),F=g(3205),$=g(8863),k=g(6845),B=g(7314);function I(r,a){if(1&r){const i=t.RV6();t.j41(0,"ion-card",16),t.bIt("click",function(){u.eBV(i);const e=t.XpG();return u.Njj(e.startBiomassAssessment())}),t.j41(1,"ion-card-content")(2,"div",8),t.EFF(3,"\u{1f333}"),t.k0s(),t.j41(4,"div",9)(5,"h3"),t.EFF(6),t.nI1(7,"t"),t.k0s(),t.j41(8,"p"),t.EFF(9),t.nI1(10,"t"),t.k0s()(),t.nrm(11,"ion-icon",10),t.k0s()()}2&r&&(t.R7$(6),t.JRh(t.bMT(7,2,"Biomass Assessment")),t.R7$(3),t.JRh(t.bMT(10,4,"Measure vegetation biomass and density")))}function T(r,a){1&r&&(t.j41(0,"ion-card",17)(1,"ion-card-content")(2,"div",18)(3,"p",19),t.EFF(4),t.nI1(5,"t"),t.k0s()()()()),2&r&&(t.R7$(4),t.JRh(t.bMT(5,1,"No observations yet")))}function w(r,a){if(1&r&&(t.j41(0,"span",36),t.nrm(1,"ion-icon",37),t.j41(2,"span",24),t.EFF(3),t.k0s()()),2&r){const i=t.XpG().$implicit,n=t.XpG();t.R7$(3),t.JRh(n.getOrganizationName(i.report))}}function A(r,a){if(1&r){const i=t.RV6();t.j41(0,"ion-icon",38),t.bIt("click",function(e){u.eBV(i);const o=t.XpG().$implicit,s=t.XpG();return u.Njj(s.deleteDraft(o,e))}),t.k0s()}}function E(r,a){if(1&r&&(t.j41(0,"p",27),t.EFF(1),t.k0s()),2&r){const i=t.XpG().$implicit,n=t.XpG();t.AVh("threat-details","flora-fauna"===i.type),t.R7$(),t.SpI(" ",n.getAreaDescriptionSummary(i.report)," ")}}function j(r,a){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&r){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",i.report.form.observer||i.report.form.team," \u2022 ")}}function S(r,a){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&r){const i=t.XpG().$implicit;t.R7$(),t.SpI(", Zone ",i.report.form.zoneNumber)}}function z(r,a){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&r){const i=t.XpG().$implicit;t.R7$(),t.SpI(", Quad ",i.report.form.quadNumber)}}function G(r,a){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&r){const i=t.XpG().$implicit,n=t.XpG();t.R7$(),t.SpI(" - ",n.formatAssessmentDate(n.getReportDate(i.report)))}}function N(r,a){if(1&r&&(t.j41(0,"span",39),t.nrm(1,"ion-icon",40),t.j41(2,"span",41),t.EFF(3),t.k0s()()),2&r){const i=t.XpG().$implicit,n=t.XpG();t.R7$(3),t.JRh(n.getPhotoCount(i.report))}}function U(r,a){1&r&&t.nrm(0,"ion-icon",42)}function X(r,a){if(1&r){const i=t.RV6();t.j41(0,"ion-icon",43),t.bIt("click",function(e){u.eBV(i);const o=t.XpG().$implicit,s=t.XpG();return u.Njj(s.viewReport(o,e))}),t.k0s()}}function Y(r,a){if(1&r){const i=t.RV6();t.j41(0,"ion-card",20),t.bIt("click",function(){const e=u.eBV(i).$implicit,o=t.XpG();return u.Njj(o.onReportClick(e))}),t.j41(1,"ion-card-content")(2,"div",18)(3,"div",21)(4,"h4",22),t.EFF(5),t.k0s(),t.j41(6,"span"),t.nrm(7,"ion-icon",23),t.j41(8,"span",24),t.EFF(9),t.nI1(10,"t"),t.k0s()(),t.DNE(11,w,4,1,"span",25)(12,A,1,0,"ion-icon",26),t.k0s(),t.j41(13,"p",27),t.EFF(14),t.k0s(),t.DNE(15,E,2,3,"p",28),t.j41(16,"p",29),t.DNE(17,j,2,1,"span",30),t.EFF(18),t.nI1(19,"t"),t.DNE(20,S,2,1,"span",30)(21,z,2,1,"span",30)(22,G,2,1,"span",30),t.k0s(),t.j41(23,"p",31),t.EFF(24),t.k0s()(),t.j41(25,"div",32),t.DNE(26,N,4,1,"span",33)(27,U,1,0,"ion-icon",34)(28,X,1,0,"ion-icon",35),t.k0s()()()}if(2&r){const i=a.$implicit,n=t.XpG();t.Y8G("button","draft"===i.status),t.R7$(5),t.JRh(n.getReportTitle(i.type)),t.R7$(),t.HbH("status-badge status-"+i.status),t.R7$(),t.Y8G("name",n.getStatusIcon(i.status)),t.R7$(2),t.JRh(t.bMT(10,22,i.status)),t.R7$(2),t.Y8G("ngIf",n.showOrganizationBadge),t.R7$(),t.Y8G("ngIf","draft"===i.status),t.R7$(),t.AVh("threat-details","flora-fauna"===i.type),t.R7$(),t.SpI(" ",n.getSpeciesSummary(i.report)," "),t.R7$(),t.Y8G("ngIf",n.getAreaDescriptionSummary(i.report)),t.R7$(2),t.Y8G("ngIf",i.report.form.observer||i.report.form.team),t.R7$(),t.SpI(" ",i.report.form.location||t.bMT(19,24,"Location not specified")," "),t.R7$(2),t.Y8G("ngIf",i.report.form.zoneNumber),t.R7$(),t.Y8G("ngIf",i.report.form.quadNumber),t.R7$(),t.Y8G("ngIf",n.getReportDate(i.report)),t.R7$(2),t.Lme("",n.getFormDate(i.report),"",n.getEditedInfo(i.report)),t.R7$(2),t.Y8G("ngIf",n.getPhotoCount(i.report)>0),t.R7$(),t.Y8G("ngIf","draft"===i.status),t.R7$(),t.Y8G("ngIf","submitted"===i.status)}}const L=[{path:"",component:(()=>{var r;class a{constructor(n,e,o,s,c,d,f,h,v,C){this.router=n,this.alertController=e,this.loadingController=o,this.toastController=s,this.floraFaunaSyncService=c,this.biomassSyncService=d,this.sharedDataService=f,this.auth=h,this.monitoringLog=v,this.ts=C,this.currentUser=null,this.permissions={},this.allReports=[],this.showOrganizationBadge=!1}ngOnInit(){var n=this;return(0,l.A)(function*(){n.currentUser=n.auth.getCurrentUser(),n.permissions=n.auth.getPermissions(),n.showOrganizationBadge=n.isL4Desktop(),console.log("Biodiversity page permissions:",n.permissions),console.log("Current user:",n.currentUser),console.log("Show organization badge:",n.showOrganizationBadge),yield n.loadReports()})()}ionViewWillEnter(){this.currentUser=this.auth.getCurrentUser(),this.permissions=this.auth.getPermissions(),this.showOrganizationBadge=this.isL4Desktop(),console.log("Biodiversity ionViewWillEnter - Show organization badge:",this.showOrganizationBadge),console.log("Biodiversity ionViewWillEnter - Current user level:",this.currentUser?.level),this.loadReports()}loadReports(){var n=this;return(0,l.A)(function*(){try{const e=yield n.floraFaunaSyncService.getAllReports(),o=yield n.biomassSyncService.getAllReports(),s=[...e.map(c=>({...c,type:"flora-fauna",location:c.report.form?.location,zone:c.report.form?.zoneNumber,quad:c.report.form?.quadNumber})),...o.map(c=>({...c,type:"biomass",location:c.report.form?.location,zone:c.report.form?.zoneNumber,quad:c.report.form?.quadNumber}))];s.sort((c,d)=>{const f=new Date(c.report.updatedAt||c.report.createdAt).getTime();return new Date(d.report.updatedAt||d.report.createdAt).getTime()-f}),n.allReports=s}catch(e){console.error("BiodiversityPage: Failed to load reports:",e)}})()}goBack(){this.router.navigate(["/home"])}startAssessment(){this.router.navigate(["/location-flora-fauna"])}startBiomassAssessment(){this.router.navigate(["/location-biomass"])}getStatusIcon(n){switch(n){case"submitted":return"checkmark-circle";case"pending":return"cloud-upload";case"draft":return"create";default:return"document"}}formatDate(n){const e=new Date(n),s=(new Date).getTime()-e.getTime(),c=Math.floor(s/6e4),d=Math.floor(s/36e5),f=Math.floor(s/864e5);return c<60?`${c} min${1!==c?"s":""} ago`:d<24?`${d} hour${1!==d?"s":""} ago`:f<=3?0===f?"Today, "+e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):1===f?"Yesterday, "+e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):`${f} days ago`:`${e.getDate().toString().padStart(2,"0")}/${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getFullYear()}`}formatAssessmentDate(n){if(!n)return"";const e=n.split("-");return 3===e.length?`${e[2]}/${e[1]}/${e[0]}`:n}getEditedInfo(n){const e=n.editedAt;if(!e)return"";const o=new Date(e);return isNaN(o.getTime())?"":`, edited ${this.formatDate(e)}`}getFormDate(n){const e=n.form?.observationDate||n.form?.date||"",o=n.createdAt||"";if(!o&&!e)return"";const s=o?new Date(o):null,c=e?new Date(e):null;return s&&!isNaN(s.getTime())&&Date.now()-s.getTime()<1728e5?this.formatDate(o):c&&!isNaN(c.getTime())?this.formatDate(e):this.formatDate(o||e)}getReportDate(n){return n.form.assessmentDate?n.form.assessmentDate:n.form.date?n.form.date:""}isL4Desktop(){return!((this.currentUser?.level||1)<4)&&"web"===O.Capacitor.getPlatform()&&this.isDesktopDevice()}isDesktopDevice(){const n=navigator.userAgent.toLowerCase();return/macintosh|windows|linux/i.test(n)&&!/android/i.test(n)}getOrganizationName(n){return n._syncMetadata?.originalSubmittedBy?n._syncMetadata.originalSubmittedBy:this.currentUser?.organization?this.currentUser.organization:this.currentUser?.username||"Unknown"}onReportClick(n){if("draft"===n.status)if("flora-fauna"===n.type){const e=n.report.form?.location,o=n.report.form?.zoneNumber,s=n.report.form?.quadNumber;this.router.navigate(["/flora-fauna"],{queryParams:{location:e,zone:o,quad:s}})}else if("biomass"===n.type){const e=n.report.form?.location,o=n.report.form?.zoneNumber,s=n.report.form?.quadNumber;this.router.navigate(["/biomass"],{queryParams:{location:e,zone:o,quad:s}})}}deleteDraft(n,e){var o=this;return(0,l.A)(function*(){var c;e.stopPropagation(),yield(yield o.alertController.create({header:"Delete Draft",message:"Are you sure you want to delete this draft? This action cannot be undone.",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",role:"destructive",handler:(c=(0,l.A)(function*(){try{const d={location:n.location,zoneNumber:n.zone,quadNumber:n.quad};"flora-fauna"===n.type?yield o.floraFaunaSyncService.clearDraft(d):"biomass"===n.type&&(yield o.biomassSyncService.clearDraft(d));const f=o.getDraftSummary(n);o.monitoringLog.recordFormDeleted(o.currentUser?.username||"unknown",n.type,n.report.reportId,f),yield o.loadReports()}catch(d){console.error("Failed to delete draft:",d)}}),function(){return c.apply(this,arguments)})}]})).present()})()}getDraftSummary(n){const e=[];n.location&&e.push(n.location),n.zone&&e.push(`Z${n.zone}`),n.quad&&e.push(`Q${n.quad}`);const o=n.report.form?.observationDate;return o&&e.push(o),e.join(", ")||n.type}getReportTitle(n){return this.ts.t("flora-fauna"===n?"Flora & Fauna Assessment":"Biomass Assessment")}getSpeciesSummary(n){const e=[];if(n.form.vegetationType||n.form.biomassEstimate)return n.form.vegetationType&&e.push(`${this.ts.t("Vegetation")}: ${n.form.vegetationType}`),n.form.biomassEstimate&&e.push(`${this.ts.t("Biomass")}: ${n.form.biomassEstimate}`),n.form.samplingMethod&&e.push(`${this.ts.t("Method")}: ${n.form.samplingMethod}`),e.length>0?e.join(", "):this.ts.t("Biomass assessment");let o=0;n.form.mangroves&&Array.isArray(n.form.mangroves)&&(o=n.form.mangroves.filter(d=>d.numAdults>0||d.recruitsPresent).length),e.push(o>0?`${o} ${this.ts.t("mangrove species")}`:this.ts.t("No mangrove species"));let s=0;n.form.otherFlora&&Array.isArray(n.form.otherFlora)&&(s=n.form.otherFlora.length),e.push(s>0?`${s} ${this.ts.t("flora species")}`:this.ts.t("No flora species"));let c=0;return n.form.fauna&&Array.isArray(n.form.fauna)&&(c=n.form.fauna.length),e.push(c>0?`${c} ${this.ts.t("fauna species")}`:this.ts.t("No fauna species")),e.join(" \u2022 ")}getPhotoCount(n){let e=0;return n.photos?.biomassPhotos&&Array.isArray(n.photos.biomassPhotos)&&(e+=n.photos.biomassPhotos.filter(o=>o).length),n.photos&&Array.isArray(n.photos)&&(e+=n.photos.filter(o=>o).length),n.photos?.floraPhotos&&Array.isArray(n.photos.floraPhotos)&&(e+=n.photos.floraPhotos.filter(o=>o).length),n.photos?.faunaPhotos&&Array.isArray(n.photos.faunaPhotos)&&(e+=n.photos.faunaPhotos.filter(o=>o).length),e}getAreaDescriptionSummary(n){if(n.form.vegetationType||n.form.biomassEstimate)return"";const e=[],o=n.form;return o.mainRoads&&e.push("Main roads"),o.secondaryRoads&&e.push("Secondary roads"),o.buildings&&Array.isArray(o.buildings)&&o.buildings.length>0&&e.push(`${o.buildings.length} building type(s)`),o.agriculturalFacilities&&e.push("Agricultural facilities"),o.farms&&e.push("Farms"),o.hasDevelopmentOther&&o.developmentOther&&e.push("Other development"),o.hasWaterFlowDisruption&&(e.push("Water flow disrupted"),o.waterFlowTypes&&Array.isArray(o.waterFlowTypes)&&o.waterFlowTypes.length>0&&e.push(`${o.waterFlowTypes.length} disruption type(s)`)),e.length>0?e.join(" \u2022 "):""}viewReport(n,e){e.stopPropagation(),this.router.navigate(["biomass"===n.type?"/biomass":"/flora-fauna"],{queryParams:{viewMode:"true",reportId:n.report.reportId}})}static#t=r=()=>(this.\u0275fac=function(e){return new(e||a)(t.rXU(y.Ix),t.rXU(m.hG),t.rXU(m.Xi),t.rXU(m.K_),t.rXU(x.G),t.rXU(R.P),t.rXU(D.H),t.rXU(F.N),t.rXU($.u),t.rXU(k.L))},this.\u0275cmp=t.VBU({type:a,selectors:[["app-biodiversity"]],standalone:!1,decls:32,vars:19,consts:[[1,"biodiversity-bg",3,"fullscreen"],[1,"page-header","emerald-gradient"],[1,"header-content"],["name","chevron-back",1,"back-icon",3,"click"],["name","leaf-outline",1,"page-icon"],[1,"header-text"],[1,"category-section"],["button","",1,"category-card","green-card",3,"click"],[1,"card-emoji"],[1,"card-info"],["name","chevron-forward",1,"chevron"],["button","","class","category-card brown-card",3,"click",4,"ngIf"],[1,"observations-section"],[1,"section-title"],["class","observation-item",4,"ngIf"],["class","observation-item",3,"button","click",4,"ngFor","ngForOf"],["button","",1,"category-card","brown-card",3,"click"],[1,"observation-item"],[1,"obs-info"],[2,"color","var(--ion-color-medium)","text-align","center"],[1,"observation-item",3,"click","button"],[2,"display","flex","align-items","center","gap","8px","margin-bottom","8px"],[2,"margin","0"],[3,"name"],[1,"status-text"],["class","status-badge status-coral",4,"ngIf"],["name","trash-outline","class","delete-icon",3,"click",4,"ngIf"],[1,"species-count"],["class","species-count",3,"threat-details",4,"ngIf"],[1,"location"],[4,"ngIf"],[1,"time"],[1,"card-right-icons"],["class","photo-count",4,"ngIf"],["name","chevron-forward","class","chevron-small",4,"ngIf"],["name","eye-outline","class","view-icon",3,"click",4,"ngIf"],[1,"status-badge","status-coral"],["name","business-outline"],["name","trash-outline",1,"delete-icon",3,"click"],[1,"photo-count"],["name","images-outline"],[1,"count"],["name","chevron-forward",1,"chevron-small"],["name","eye-outline",1,"view-icon",3,"click"]],template:function(e,o){1&e&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-icon",3),t.bIt("click",function(){return o.goBack()}),t.k0s(),t.nrm(4,"ion-icon",4),t.j41(5,"div",5)(6,"h1"),t.EFF(7),t.nI1(8,"t"),t.k0s(),t.j41(9,"p"),t.EFF(10),t.nI1(11,"t"),t.k0s()()()(),t.j41(12,"div",6)(13,"ion-card",7),t.bIt("click",function(){return o.startAssessment()}),t.j41(14,"ion-card-content")(15,"div",8),t.EFF(16,"\u{1f41f}"),t.k0s(),t.j41(17,"div",9)(18,"h3"),t.EFF(19),t.nI1(20,"t"),t.k0s(),t.j41(21,"p"),t.EFF(22),t.nI1(23,"t"),t.k0s()(),t.nrm(24,"ion-icon",10),t.k0s()(),t.DNE(25,I,12,6,"ion-card",11),t.k0s(),t.j41(26,"div",12)(27,"h3",13),t.EFF(28),t.nI1(29,"t"),t.k0s(),t.DNE(30,T,6,3,"ion-card",14)(31,Y,29,26,"ion-card",15),t.k0s()()),2&e&&(t.Y8G("fullscreen",!0),t.R7$(7),t.JRh(t.bMT(8,9,"Wetland Biodiversity")),t.R7$(3),t.JRh(t.bMT(11,11,"Identify and record species")),t.R7$(9),t.JRh(t.bMT(20,13,"Flora & Fauna Assessment")),t.R7$(3),t.JRh(t.bMT(23,15,"Identify and record wetland species")),t.R7$(3),t.Y8G("ngIf",o.currentUser&&o.currentUser.level>=3),t.R7$(3),t.JRh(t.bMT(29,17,"Recent Observations")),t.R7$(2),t.Y8G("ngIf",0===o.allReports.length),t.R7$(),t.Y8G("ngForOf",o.allReports))},dependencies:[p.Sq,p.bT,m.b_,m.I9,m.W9,m.iq,B.D],styles:[".biodiversity-bg[_ngcontent-%COMP%]{--background: #ffffff}.page-header[_ngcontent-%COMP%]{padding:1.25rem;box-shadow:0 2px 8px #52a67626;color:#fff}.page-header.emerald-gradient[_ngcontent-%COMP%]{background:#52a676}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{font-size:1.5rem;cursor:pointer;transition:transform .2s}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]:hover{transform:translate(-4px)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-icon[_ngcontent-%COMP%]{font-size:1.75rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0 0 .25rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;margin:0;opacity:.9}.category-section[_ngcontent-%COMP%]{padding:1.25rem 1.25rem 1rem;display:flex;flex-direction:column;gap:.75rem}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 6px #0000001a;margin:0;transition:all .3s ease}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.category-section[_ngcontent-%COMP%]   .category-card.green-card[_ngcontent-%COMP%]{background:#52a676}.category-section[_ngcontent-%COMP%]   .category-card.green-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{color:#fff}.category-section[_ngcontent-%COMP%]   .category-card.brown-card[_ngcontent-%COMP%]{background:#52a676}.category-section[_ngcontent-%COMP%]   .category-card.brown-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{color:#fff}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-emoji[_ngcontent-%COMP%]{font-size:2rem}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{flex:1}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin:0 0 .2rem}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;margin:0;opacity:.9}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{font-size:1.25rem}.observations-section[_ngcontent-%COMP%]{padding:0 1.25rem 1.25rem}.observations-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#0d3d2f;font-weight:600;margin-bottom:.75rem}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]{margin-bottom:.75rem;border-radius:.75rem;box-shadow:0 2px 4px #00000014}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem}@media (max-width: 767px){.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{position:relative}}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]{flex:1}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;color:#0d3d2f;margin:0 0 .35rem;font-size:.9rem}@media (max-width: 767px){.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]   .species-count[_ngcontent-%COMP%]{padding-right:6rem}}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]   .species-count[_ngcontent-%COMP%]{font-size:.8rem;color:#52a676;font-weight:500;margin:0 0 .35rem}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]   .species-count.threat-details[_ngcontent-%COMP%]{color:#52a676}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{font-size:.8rem;color:#6b7c7a;margin:0 0 .2rem}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.7rem;color:#6b7c7a;opacity:.7;margin:0}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-right-icons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}@media (max-width: 767px){.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-right-icons[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .photo-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:4px 8px;border-radius:8px;background:#4a90e214;border:1px solid rgba(74,144,226,.2)}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .photo-count[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#4a90e2}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .photo-count[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#4a90e2;min-width:12px;text-align:center}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .chevron-small[_ngcontent-%COMP%]{font-size:1.25rem;color:#6b7c7a}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .delete-icon[_ngcontent-%COMP%]{font-size:1rem;color:#ef4444;cursor:pointer;padding:2px;border-radius:4px;transition:all .2s ease;margin-left:4px}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .delete-icon[_ngcontent-%COMP%]:hover{background:#ef44441a}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#52a676;cursor:pointer;padding:4px;border-radius:4px;transition:all .2s ease}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]:hover{background:#52a6761a}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:3px;padding:3px 8px;border-radius:10px;font-size:10px;font-weight:600;text-transform:capitalize;letter-spacing:.3px;transition:all .2s ease}.status-badge[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px}.status-badge[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{line-height:1}.status-badge.status-submitted[_ngcontent-%COMP%]{background:#52a6761f;color:#52a676;border:1px solid rgba(82,166,118,.25)}.status-badge.status-submitted[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#52a676}.status-badge.status-pending[_ngcontent-%COMP%]{background:#2d86591f;color:#2d8659;border:1px solid rgba(45,134,89,.25)}.status-badge.status-pending[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#2d8659}.status-badge.status-draft[_ngcontent-%COMP%]{background:#6b7c7a1f;color:#6b7c7a;border:1px solid rgba(107,124,122,.25)}.status-badge.status-draft[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#6b7c7a}.status-badge.status-coral[_ngcontent-%COMP%]{background:#ff7f501f;color:coral;border:1px solid rgba(255,127,80,.25)}.status-badge.status-coral[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:coral}"]}))}return r(),a})()}];let V=(()=>{var r;class a{static#t=r=()=>(this.\u0275fac=function(e){return new(e||a)},this.\u0275mod=t.$C({type:a}),this.\u0275inj=u.G2t({imports:[_.iI.forChild(L),_.iI]}))}return r(),a})();var J=g(4670);let W=(()=>{var r;class a{static#t=r=()=>(this.\u0275fac=function(e){return new(e||a)},this.\u0275mod=t.$C({type:a}),this.\u0275inj=u.G2t({imports:[p.MD,M.YN,m.bv,V,J.k]}))}return r(),a})()},7314(b,P,g){g.d(P,{D:()=>m});var p=g(3664),M=g(6845);let m=(()=>{var _;class l{constructor(t){this.translationService=t}transform(t){return this.translationService.t(t)}static#t=_=()=>(this.\u0275fac=function(u){return new(u||l)(p.rXU(M.L,16))},this.\u0275pipe=p.EJ8({name:"t",type:l,pure:!1}))}return _(),l})()}}]);