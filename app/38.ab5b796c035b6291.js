"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[38],{38(k,O,g){g.d(O,{HealthPageModule:()=>at});var P=g(2200),y=g(4341),C=g(7343),b=g(8132),p=g(467),T=g(5083),t=g(3664),u=g(2615),x=g(5921),I=g(3205),j=g(8060),w=g(5735),D=g(6358),S=g(7522),E=g(8863),G=g(6845),z=g(7314);function A(a,c){1&a&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"t"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"Log cleanup efforts and activities")))}function H(a,c){1&a&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"t"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"Monitor mangrove health and restoration")))}function U(a,c){if(1&a){const i=t.RV6();t.j41(0,"ion-card",19),t.bIt("click",function(){u.eBV(i);const o=t.XpG();return u.Njj(o.navigateToHealthForm())}),t.j41(1,"ion-card-content")(2,"div",12),t.EFF(3,"\u271a"),t.k0s(),t.j41(4,"div",13)(5,"h3"),t.EFF(6),t.nI1(7,"t"),t.k0s(),t.j41(8,"p"),t.EFF(9),t.nI1(10,"t"),t.k0s()(),t.nrm(11,"ion-icon",14),t.k0s()()}2&a&&(t.R7$(6),t.JRh(t.bMT(7,2,"Mangrove Health Assessment")),t.R7$(3),t.JRh(t.bMT(10,4,"Tree condition, canopy cover, and vitality")))}function N(a,c){if(1&a){const i=t.RV6();t.j41(0,"ion-card",20),t.bIt("click",function(){u.eBV(i);const o=t.XpG();return u.Njj(o.navigateToRestoration())}),t.j41(1,"ion-card-content")(2,"div",12),t.EFF(3,"\u{1f33f}"),t.k0s(),t.j41(4,"div",13)(5,"h3"),t.EFF(6),t.nI1(7,"t"),t.k0s(),t.j41(8,"p"),t.EFF(9),t.nI1(10,"t"),t.k0s()(),t.nrm(11,"ion-icon",14),t.k0s()()}2&a&&(t.R7$(6),t.JRh(t.bMT(7,2,"Restoration Monitoring")),t.R7$(3),t.JRh(t.bMT(10,4,"Planted seedlings and rehabilitation areas")))}function B(a,c){if(1&a){const i=t.RV6();t.j41(0,"ion-card",21),t.bIt("click",function(){u.eBV(i);const o=t.XpG();return u.Njj(o.navigateToOutplanting())}),t.j41(1,"ion-card-content")(2,"div",12),t.EFF(3,"\u{1f331}"),t.k0s(),t.j41(4,"div",13)(5,"h3"),t.EFF(6),t.nI1(7,"t"),t.k0s(),t.j41(8,"p"),t.EFF(9),t.nI1(10,"t"),t.k0s()(),t.nrm(11,"ion-icon",14),t.k0s()()}2&a&&(t.R7$(6),t.JRh(t.bMT(7,2,"Outplanting Monitoring")),t.R7$(3),t.JRh(t.bMT(10,4,"Track outplanted mangroves and reproduction")))}function L(a,c){1&a&&(t.j41(0,"ion-card",22)(1,"ion-card-content")(2,"div",23)(3,"p",24),t.EFF(4),t.nI1(5,"t"),t.k0s()()()()),2&a&&(t.R7$(4),t.JRh(t.bMT(5,1,"No activities yet")))}function X(a,c){if(1&a&&(t.j41(0,"span",40),t.nrm(1,"ion-icon",41),t.j41(2,"span",29),t.EFF(3),t.k0s()()),2&a){const i=t.XpG().$implicit,n=t.XpG();t.R7$(3),t.JRh(n.getOrganizationName(i.report))}}function Y(a,c){if(1&a){const i=t.RV6();t.j41(0,"ion-icon",42),t.bIt("click",function(o){u.eBV(i);const e=t.XpG().$implicit,s=t.XpG();return u.Njj(s.deleteDraft(e,o))}),t.k0s()}}function J(a,c){if(1&a&&(t.j41(0,"p",32),t.EFF(1),t.k0s()),2&a){const i=t.XpG().$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.getReportSummaryLine2(i.report,i.type)," ")}}function W(a,c){if(1&a&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&a){const i=t.XpG().$implicit;t.R7$(),t.SpI(" ",i.report.form.observer||i.report.form.team," \u2022 ")}}function V(a,c){if(1&a&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&a){const i=t.XpG().$implicit;t.R7$(),t.SpI(", Zone ",i.report.form.zoneNumber)}}function K(a,c){if(1&a&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&a){const i=t.XpG().$implicit;t.R7$(),t.SpI(", Quad ",i.report.form.quadNumber)}}function Q(a,c){if(1&a&&(t.j41(0,"span",43),t.nrm(1,"ion-icon",44),t.j41(2,"span",45),t.EFF(3),t.k0s()()),2&a){const i=t.XpG().$implicit,n=t.XpG();t.R7$(3),t.JRh(n.getPhotoCount(i.report,i.type))}}function Z(a,c){1&a&&t.nrm(0,"ion-icon",46)}function q(a,c){if(1&a){const i=t.RV6();t.j41(0,"ion-icon",47),t.bIt("click",function(o){u.eBV(i);const e=t.XpG().$implicit,s=t.XpG();return u.Njj(s.viewReport(e,o))}),t.k0s()}}function tt(a,c){if(1&a){const i=t.RV6();t.j41(0,"ion-card",25),t.bIt("click",function(){const o=u.eBV(i).$implicit,e=t.XpG();return u.Njj(e.onReportClick(o))}),t.j41(1,"ion-card-content")(2,"div",23)(3,"div",26)(4,"h4",27),t.EFF(5),t.k0s(),t.j41(6,"span"),t.nrm(7,"ion-icon",28),t.j41(8,"span",29),t.EFF(9),t.nI1(10,"t"),t.k0s()(),t.DNE(11,X,4,1,"span",30)(12,Y,1,0,"ion-icon",31),t.k0s(),t.j41(13,"p",32),t.EFF(14),t.k0s(),t.DNE(15,J,2,1,"p",33),t.j41(16,"p",34),t.DNE(17,W,2,1,"span",6),t.EFF(18),t.nI1(19,"t"),t.DNE(20,V,2,1,"span",6)(21,K,2,1,"span",6),t.k0s(),t.j41(22,"p",35),t.EFF(23),t.k0s()(),t.j41(24,"div",36),t.DNE(25,Q,4,1,"span",37)(26,Z,1,0,"ion-icon",38)(27,q,1,0,"ion-icon",39),t.k0s()()()}if(2&a){const i=c.$implicit,n=t.XpG();t.Y8G("button","draft"===i.status),t.R7$(5),t.JRh(n.getReportTitle(i.type)),t.R7$(),t.HbH("status-badge status-"+i.status),t.R7$(),t.Y8G("name",n.getStatusIcon(i.status)),t.R7$(2),t.JRh(t.bMT(10,19,i.status)),t.R7$(2),t.Y8G("ngIf",n.showOrganizationBadge),t.R7$(),t.Y8G("ngIf","draft"===i.status),t.R7$(2),t.SpI(" ",n.getReportSummary(i.report,i.type)," "),t.R7$(),t.Y8G("ngIf",n.getReportSummaryLine2(i.report,i.type)),t.R7$(2),t.Y8G("ngIf",i.report.form.observer||i.report.form.team),t.R7$(),t.SpI(" ",i.report.form.location||i.report.form.site||t.bMT(19,21,"Location not specified")," "),t.R7$(2),t.Y8G("ngIf",i.report.form.zoneNumber),t.R7$(),t.Y8G("ngIf",i.report.form.quadNumber),t.R7$(2),t.Lme("",n.getFormDate(i.report),"",n.getEditedInfo(i.report)),t.R7$(2),t.Y8G("ngIf",n.getPhotoCount(i.report,i.type)>0),t.R7$(),t.Y8G("ngIf","draft"===i.status),t.R7$(),t.Y8G("ngIf","submitted"===i.status)}}const nt=[{path:"",component:(()=>{var a;class c{constructor(n,o,e,s,d,l,r,f,h){this.router=n,this.alertController=o,this.auth=e,this.healthSyncService=s,this.outplantingSyncService=d,this.restorationSyncService=l,this.cleanupSyncService=r,this.monitoringLog=f,this.ts=h,this.currentUser=null,this.permissions={},this.allReports=[],this.showOrganizationBadge=!1}ngOnInit(){var n=this;return(0,p.A)(function*(){n.currentUser=n.auth.getCurrentUser(),n.permissions=n.auth.getPermissions(),n.showOrganizationBadge=n.isL4Desktop(),console.log("Health page permissions:",n.permissions),console.log("Current user:",n.currentUser),console.log("Show organization badge:",n.showOrganizationBadge),yield n.loadReports()})()}ionViewWillEnter(){this.currentUser=this.auth.getCurrentUser(),this.permissions=this.auth.getPermissions(),this.showOrganizationBadge=this.isL4Desktop(),console.log("Health ionViewWillEnter - Show organization badge:",this.showOrganizationBadge),console.log("Health ionViewWillEnter - Current user level:",this.currentUser?.level),this.loadReports()}loadReports(){var n=this;return(0,p.A)(function*(){try{const o=yield n.healthSyncService.getAllReports(),e=yield n.outplantingSyncService.getAllReports(),s=yield n.restorationSyncService.getAllReports(),d=yield n.cleanupSyncService.getAllReports();let l=[...o.map(r=>({...r,type:"health",location:r.report.form?.location,zone:r.report.form?.zoneNumber,quad:r.report.form?.quadNumber})),...e.map(r=>({...r,type:"outplanting",location:r.report.form?.location,zone:r.report.form?.zoneNumber,quad:r.report.form?.quadNumber})),...s.map(r=>({...r,type:"restoration",location:r.report.form?.location,zone:r.report.form?.zoneNumber,quad:r.report.form?.quadNumber})),...d.map(r=>({...r,type:"cleanup",location:r.report.form?.location,zone:r.report.form?.zoneNumber,quad:r.report.form?.quadNumber}))];if(!n.isL4Desktop()){const r=n.currentUser?.organization||n.currentUser?.username||"";(n.currentUser?.level||1)<2&&(l=l.filter(h=>"cleanup"===h.type||"outplanting"===h.type)),r&&(l=l.filter(h=>{if("draft"===h.status)return!0;const M=h.report,$=M.submittedBy||"";if($&&$.includes(r))return!0;const v=M._syncMetadata?.originalSubmittedBy||"";return!!(v&&v.includes(r)||!$&&!v)}))}l.sort((r,f)=>{const h=new Date(r.report.updatedAt||r.report.createdAt).getTime();return new Date(f.report.updatedAt||f.report.createdAt).getTime()-h}),n.allReports=l}catch(o){console.error("HealthPage: Failed to load reports:",o)}})()}goBack(){this.router.navigate(["/home"])}navigateToCleanup(){this.router.navigate(["/location-cleanup"])}navigateToHealthForm(){this.router.navigate(["/location-health"])}navigateToRestoration(){this.router.navigate(["/location-restoration"])}navigateToOutplanting(){this.router.navigate(["/location-outplanting"])}getStatusIcon(n){switch(n){case"submitted":return"checkmark-circle";case"pending":return"cloud-upload";case"draft":return"create";default:return"document"}}formatDate(n){const o=new Date(n),s=(new Date).getTime()-o.getTime(),d=Math.floor(s/6e4),l=Math.floor(s/36e5),r=Math.floor(s/864e5);return d<60?`${d} min${1!==d?"s":""} ago`:l<24?`${l} hour${1!==l?"s":""} ago`:r<=3?0===r?"Today, "+o.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):1===r?"Yesterday, "+o.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):`${r} days ago`:`${o.getDate().toString().padStart(2,"0")}/${(o.getMonth()+1).toString().padStart(2,"0")}/${o.getFullYear()}`}getEditedInfo(n){const o=n.editedAt;if(!o)return"";const e=new Date(o);return isNaN(e.getTime())?"":`, edited ${this.formatDate(o)}`}getFormDate(n){const o=n.form?.date||"",e=n.createdAt||"";if(!e&&!o)return"";const s=e?new Date(e):null,d=o?new Date(o):null;return s&&d&&!isNaN(s.getTime())&&!isNaN(d.getTime())?this.formatDate(d<s?o:e):this.formatDate(e||o)}formatReportDate(n){if(!n)return"";const o=n.split("-");return 3===o.length?`${o[2]}/${o[1]}/${o[0]}`:n}isL4Desktop(){return!((this.currentUser?.level||1)<4)&&"web"===T.Capacitor.getPlatform()&&this.isDesktopDevice()}isDesktopDevice(){const n=navigator.userAgent.toLowerCase();return/macintosh|windows|linux/i.test(n)&&!/android/i.test(n)}getOrganizationName(n){return n._syncMetadata?.originalSubmittedBy?n._syncMetadata.originalSubmittedBy:this.currentUser?.organization?this.currentUser.organization:this.currentUser?.username||"Unknown"}onReportClick(n){if("draft"===n.status){const o={};switch(n.location&&(o.location=n.location),n.zone&&(o.zone=n.zone),n.quad&&(o.quad=n.quad),n.type){case"health":this.router.navigate(["/health-form"],{queryParams:o});break;case"outplanting":this.router.navigate(["/outplanting"],{queryParams:o});break;case"restoration":this.router.navigate(["/restoration"],{queryParams:o});break;case"cleanup":this.router.navigate(["/cleanup"],{queryParams:o})}}}deleteDraft(n,o){var e=this;return(0,p.A)(function*(){var d;o.stopPropagation(),yield(yield e.alertController.create({header:"Delete Draft",message:"Are you sure you want to delete this draft? This action cannot be undone.",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",role:"destructive",handler:(d=(0,p.A)(function*(){try{const l={location:n.location,zoneNumber:n.zone,quadNumber:n.quad};switch(n.type){case"health":yield e.healthSyncService.clearDraft(l);break;case"outplanting":yield e.outplantingSyncService.clearDraft(l);break;case"restoration":yield e.restorationSyncService.clearDraft(l);break;case"cleanup":yield e.cleanupSyncService.clearDraft(l)}const r=e.getDraftSummary(n);e.monitoringLog.recordFormDeleted(e.currentUser?.username||"unknown",n.type,n.report.reportId,r),yield e.loadReports()}catch(l){console.error("Failed to delete draft:",l)}}),function(){return d.apply(this,arguments)})}]})).present()})()}getDraftSummary(n){const o=[];n.location&&o.push(n.location),n.zone&&o.push(`Z${n.zone}`),n.quad&&o.push(`Q${n.quad}`);const e=n.report.form?.observationDate;return e&&o.push(e),o.join(", ")||n.type}getReportTitle(n){switch(n){case"health":return this.ts.t("Health Assessment");case"outplanting":return this.ts.t("Outplanting Monitoring");case"restoration":return this.ts.t("Restoration Monitoring");case"cleanup":return this.ts.t("Cleanup Activity");default:return this.ts.t("Report")}}getReportSummary(n,o){if("health"===o){const e=[],s=[];return n.form.canopyCover&&"<1%"!==n.form.canopyCover&&e.push(`${this.ts.t("Canopy")} ${n.form.canopyCover}`),n.form.recruitmentCover&&"<1%"!==n.form.recruitmentCover&&e.push(`${this.ts.t("Recruitment")} ${n.form.recruitmentCover}`),n.form.deadTrees>0&&s.push(`${n.form.deadTrees} ${this.ts.t("dead")}`),n.form.mushroomEvidence&&s.push(this.ts.t("mushroom evidence")),n.form.soilComposition&&Array.isArray(n.form.soilComposition)&&n.form.soilComposition.length>0&&s.push(`${n.form.soilComposition.length} ${this.ts.t("soil types")}`),n.form.predation&&s.push(`${this.ts.t("predation")}: ${n.form.predation.replace(/_/g," ")}`),e.length>0?e.join(" \u2022 "):this.ts.t("Health assessment")}if("restoration"===o){const e=[],s=[];let d=0,l=0,r=0;return n.form.seedCollection&&Array.isArray(n.form.seedCollection)&&(d=n.form.seedCollection.reduce((f,h)=>f+(h||0),0)),n.form.seedsSowed&&Array.isArray(n.form.seedsSowed)&&(l=n.form.seedsSowed.reduce((f,h)=>f+(h||0),0)),n.form.outplanting&&Array.isArray(n.form.outplanting)&&(r=n.form.outplanting.reduce((f,h)=>f+(h||0),0)),d>0&&e.push(`${d} ${this.ts.t("collected")}`),l>0&&e.push(`${l} ${this.ts.t("sowed")}`),r>0&&e.push(`${r} ${this.ts.t("outplanted")}`),n.form.averageGrowth>0&&s.push(`${this.ts.t("Growth")}: ${n.form.averageGrowth}cm`),n.form.deadTrees>0&&s.push(`${n.form.deadTrees} ${this.ts.t("dead")}`),e.length>0?e.join(" \u2022 "):this.ts.t("Restoration monitoring")}if("outplanting"===o){const e=[],s=[];n.form.individualsOutplanted>0&&e.push(`${n.form.individualsOutplanted} ${this.ts.t("outplanted")}`),n.form.deadOrFailed>0&&e.push(`${n.form.deadOrFailed} ${this.ts.t("failed")}`),n.form.averageGrowth>0&&s.push(`Growth: ${n.form.averageGrowth}cm`);const d=[];return n.form.flowers&&d.push("flowers"),n.form.fruits&&d.push("fruits"),d.length>0&&s.push(d.join(" & ")),e.length>0?e.join(" \u2022 "):this.ts.t("Outplanting monitoring")}if("cleanup"===o){const e=[],s=[],l=["flipFlops","toys","bagsBottles","pens","toothbrushes","lollipopSticks","juicePackets","cigaretteButts","foodWrappers","takeAwayContainers","lids","bottleCaps","beverageBottles","straws","forksKnivesSpoons","bags","cupsPlates","plasticBottle","toothpasteTubes","elasticBands","boxPackaging","wipesPacket","foam","largeFoam","foamPieces","balloons","lighters","householdItems","diapersSanitary","wipes","rubber","biologicalWaste","wovenPlastic"].reduce((m,_)=>m+(n.form[_]||0),0);l>0&&e.push(`${l} ${this.ts.t("plastics")}`);const f=["lures","fishingLineRopes","nets","buoysFloats","otherFishingGear"].reduce((m,_)=>m+(n.form[_]||0),0);f>0&&e.push(`${f} ${this.ts.t("fishing gear")}`);const M=["hardFragments","softFragments"].reduce((m,_)=>m+(n.form[_]||0),0);M>0&&e.push(`${M} ${this.ts.t("remnants")}`);const v=["bottles","bulbsLightTubes","foodContainer","glassFragments","drinkingCans","bottleCaps2","aluminumFoil","sheeting","appliances"].reduce((m,_)=>m+(n.form[_]||0),0);v>0&&e.push(`${v} ${this.ts.t("glass")}`);const R=["napkinsToiletPaper","cupsPlates2","cardboard","usedWood","cloth","fiberglass"].reduce((m,_)=>m+(n.form[_]||0),0);R>0&&e.push(`${R} ${this.ts.t("paper")}`);const F=["furniture","appliancesElectronics","treatedWood","constructionDebris","largePlastics","greenWaste"].reduce((m,_)=>m+(n.form[_]||0),0);return F>0&&e.push(`${F} ${this.ts.t("bulky")}`),n.form.totalWeight>0&&s.push(`Total: ${n.form.totalWeight}kg`),e.length>0?e.join(" \u2022 "):this.ts.t("Cleanup activity")}return""}getReportSummaryLine2(n,o){if("health"===o){const e=[];return n.form.deadTrees>0&&e.push(`${n.form.deadTrees} ${this.ts.t("dead")}`),n.form.mushroomEvidence&&e.push(this.ts.t("mushroom evidence")),n.form.soilComposition&&Array.isArray(n.form.soilComposition)&&n.form.soilComposition.length>0&&e.push(`${n.form.soilComposition.length} ${this.ts.t("soil types")}`),n.form.predation&&e.push(`${this.ts.t("predation")}: ${n.form.predation.replace(/_/g," ")}`),e.join(" \u2022 ")}if("restoration"===o){const e=[];return n.form.averageGrowth>0&&e.push(`${this.ts.t("Growth")}: ${n.form.averageGrowth}cm`),n.form.deadTrees>0&&e.push(`${n.form.deadTrees} ${this.ts.t("dead")}`),e.join(" \u2022 ")}if("outplanting"===o){const e=[];n.form.averageGrowth>0&&e.push(`${this.ts.t("Growth")}: ${n.form.averageGrowth}cm`);const s=[];return n.form.flowers&&s.push(this.ts.t("flowers")),n.form.fruits&&s.push(this.ts.t("fruits")),s.length>0&&e.push(s.join(" & ")),e.join(" \u2022 ")}if("cleanup"===o){const e=[];return n.form.totalWeight>0&&e.push(`${this.ts.t("Total")}: ${n.form.totalWeight}kg`),e.join(" \u2022 ")}return""}getPhotoCount(n,o){let e=0;return"health"===o&&n.photos?(n.photos.soil&&e++,n.photos.predation&&e++,n.photos.pollution&&e++,Array.isArray(n.photos)&&(n.photos[0]&&e++,n.photos[1]&&e++,n.photos[2]&&e++)):"outplanting"===o&&n.photos?(n.photos.site&&e++,n.photos.seedlings&&e++):"restoration"===o&&n.photos?(n.photos.before&&e++,n.photos.after&&e++,n.photos.planting&&e++):"cleanup"===o&&n.photos&&(n.photos.before&&e++,n.photos.sorted&&e++,n.photos.after&&e++),e}viewReport(n,o){o.stopPropagation();const s={health:"/health-form",outplanting:"/outplanting",restoration:"/restoration",cleanup:"/cleanup"}[n.type];s&&this.router.navigate([s],{queryParams:{viewMode:"true",reportId:n.report.reportId}})}static#t=a=()=>(this.\u0275fac=function(o){return new(o||c)(t.rXU(x.Ix),t.rXU(C.hG),t.rXU(I.N),t.rXU(j.r),t.rXU(w.Q),t.rXU(D.T),t.rXU(S.$),t.rXU(E.u),t.rXU(G.L))},this.\u0275cmp=t.VBU({type:c,selectors:[["app-health"]],standalone:!1,decls:33,vars:20,consts:[[1,"health-bg",3,"fullscreen"],[1,"page-header","blue-gradient"],[1,"header-content"],["name","chevron-back",1,"back-icon",3,"click"],["name","heart-outline",1,"page-icon"],[1,"header-text"],[4,"ngIf"],[1,"category-section"],["button","","class","category-card teal-card",3,"click",4,"ngIf"],["button","","class","category-card blue-card",3,"click",4,"ngIf"],["button","","class","category-card green-card",3,"click",4,"ngIf"],["button","",1,"category-card","cleanup-card",3,"click"],[1,"card-emoji"],[1,"card-info"],["name","chevron-forward",1,"chevron"],[1,"observations-section"],[1,"section-title"],["class","observation-item",4,"ngIf"],["class","observation-item",3,"button","click",4,"ngFor","ngForOf"],["button","",1,"category-card","teal-card",3,"click"],["button","",1,"category-card","blue-card",3,"click"],["button","",1,"category-card","green-card",3,"click"],[1,"observation-item"],[1,"obs-info"],[2,"color","var(--ion-color-medium)","text-align","center"],[1,"observation-item",3,"click","button"],[2,"display","flex","align-items","center","gap","8px","margin-bottom","8px"],[2,"margin","0"],[3,"name"],[1,"status-text"],["class","status-badge status-coral",4,"ngIf"],["name","trash-outline","class","delete-icon",3,"click",4,"ngIf"],[1,"health-details"],["class","health-details",4,"ngIf"],[1,"location"],[1,"time"],[1,"card-right-icons"],["class","photo-count",4,"ngIf"],["name","chevron-forward","class","chevron-small",4,"ngIf"],["name","eye-outline","class","view-icon",3,"click",4,"ngIf"],[1,"status-badge","status-coral"],["name","business-outline"],["name","trash-outline",1,"delete-icon",3,"click"],[1,"photo-count"],["name","images-outline"],[1,"count"],["name","chevron-forward",1,"chevron-small"],["name","eye-outline",1,"view-icon",3,"click"]],template:function(o,e){1&o&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-icon",3),t.bIt("click",function(){return e.goBack()}),t.k0s(),t.nrm(4,"ion-icon",4),t.j41(5,"div",5)(6,"h1"),t.EFF(7),t.nI1(8,"t"),t.k0s(),t.DNE(9,A,3,3,"p",6)(10,H,3,3,"p",6),t.k0s()()(),t.j41(11,"div",7),t.DNE(12,U,12,6,"ion-card",8)(13,N,12,6,"ion-card",9)(14,B,12,6,"ion-card",10),t.j41(15,"ion-card",11),t.bIt("click",function(){return e.navigateToCleanup()}),t.j41(16,"ion-card-content")(17,"div",12),t.EFF(18,"\u267b\ufe0f"),t.k0s(),t.j41(19,"div",13)(20,"h3"),t.EFF(21),t.nI1(22,"t"),t.k0s(),t.j41(23,"p"),t.EFF(24),t.nI1(25,"t"),t.k0s()(),t.nrm(26,"ion-icon",14),t.k0s()()(),t.j41(27,"div",15)(28,"h3",16),t.EFF(29),t.nI1(30,"t"),t.k0s(),t.DNE(31,L,6,3,"ion-card",17)(32,tt,28,23,"ion-card",18),t.k0s()()),2&o&&(t.Y8G("fullscreen",!0),t.R7$(7),t.JRh(t.bMT(8,12,"Wetland Health")),t.R7$(2),t.Y8G("ngIf",1===(null==e.currentUser?null:e.currentUser.level)),t.R7$(),t.Y8G("ngIf",e.currentUser&&e.currentUser.level>=2),t.R7$(2),t.Y8G("ngIf",e.currentUser&&e.currentUser.level>=2),t.R7$(),t.Y8G("ngIf",e.currentUser&&e.currentUser.level>=2),t.R7$(),t.Y8G("ngIf",e.currentUser),t.R7$(7),t.JRh(t.bMT(22,14,"Cleanup Activity")),t.R7$(3),t.JRh(t.bMT(25,16,"Log cleanup efforts and waste sorted")),t.R7$(5),t.JRh(t.bMT(30,18,"Recent Activities")),t.R7$(2),t.Y8G("ngIf",0===e.allReports.length),t.R7$(),t.Y8G("ngForOf",e.allReports))},dependencies:[P.Sq,P.bT,C.b_,C.I9,C.W9,C.iq,z.D],styles:[".health-bg[_ngcontent-%COMP%]{--background: #ffffff}.page-header[_ngcontent-%COMP%]{padding:1.25rem;box-shadow:0 2px 8px #4fb3bf26;color:#fff}.page-header.blue-gradient[_ngcontent-%COMP%]{background:#4fb3bf}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{font-size:1.5rem;cursor:pointer;transition:transform .2s}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]:hover{transform:translate(-4px)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-icon[_ngcontent-%COMP%]{font-size:1.75rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0 0 .25rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;margin:0;opacity:.9}.category-section[_ngcontent-%COMP%]{padding:1.25rem 1.25rem 1rem;display:flex;flex-direction:column;gap:.75rem}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 6px #0000001a;margin:0;transition:all .3s ease}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.category-section[_ngcontent-%COMP%]   .category-card.teal-card[_ngcontent-%COMP%]{background:#4fb3bf}.category-section[_ngcontent-%COMP%]   .category-card.teal-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{color:#fff}.category-section[_ngcontent-%COMP%]   .category-card.blue-card[_ngcontent-%COMP%]{background:#2d8659}.category-section[_ngcontent-%COMP%]   .category-card.blue-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{color:#fff}.category-section[_ngcontent-%COMP%]   .category-card.green-card[_ngcontent-%COMP%]{background:#2d8659}.category-section[_ngcontent-%COMP%]   .category-card.green-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{color:#fff}.category-section[_ngcontent-%COMP%]   .category-card.cleanup-card[_ngcontent-%COMP%]{background:#4fb3bf}.category-section[_ngcontent-%COMP%]   .category-card.cleanup-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{color:#fff}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-emoji[_ngcontent-%COMP%]{font-size:2rem}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-icon-cleanup[_ngcontent-%COMP%]{font-size:2rem;color:#2d8659;border:2px solid #2d8659;border-radius:50%;width:3rem;height:3rem;display:flex;align-items:center;justify-content:center}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{flex:1}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin:0 0 .2rem}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;margin:0;opacity:.9}.category-section[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{font-size:1.25rem}.observations-section[_ngcontent-%COMP%]{padding:0 1.25rem 1.25rem}.observations-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#0d3d2f;font-weight:600;margin-bottom:.75rem}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]{margin-bottom:.75rem;border-radius:.75rem;box-shadow:0 2px 4px #00000014}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem}@media (max-width: 767px){.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{position:relative}}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]{flex:1}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;color:#0d3d2f;margin:0 0 .35rem;font-size:.9rem}@media (max-width: 767px){.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]   .health-details[_ngcontent-%COMP%]{padding-right:6rem}}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]   .health-details[_ngcontent-%COMP%]{font-size:.8rem;color:#4fb3bf;font-weight:500;margin:0 0 .35rem}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{font-size:.8rem;color:#6b7c7a;margin:0 0 .2rem}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .obs-info[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.7rem;color:#6b7c7a;opacity:.7;margin:0}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-right-icons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}@media (max-width: 767px){.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .card-right-icons[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .photo-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:4px 8px;border-radius:8px;background:#4a90e214;border:1px solid rgba(74,144,226,.2)}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .photo-count[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#4a90e2}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .photo-count[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#4a90e2;min-width:12px;text-align:center}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .chevron-small[_ngcontent-%COMP%]{font-size:1.25rem;color:#6b7c7a}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .delete-icon[_ngcontent-%COMP%]{font-size:1rem;color:#ef4444;cursor:pointer;padding:2px;border-radius:4px;transition:all .2s ease;margin-left:4px}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .delete-icon[_ngcontent-%COMP%]:hover{background:#ef44441a}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#0891b2;cursor:pointer;padding:4px;border-radius:4px;transition:all .2s ease}.observations-section[_ngcontent-%COMP%]   .observation-item[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]:hover{background:#0891b21a}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:3px;padding:3px 8px;border-radius:10px;font-size:10px;font-weight:600;text-transform:capitalize;letter-spacing:.3px;transition:all .2s ease}.status-badge[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px}.status-badge[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{line-height:1}.status-badge.status-submitted[_ngcontent-%COMP%]{background:#2d86591f;color:#2d8659;border:1px solid rgba(45,134,89,.25)}.status-badge.status-submitted[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#2d8659}.status-badge.status-pending[_ngcontent-%COMP%]{background:#4fb3bf1f;color:#4fb3bf;border:1px solid rgba(79,179,191,.25)}.status-badge.status-pending[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#4fb3bf}.status-badge.status-draft[_ngcontent-%COMP%]{background:#6b7c7a1f;color:#6b7c7a;border:1px solid rgba(107,124,122,.25)}.status-badge.status-draft[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#6b7c7a}.status-badge.status-coral[_ngcontent-%COMP%]{background:#ff7f501f;color:coral;border:1px solid rgba(255,127,80,.25)}.status-badge.status-coral[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:coral}"]}))}return a(),c})()}];let et=(()=>{var a;class c{static#t=a=()=>(this.\u0275fac=function(o){return new(o||c)},this.\u0275mod=t.$C({type:c}),this.\u0275inj=u.G2t({imports:[b.iI.forChild(nt),b.iI]}))}return a(),c})();var ot=g(4670);let at=(()=>{var a;class c{static#t=a=()=>(this.\u0275fac=function(o){return new(o||c)},this.\u0275mod=t.$C({type:c}),this.\u0275inj=u.G2t({imports:[P.MD,y.YN,C.bv,et,ot.k]}))}return a(),c})()},4670(k,O,g){g.d(O,{k:()=>C});var P=g(2615),y=g(3664);let C=(()=>{var b;class p{static#t=b=()=>(this.\u0275fac=function(u){return new(u||p)},this.\u0275mod=y.$C({type:p}),this.\u0275inj=P.G2t({}))}return b(),p})()},7314(k,O,g){g.d(O,{D:()=>C});var P=g(3664),y=g(6845);let C=(()=>{var b;class p{constructor(t){this.translationService=t}transform(t){return this.translationService.t(t)}static#t=b=()=>(this.\u0275fac=function(u){return new(u||p)(P.rXU(y.L,16))},this.\u0275pipe=P.EJ8({name:"t",type:p,pure:!1}))}return b(),p})()}}]);