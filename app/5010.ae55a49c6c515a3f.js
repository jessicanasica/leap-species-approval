"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5010],{5010(ut,Xe,me){me.d(Xe,{I:()=>Te});var ze=me(467),xe=me(7691),Pe=me(2615),Ve=me(7863);let Te=(()=>{var Ne;class Ue{constructor(fe){this.imageCompression=fe}TakePicture(){var fe=this;return(0,ze.A)(function*(){const Y=yield xe.i7.getPhoto({resultType:xe.LK.Uri,source:xe.ru.Camera,quality:100}),Ae=yield(yield fetch(Y.webPath)).blob(),De=yield fe.convertBlobToBase64(Ae);console.log("\u{1f4f8} Photo captured, compressing...");const _e=yield fe.imageCompression.compressImage(De),je=fe.imageCompression.getBase64FileSize(De),Oe=fe.imageCompression.getBase64FileSize(_e),ke=fe.imageCompression.getCompressionPercentage(je,Oe);return console.log(`\u{1f5dc}\ufe0f Image compressed: ${(je/1048576).toFixed(2)}MB \u2192 ${(Oe/1048576).toFixed(2)}MB (${ke}% reduction)`),_e})()}convertBlobToBase64(fe){return new Promise((Y,We)=>{const Ae=new FileReader;Ae.onerror=We,Ae.onload=()=>{Y(Ae.result)},Ae.readAsDataURL(fe)})}static#e=Ne=()=>(this.\u0275fac=function(Y){return new(Y||Ue)(Pe.KVO(Ve.L))},this.\u0275prov=Pe.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}))}return Ne(),Ue})()},7863(ut,Xe,me){me.d(Xe,{L:()=>gt});var ze=me(467);function Pe(T,M){return new Promise(function(k,c){let e;return Ve(T).then(function(t){try{return e=t,k(new Blob([M.slice(0,2),e,M.slice(2)],{type:"image/jpeg"}))}catch(f){return c(f)}},c)})}const Ve=T=>new Promise((M,k)=>{const c=new FileReader;c.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let f=0;if(65496!==t.getUint16(f))return k("not a valid JPEG");for(f+=2;;){const a=t.getUint16(f);if(65498===a)break;const A=t.getUint16(f+2);if(65505===a&&1165519206===t.getUint32(f+4)){const m=f+10;let r;switch(t.getUint16(m)){case 18761:r=!0;break;case 19789:r=!1;break;default:return k("TIFF header contains invalid endian")}if(42!==t.getUint16(m+2,r))return k("TIFF header contains invalid version");const o=t.getUint32(m+4,r),n=m+o+2+12*t.getUint16(m+o,r);for(let s=m+o+2;s<n;s+=12)if(274==t.getUint16(s,r)){if(3!==t.getUint16(s+2,r))return k("Orientation data type is invalid");if(1!==t.getUint32(s+4,r))return k("Orientation data count is invalid");t.setUint16(s+8,1,r);break}return M(e.slice(f,f+2+A))}f+=2+A}return M(new Blob)}),c.readAsArrayBuffer(T)});var M,k,c,Te={};({get exports(){return Te},set exports(T){Te=T}}).exports=c={},c.parse=function(e,t){for(var f=c.bin.readUshort,a=c.bin.readUint,A=0,m={},r=new Uint8Array(e),o=r.length-4;101010256!=a(r,o);)o--;A=o,A+=4;var n=f(r,A+=4);f(r,A+=2);var s=a(r,A+=2),d=a(r,A+=4);A+=4,A=d;for(var U=0;U<n;U++){a(r,A),A+=4,A+=4,A+=4,a(r,A+=4),s=a(r,A+=4);var C=a(r,A+=4),b=f(r,A+=4),D=f(r,A+2),Q=f(r,A+4);A+=6;var I=a(r,A+=8);A+=4,A+=b+D+Q,c._readLocal(r,I,m,s,C,t)}return m},c._readLocal=function(e,t,f,a,A,m){var r=c.bin.readUshort,o=c.bin.readUint;o(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var s=r(e,t+=8),d=r(e,t+=2),U=c.bin.readUTF8(e,t+=2,s);if(t+=s,t+=d,m)f[U]={size:A,csize:a};else{var C=new Uint8Array(e.buffer,t);if(0==n)f[U]=new Uint8Array(C.buffer.slice(t,t+a));else{if(8!=n)throw"unknown compression method: "+n;var b=new Uint8Array(A);c.inflateRaw(C,b),f[U]=b}}},c.inflateRaw=function(e,t){return c.F.inflate(e,t)},c.inflate=function(e,t){return c.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},c.deflate=function(e,t){null==t&&(t={level:6});var f=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[f]=120,a[f+1]=156,f=c.F.deflateRaw(e,a,f+=2,t.level);var A=c.adler(e,0,e.length);return a[f+0]=A>>>24&255,a[f+1]=A>>>16&255,a[f+2]=A>>>8&255,a[f+3]=A>>>0&255,new Uint8Array(a.buffer,0,f+4)},c.deflateRaw=function(e,t){null==t&&(t={level:6});var f=new Uint8Array(50+Math.floor(1.1*e.length)),a=c.F.deflateRaw(e,f,a,t.level);return new Uint8Array(f.buffer,0,a)},c.encode=function(e,t){null==t&&(t=!1);var f=0,a=c.bin.writeUint,A=c.bin.writeUshort,m={};for(var r in e){var o=!c._noNeed(r)&&!t,n=e[r],s=c.crc.crc(n,0,n.length);m[r]={cpr:o,usize:n.length,crc:s,file:o?c.deflateRaw(n):n}}for(var r in m)f+=m[r].file.length+30+46+2*c.bin.sizeUTF8(r);f+=22;var d=new Uint8Array(f),U=0,C=[];for(var r in m){var b=m[r];C.push(U),U=c._writeHeader(d,U,r,b,0)}var D=0,Q=U;for(var r in m)b=m[r],C.push(U),U=c._writeHeader(d,U,r,b,1,C[D++]);var I=U-Q;return a(d,U,101010256),U+=4,A(d,U+=4,D),A(d,U+=2,D),a(d,U+=2,I),a(d,U+=4,Q),U+=4,U+=2,d.buffer},c._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},c._writeHeader=function(e,t,f,a,A,m){var r=c.bin.writeUint,o=c.bin.writeUshort,n=a.file;return r(e,t,0==A?67324752:33639248),t+=4,1==A&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,a.cpr?8:0),r(e,t+=2,0),r(e,t+=4,a.crc),r(e,t+=4,n.length),r(e,t+=4,a.usize),o(e,t+=4,c.bin.sizeUTF8(f)),o(e,t+=2,0),t+=2,1==A&&(t+=2,t+=2,r(e,t+=6,m),t+=4),t+=c.bin.writeUTF8(e,t,f),0==A&&(e.set(n,t),t+=n.length),t},c.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var f=t,a=0;a<8;a++)1&f?f=3988292384^f>>>1:f>>>=1;e[t]=f}return e}(),update:function(e,t,f,a){for(var A=0;A<a;A++)e=c.crc.table[255&(e^t[f+A])]^e>>>8;return e},crc:function(e,t,f){return 4294967295^c.crc.update(4294967295,e,t,f)}},c.adler=function(e,t,f){for(var a=1,A=0,m=t,r=t+f;m<r;){for(var o=Math.min(m+5552,r);m<o;)A+=a+=e[m++];a%=65521,A%=65521}return A<<16|a},c.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,f){e[t]=255&f,e[t+1]=f>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,f){e[t]=255&f,e[t+1]=f>>8&255,e[t+2]=f>>16&255,e[t+3]=f>>24&255},readASCII:function(e,t,f){for(var a="",A=0;A<f;A++)a+=String.fromCharCode(e[t+A]);return a},writeASCII:function(e,t,f){for(var a=0;a<f.length;a++)e[t+a]=f.charCodeAt(a)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,f){for(var a,A="",m=0;m<f;m++)A+="%"+c.bin.pad(e[t+m].toString(16));try{a=decodeURIComponent(A)}catch{return c.bin.readASCII(e,t,f)}return a},writeUTF8:function(e,t,f){for(var a=f.length,A=0,m=0;m<a;m++){var r=f.charCodeAt(m);if(4294967168&r)if(4294965248&r)if(4294901760&r){if(4292870144&r)throw"e";e[t+A]=240|r>>18,e[t+A+1]=128|r>>12&63,e[t+A+2]=128|r>>6&63,e[t+A+3]=128|63&r,A+=4}else e[t+A]=224|r>>12,e[t+A+1]=128|r>>6&63,e[t+A+2]=128|63&r,A+=3;else e[t+A]=192|r>>6,e[t+A+1]=128|63&r,A+=2;else e[t+A]=r,A++}return A},sizeUTF8:function(e){for(var t=e.length,f=0,a=0;a<t;a++){var A=e.charCodeAt(a);if(4294967168&A)if(4294965248&A)if(4294901760&A){if(4292870144&A)throw"e";f+=4}else f+=3;else f+=2;else f++}return f}},c.F={},c.F.deflateRaw=function(e,t,f,a){var A=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],m=c.F.U,r=c.F._goodIndex,o=c.F._putsE,n=0,s=f<<3,d=0,U=e.length;if(0==a){for(;n<U;)o(t,s,n+(y=Math.min(65535,U-n))==U?1:0),s=c.F._copyExact(e,n,y,t,s+8),n+=y;return s>>>3}var C=m.lits,b=m.strt,D=m.prev,Q=0,I=0,P=0,g=0,R=0,u=0;for(U>2&&(b[u=c.F._hash(e,0)]=0),n=0;n<U;n++){if(R=u,n+1<U-2){u=c.F._hash(e,n+1);var l=n+1&32767;D[l]=b[u],b[u]=l}if(d<=n){(Q>14e3||I>26697)&&U-n>100&&(d<n&&(C[Q]=n-d,Q+=2,d=n),s=c.F._writeBlock(n==U-1||d==U?1:0,C,Q,g,e,P,n-P,t,s),Q=I=g=0,P=n);var v=0;n<U-2&&(v=c.F._bestMatch(e,n,D,R,Math.min(A[2],U-n),A[3]));var y=v>>>16,w=65535&v;if(0!=v){w=65535&v;var E=r(y=v>>>16,m.of0);m.lhst[257+E]++;var p=r(w,m.df0);m.dhst[p]++,g+=m.exb[E]+m.dxb[p],C[Q]=y<<23|n-d,C[Q+1]=w<<16|E<<8|p,Q+=2,d=n+y}else m.lhst[e[n]]++;I++}}for(P==n&&0!=e.length||(d<n&&(C[Q]=n-d,Q+=2,d=n),s=c.F._writeBlock(1,C,Q,g,e,P,n-P,t,s),Q=0,I=0,Q=I=g=0,P=n);7&s;)s++;return s>>>3},c.F._bestMatch=function(e,t,f,a,A,m){var r=32767&t,o=f[r],n=r-o+32768&32767;if(o==r||a!=c.F._hash(e,t-n))return 0;for(var s=0,d=0,U=Math.min(32767,t);n<=U&&0!=--m&&o!=r;){if(0==s||e[t+s]==e[t+s-n]){var C=c.F._howLong(e,t,n);if(C>s){if(d=n,(s=C)>=A)break;n+2<C&&(C=n+2);for(var b=0,D=0;D<C-2;D++){var Q=t-n+D+32768&32767,I=Q-f[Q]+32768&32767;I>b&&(b=I,o=Q)}}}n+=(r=o)-(o=f[r])+32768&32767}return s<<16|d},c.F._howLong=function(e,t,f){if(e[t]!=e[t-f]||e[t+1]!=e[t+1-f]||e[t+2]!=e[t+2-f])return 0;var a=t,A=Math.min(e.length,t+258);for(t+=3;t<A&&e[t]==e[t-f];)t++;return t-a},c.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},c.saved=0,c.F._writeBlock=function(e,t,f,a,A,m,r,o,n){var s,d,U,C,b,D,Q,I,P,g=c.F.U,R=c.F._putsF,u=c.F._putsE;g.lhst[256]++,d=(s=c.F.getTrees())[0],U=s[1],C=s[2],b=s[3],D=s[4],Q=s[5],I=s[6],P=s[7];var l=32+(n+3&7?8-(n+3&7):0)+(r<<3),v=a+c.F.contSize(g.fltree,g.lhst)+c.F.contSize(g.fdtree,g.dhst),y=a+c.F.contSize(g.ltree,g.lhst)+c.F.contSize(g.dtree,g.dhst);y+=14+3*Q+c.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var w=0;w<286;w++)g.lhst[w]=0;for(w=0;w<30;w++)g.dhst[w]=0;for(w=0;w<19;w++)g.ihst[w]=0;var E=l<v&&l<y?0:v<y?1:2;if(R(o,n,e),R(o,n+1,E),n+=3,0==E){for(;7&n;)n++;n=c.F._copyExact(A,m,r,o,n)}else{var p,F;if(1==E&&(p=g.fltree,F=g.fdtree),2==E){c.F.makeCodes(g.ltree,d),c.F.revCodes(g.ltree,d),c.F.makeCodes(g.dtree,U),c.F.revCodes(g.dtree,U),c.F.makeCodes(g.itree,C),c.F.revCodes(g.itree,C),p=g.ltree,F=g.dtree,u(o,n,b-257),u(o,n+=5,D-1),u(o,n+=5,Q-4),n+=4;for(var h=0;h<Q;h++)u(o,n+3*h,g.itree[1+(g.ordr[h]<<1)]);n=c.F._codeTiny(I,g.itree,o,n+=3*Q),n=c.F._codeTiny(P,g.itree,o,n)}for(var i=m,S=0;S<f;S+=2){for(var _=t[S],x=_>>>23,z=i+(8388607&_);i<z;)n=c.F._writeLit(A[i++],p,o,n);if(0!=x){var L=t[S+1],H=L>>16,O=L>>8&255,B=255&L;u(o,n=c.F._writeLit(257+O,p,o,n),x-g.of0[O]),R(o,n=c.F._writeLit(B,F,o,n+=g.exb[O]),H-g.df0[B]),n+=g.dxb[B],i+=x}}n=c.F._writeLit(256,p,o,n)}return n},c.F._copyExact=function(e,t,f,a,A){var m=A>>>3;return a[m]=f,a[m+1]=f>>>8,a[m+2]=255-a[m],a[m+3]=255-a[m+1],m+=4,a.set(new Uint8Array(e.buffer,t,f),m),A+(f+4<<3)},c.F.getTrees=function(){for(var e=c.F.U,t=c.F._hufTree(e.lhst,e.ltree,15),f=c.F._hufTree(e.dhst,e.dtree,15),a=[],A=c.F._lenCodes(e.ltree,a),m=[],r=c.F._lenCodes(e.dtree,m),o=0;o<a.length;o+=2)e.ihst[a[o]]++;for(o=0;o<m.length;o+=2)e.ihst[m[o]]++;for(var n=c.F._hufTree(e.ihst,e.itree,7),s=19;s>4&&0==e.itree[1+(e.ordr[s-1]<<1)];)s--;return[t,f,n,A,r,s,a,m]},c.F.getSecond=function(e){for(var t=[],f=0;f<e.length;f+=2)t.push(e[f+1]);return t},c.F.nonZero=function(e){for(var t="",f=0;f<e.length;f+=2)0!=e[f+1]&&(t+=(f>>1)+",");return t},c.F.contSize=function(e,t){for(var f=0,a=0;a<t.length;a++)f+=t[a]*e[1+(a<<1)];return f},c.F._codeTiny=function(e,t,f,a){for(var A=0;A<e.length;A+=2){var m=e[A],r=e[A+1];a=c.F._writeLit(m,t,f,a);var o=16==m?2:17==m?3:7;m>15&&(c.F._putsE(f,a,r,o),a+=o)}return a},c.F._lenCodes=function(e,t){for(var f=e.length;2!=f&&0==e[f-1];)f-=2;for(var a=0;a<f;a+=2){var A=e[a+1],m=a+3<f?e[a+3]:-1,r=a+5<f?e[a+5]:-1,o=0==a?-1:e[a-1];if(0==A&&m==A&&r==A){for(var n=a+5;n+2<f&&e[n+2]==A;)n+=2;(s=Math.min(n+1-a>>>1,138))<11?t.push(17,s-3):t.push(18,s-11),a+=2*s-2}else if(A==o&&m==A&&r==A){for(n=a+5;n+2<f&&e[n+2]==A;)n+=2;var s=Math.min(n+1-a>>>1,6);t.push(16,s-3),a+=2*s-2}else t.push(A,0)}return f>>>1},c.F._hufTree=function(e,t,f){var a=[],A=e.length,m=t.length,r=0;for(r=0;r<m;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<A;r++)0!=e[r]&&a.push({lit:r,f:e[r]});var o=a.length,n=a.slice(0);if(0==o)return 0;if(1==o){var s=a[0].lit;return n=0==s?1:0,t[1+(s<<1)]=1,t[1+(n<<1)]=1,1}a.sort(function(I,P){return I.f-P.f});var d=a[0],U=a[1],C=0,b=1,D=2;for(a[0]={lit:-1,f:d.f+U.f,l:d,r:U,d:0};b!=o-1;)d=C!=b&&(D==o||a[C].f<a[D].f)?a[C++]:a[D++],U=C!=b&&(D==o||a[C].f<a[D].f)?a[C++]:a[D++],a[b++]={lit:-1,f:d.f+U.f,l:d,r:U};var Q=c.F.setDepth(a[b-1],0);for(Q>f&&(c.F.restrictDepth(n,f,Q),Q=f),r=0;r<o;r++)t[1+(n[r].lit<<1)]=n[r].d;return Q},c.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(c.F.setDepth(e.l,t+1),c.F.setDepth(e.r,t+1))},c.F.restrictDepth=function(e,t,f){var a=0,A=1<<f-t,m=0;for(e.sort(function(o,n){return n.d==o.d?o.f-n.f:n.d-o.d}),a=0;a<e.length&&e[a].d>t;a++){var r=e[a].d;e[a].d=t,m+=A-(1<<f-r)}for(m>>>=f-t;m>0;)(r=e[a].d)<t?(e[a].d++,m-=1<<t-r-1):a++;for(;a>=0;a--)e[a].d==t&&m<0&&(e[a].d--,m++);0!=m&&console.log("debt left")},c.F._goodIndex=function(e,t){var f=0;return t[16|f]<=e&&(f|=16),t[8|f]<=e&&(f|=8),t[4|f]<=e&&(f|=4),t[2|f]<=e&&(f|=2),t[1|f]<=e&&(f|=1),f},c.F._writeLit=function(e,t,f,a){return c.F._putsF(f,a,t[e<<1]),a+t[1+(e<<1)]},c.F.inflate=function(e,t){var f=Uint8Array;if(3==e[0]&&0==e[1])return t||new f(0);var a=c.F,A=a._bitsF,m=a._bitsE,r=a._decodeTiny,o=a.makeCodes,n=a.codes2map,s=a._get17,d=a.U,U=null==t;U&&(t=new f(e.length>>>2<<3));for(var C,b,D=0,Q=0,I=0,P=0,g=0,R=0,u=0,l=0,v=0;0==D;)if(D=A(e,v,1),Q=A(e,v+1,2),v+=3,0!=Q){if(U&&(t=c.F._check(t,l+(1<<17))),1==Q&&(C=d.flmap,b=d.fdmap,R=511,u=31),2==Q){I=m(e,v,5)+257,P=m(e,v+5,5)+1,g=m(e,v+10,4)+4,v+=14;for(var y=0;y<38;y+=2)d.itree[y]=0,d.itree[y+1]=0;var w=1;for(y=0;y<g;y++){var E=m(e,v+3*y,3);d.itree[1+(d.ordr[y]<<1)]=E,E>w&&(w=E)}v+=3*g,o(d.itree,w),n(d.itree,w,d.imap),C=d.lmap,b=d.dmap,v=r(d.imap,(1<<w)-1,I+P,e,v,d.ttree);var p=a._copyOut(d.ttree,0,I,d.ltree);R=(1<<p)-1;var F=a._copyOut(d.ttree,I,P,d.dtree);u=(1<<F)-1,o(d.ltree,p),n(d.ltree,p,C),o(d.dtree,F),n(d.dtree,F,b)}for(;;){var h=C[s(e,v)&R];v+=15&h;var i=h>>>4;if(i>>>8){if(256==i)break;var S=l+i-254;if(i>264){var _=d.ldef[i-257];S=l+(_>>>3)+m(e,v,7&_),v+=7&_}var x=b[s(e,v)&u],L=d.ddef[x>>>4],H=(L>>>4)+A(e,v+=15&x,15&L);for(v+=15&L,U&&(t=c.F._check(t,l+(1<<17)));l<S;)t[l]=t[l++-H],t[l]=t[l++-H],t[l]=t[l++-H],t[l]=t[l++-H];l=S}else t[l++]=i}}else{7&v&&(v+=8-(7&v));var O=4+(v>>>3),B=e[O-4]|e[O-3]<<8;U&&(t=c.F._check(t,l+B)),t.set(new f(e.buffer,e.byteOffset+O,B),l),v=O+B<<3,l+=B}return t.length==l?t:t.slice(0,l)},c.F._check=function(e,t){var f=e.length;if(t<=f)return e;var a=new Uint8Array(Math.max(f<<1,t));return a.set(e,0),a},c.F._decodeTiny=function(e,t,f,a,A,m){for(var r=c.F._bitsE,o=c.F._get17,n=0;n<f;){var s=e[o(a,A)&t];A+=15&s;var d=s>>>4;if(d<=15)m[n]=d,n++;else{var U=0,C=0;16==d?(C=3+r(a,A,2),A+=2,U=m[n-1]):17==d?(C=3+r(a,A,3),A+=3):18==d&&(C=11+r(a,A,7),A+=7);for(var b=n+C;n<b;)m[n]=U,n++}}return A},c.F._copyOut=function(e,t,f,a){for(var A=0,m=0,r=a.length>>>1;m<f;){var o=e[m+t];a[m<<1]=0,a[1+(m<<1)]=o,o>A&&(A=o),m++}for(;m<r;)a[m<<1]=0,a[1+(m<<1)]=0,m++;return A},c.F.makeCodes=function(e,t){for(var f,a,A,m,r=c.F.U,o=e.length,n=r.bl_count,s=0;s<=t;s++)n[s]=0;for(s=1;s<o;s+=2)n[e[s]]++;var d=r.next_code;for(f=0,n[0]=0,a=1;a<=t;a++)d[a]=f=f+n[a-1]<<1;for(A=0;A<o;A+=2)0!=(m=e[A+1])&&(e[A]=d[m],d[m]++)},c.F.codes2map=function(e,t,f){for(var a=e.length,A=c.F.U.rev15,m=0;m<a;m+=2)if(0!=e[m+1])for(var o=e[m+1],n=m>>1<<4|o,s=t-o,d=e[m]<<s,U=d+(1<<s);d!=U;)f[A[d]>>>15-t]=n,d++},c.F.revCodes=function(e,t){for(var f=c.F.U.rev15,a=15-t,A=0;A<e.length;A+=2)e[A]=f[e[A]<<t-e[A+1]]>>>a},c.F._putsE=function(e,t,f){var a=t>>>3;e[a]|=f<<=7&t,e[a+1]|=f>>>8},c.F._putsF=function(e,t,f){var a=t>>>3;e[a]|=f<<=7&t,e[a+1]|=f>>>8,e[a+2]|=f>>>16},c.F._bitsE=function(e,t,f){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<f)-1},c.F._bitsF=function(e,t,f){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<f)-1},c.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},c.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},c.F.U=(M=Uint16Array,k=Uint32Array,{next_code:new M(16),bl_count:new M(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new M(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new k(32),flmap:new M(512),fltree:[],fdmap:new M(32),fdtree:[],lmap:new M(32768),ltree:[],ttree:[],dmap:new M(32768),dtree:[],imap:new M(512),itree:[],rev15:new M(32768),lhst:new k(286),dhst:new k(30),ihst:new k(19),lits:new k(15e3),strt:new M(65536),prev:new M(32768)}),function(){for(var e=c.F.U,t=0;t<32768;t++){var f=t;f=(4278255360&(f=(4042322160&(f=(3435973836&(f=(2863311530&f)>>>1|(1431655765&f)<<1))>>>2|(858993459&f)<<2))>>>4|(252645135&f)<<4))>>>8|(16711935&f)<<8,e.rev15[t]=(f>>>16|f<<16)>>>17}function a(A,m,r){for(;0!=m--;)A.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),c.F.makeCodes(e.fltree,9),c.F.codes2map(e.fltree,9,e.flmap),c.F.revCodes(e.fltree,9),a(e.fdtree,32,5),c.F.makeCodes(e.fdtree,5),c.F.codes2map(e.fdtree,5,e.fdmap),c.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}();var Ue=function xe(T,M){return M.forEach(function(k){k&&"string"!=typeof k&&!Array.isArray(k)&&Object.keys(k).forEach(function(c){if("default"!==c&&!(c in T)){var e=Object.getOwnPropertyDescriptor(k,c);Object.defineProperty(T,c,e.get?e:{enumerable:!0,get:function(){return k[c]}})}})}),Object.freeze(T)}({__proto__:null,default:Te},[Te]);const he=function(){var T={nextZero(r,o){for(;0!=r[o];)o++;return o},readUshort:(r,o)=>r[o]<<8|r[o+1],writeUshort(r,o,n){r[o]=n>>8&255,r[o+1]=255&n},readUint:(r,o)=>16777216*r[o]+(r[o+1]<<16|r[o+2]<<8|r[o+3]),writeUint(r,o,n){r[o]=n>>24&255,r[o+1]=n>>16&255,r[o+2]=n>>8&255,r[o+3]=255&n},readASCII(r,o,n){let s="";for(let d=0;d<n;d++)s+=String.fromCharCode(r[o+d]);return s},writeASCII(r,o,n){for(let s=0;s<n.length;s++)r[o+s]=n.charCodeAt(s)},readBytes(r,o,n){const s=[];for(let d=0;d<n;d++)s.push(r[o+d]);return s},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,o,n){let s,d="";for(let U=0;U<n;U++)d+=`%${T.pad(r[o+U].toString(16))}`;try{s=decodeURIComponent(d)}catch{return T.readASCII(r,o,n)}return s}};function M(r,o,n,s){const d=o*n,U=t(s),C=Math.ceil(o*U/8),b=new Uint8Array(4*d),D=new Uint32Array(b.buffer),{ctype:Q}=s,{depth:I}=s,P=T.readUshort;if(6==Q){const _=d<<2;if(8==I)for(var g=0;g<_;g+=4)b[g]=r[g],b[g+1]=r[g+1],b[g+2]=r[g+2],b[g+3]=r[g+3];if(16==I)for(g=0;g<_;g++)b[g]=r[g<<1]}else if(2==Q){const _=s.tabs.tRNS;if(null==_){if(8==I)for(g=0;g<d;g++){var R=3*g;D[g]=255<<24|r[R+2]<<16|r[R+1]<<8|r[R]}if(16==I)for(g=0;g<d;g++)D[g]=255<<24|r[4+(R=6*g)]<<16|r[R+2]<<8|r[R]}else{var u=_[0];const x=_[1],z=_[2];if(8==I)for(g=0;g<d;g++){var l=g<<2;D[g]=255<<24|r[2+(R=3*g)]<<16|r[R+1]<<8|r[R],r[R]==u&&r[R+1]==x&&r[R+2]==z&&(b[l+3]=0)}if(16==I)for(g=0;g<d;g++)l=g<<2,D[g]=255<<24|r[4+(R=6*g)]<<16|r[R+2]<<8|r[R],P(r,R)==u&&P(r,R+2)==x&&P(r,R+4)==z&&(b[l+3]=0)}}else if(3==Q){const _=s.tabs.PLTE,x=s.tabs.tRNS,z=x?x.length:0;if(1==I)for(var v=0;v<n;v++){var y=v*C,w=v*o;for(g=0;g<o;g++){var E=3*(p=r[y+(g>>3)]>>7-(7&g)&1);b[l=w+g<<2]=_[E],b[l+1]=_[E+1],b[l+2]=_[E+2],b[l+3]=p<z?x[p]:255}}if(2==I)for(v=0;v<n;v++)for(y=v*C,w=v*o,g=0;g<o;g++)E=3*(p=r[y+(g>>2)]>>6-((3&g)<<1)&3),b[l=w+g<<2]=_[E],b[l+1]=_[E+1],b[l+2]=_[E+2],b[l+3]=p<z?x[p]:255;if(4==I)for(v=0;v<n;v++)for(y=v*C,w=v*o,g=0;g<o;g++)E=3*(p=r[y+(g>>1)]>>4-((1&g)<<2)&15),b[l=w+g<<2]=_[E],b[l+1]=_[E+1],b[l+2]=_[E+2],b[l+3]=p<z?x[p]:255;if(8==I)for(g=0;g<d;g++){var p;E=3*(p=r[g]),b[l=g<<2]=_[E],b[l+1]=_[E+1],b[l+2]=_[E+2],b[l+3]=p<z?x[p]:255}}else if(4==Q){if(8==I)for(g=0;g<d;g++){var F=r[h=g<<1];b[l=g<<2]=F,b[l+1]=F,b[l+2]=F,b[l+3]=r[h+1]}if(16==I)for(g=0;g<d;g++){var h;F=r[h=g<<2],b[l=g<<2]=F,b[l+1]=F,b[l+2]=F,b[l+3]=r[h+2]}}else if(0==Q)for(u=s.tabs.tRNS?s.tabs.tRNS:-1,v=0;v<n;v++){const _=v*C,x=v*o;if(1==I)for(var i=0;i<o;i++){var S=(F=255*(r[_+(i>>>3)]>>>7-(7&i)&1))==255*u?0:255;D[x+i]=S<<24|F<<16|F<<8|F}else if(2==I)for(i=0;i<o;i++)S=(F=85*(r[_+(i>>>2)]>>>6-((3&i)<<1)&3))==85*u?0:255,D[x+i]=S<<24|F<<16|F<<8|F;else if(4==I)for(i=0;i<o;i++)S=(F=17*(r[_+(i>>>1)]>>>4-((1&i)<<2)&15))==17*u?0:255,D[x+i]=S<<24|F<<16|F<<8|F;else if(8==I)for(i=0;i<o;i++)S=(F=r[_+i])==u?0:255,D[x+i]=S<<24|F<<16|F<<8|F;else if(16==I)for(i=0;i<o;i++)F=r[_+(i<<1)],S=P(r,_+(i<<1))==u?0:255,D[x+i]=S<<24|F<<16|F<<8|F}return b}function k(r,o,n,s){const d=t(r),U=Math.ceil(n*d/8),C=new Uint8Array((U+1+r.interlace)*s);return o=r.tabs.CgBI?e(o,C):c(o,C),0==r.interlace?o=f(o,r,0,n,s):1==r.interlace&&(o=function(D,Q){const I=Q.width,P=Q.height,g=t(Q),R=g>>3,u=Math.ceil(I*g/8),l=new Uint8Array(P*u);let v=0;const y=[0,0,4,0,2,0,1],w=[0,4,0,2,0,1,0],E=[8,8,8,4,4,2,2],p=[8,8,4,4,2,2,1];let F=0;for(;F<7;){const i=E[F],S=p[F];let _=0,x=0,z=y[F];for(;z<P;)z+=i,x++;let L=w[F];for(;L<I;)L+=S,_++;const H=Math.ceil(_*g/8);f(D,Q,v,_,x);let O=0,B=y[F];for(;B<P;){let N=w[F],Z=v+O*H<<3;for(;N<I;){var h;if(1==g&&(h=(h=D[Z>>3])>>7-(7&Z)&1,l[B*u+(N>>3)]|=h<<7-(7&N)),2==g&&(h=(h=D[Z>>3])>>6-(7&Z)&3,l[B*u+(N>>2)]|=h<<6-((3&N)<<1)),4==g&&(h=(h=D[Z>>3])>>4-(7&Z)&15,l[B*u+(N>>1)]|=h<<4-((1&N)<<2)),g>=8){const j=B*u+N*R;for(let W=0;W<R;W++)l[j+W]=D[(Z>>3)+W]}Z+=g,N+=S}O++,B+=i}_*x!=0&&(v+=x*(1+H)),F+=1}return l}(o,r)),o}function c(r,o){return e(new Uint8Array(r.buffer,2,r.length-6),o)}var e=function(){const r={H:{}};return r.H.N=function(o,n){const s=Uint8Array;let d,U,C=0,b=0,D=0,Q=0,I=0,P=0,g=0,R=0,u=0;if(3==o[0]&&0==o[1])return n||new s(0);const l=r.H,v=l.b,y=l.e,w=l.R,E=l.n,p=l.A,F=l.Z,h=l.m,i=null==n;for(i&&(n=new s(o.length>>>2<<5));0==C;)if(C=v(o,u,1),b=v(o,u+1,2),u+=3,0!=b){if(i&&(n=r.H.W(n,R+(1<<17))),1==b&&(d=h.J,U=h.h,P=511,g=31),2==b){D=y(o,u,5)+257,Q=y(o,u+5,5)+1,I=y(o,u+10,4)+4,u+=14;let _=1;for(var S=0;S<38;S+=2)h.Q[S]=0,h.Q[S+1]=0;for(S=0;S<I;S++){const L=y(o,u+3*S,3);h.Q[1+(h.X[S]<<1)]=L,L>_&&(_=L)}u+=3*I,E(h.Q,_),p(h.Q,_,h.u),d=h.w,U=h.d,u=w(h.u,(1<<_)-1,D+Q,o,u,h.v);const x=l.V(h.v,0,D,h.C);P=(1<<x)-1;const z=l.V(h.v,D,Q,h.D);g=(1<<z)-1,E(h.C,x),p(h.C,x,d),E(h.D,z),p(h.D,z,U)}for(;;){const _=d[F(o,u)&P];u+=15&_;const x=_>>>4;if(x>>>8){if(256==x)break;{let z=R+x-254;if(x>264){const N=h.q[x-257];z=R+(N>>>3)+y(o,u,7&N),u+=7&N}const L=U[F(o,u)&g];u+=15&L;const O=h.c[L>>>4],B=(O>>>4)+v(o,u,15&O);for(u+=15&O;R<z;)n[R]=n[R++-B],n[R]=n[R++-B],n[R]=n[R++-B],n[R]=n[R++-B];R=z}}else n[R++]=x}}else{7&u&&(u+=8-(7&u));const _=4+(u>>>3),x=o[_-4]|o[_-3]<<8;i&&(n=r.H.W(n,R+x)),n.set(new s(o.buffer,o.byteOffset+_,x),R),u=_+x<<3,R+=x}return n.length==R?n:n.slice(0,R)},r.H.W=function(o,n){const s=o.length;if(n<=s)return o;const d=new Uint8Array(s<<1);return d.set(o,0),d},r.H.R=function(o,n,s,d,U,C){const b=r.H.e,D=r.H.Z;let Q=0;for(;Q<s;){const I=o[D(d,U)&n];U+=15&I;const P=I>>>4;if(P<=15)C[Q]=P,Q++;else{let g=0,R=0;16==P?(R=3+b(d,U,2),U+=2,g=C[Q-1]):17==P?(R=3+b(d,U,3),U+=3):18==P&&(R=11+b(d,U,7),U+=7);const u=Q+R;for(;Q<u;)C[Q]=g,Q++}}return U},r.H.V=function(o,n,s,d){let U=0,C=0;const b=d.length>>>1;for(;C<s;){const D=o[C+n];d[C<<1]=0,d[1+(C<<1)]=D,D>U&&(U=D),C++}for(;C<b;)d[C<<1]=0,d[1+(C<<1)]=0,C++;return U},r.H.n=function(o,n){const s=r.H.m,d=o.length;let U,C,b,D;const Q=s.j;for(var I=0;I<=n;I++)Q[I]=0;for(I=1;I<d;I+=2)Q[o[I]]++;const P=s.K;for(U=0,Q[0]=0,C=1;C<=n;C++)U=U+Q[C-1]<<1,P[C]=U;for(b=0;b<d;b+=2)D=o[b+1],0!=D&&(o[b]=P[D],P[D]++)},r.H.A=function(o,n,s){const d=o.length,U=r.H.m.r;for(let C=0;C<d;C+=2)if(0!=o[C+1]){const D=o[C+1],Q=C>>1<<4|D,I=n-D;let P=o[C]<<I;const g=P+(1<<I);for(;P!=g;)s[U[P]>>>15-n]=Q,P++}},r.H.l=function(o,n){const s=r.H.m.r,d=15-n;for(let U=0;U<o.length;U+=2)o[U]=s[o[U]<<n-o[U+1]]>>>d},r.H.M=function(o,n,s){const d=n>>>3;o[d]|=s<<=7&n,o[d+1]|=s>>>8},r.H.I=function(o,n,s){const d=n>>>3;o[d]|=s<<=7&n,o[d+1]|=s>>>8,o[d+2]|=s>>>16},r.H.e=function(o,n,s){return(o[n>>>3]|o[1+(n>>>3)]<<8)>>>(7&n)&(1<<s)-1},r.H.b=function(o,n,s){return(o[n>>>3]|o[1+(n>>>3)]<<8|o[2+(n>>>3)]<<16)>>>(7&n)&(1<<s)-1},r.H.Z=function(o,n){return(o[n>>>3]|o[1+(n>>>3)]<<8|o[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(o,n){return(o[n>>>3]|o[1+(n>>>3)]<<8|o[2+(n>>>3)]<<16|o[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const o=Uint16Array,n=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=r.H.m;for(var n=0;n<32768;n++){let d=n;d=(2863311530&d)>>>1|(1431655765&d)<<1,d=(3435973836&d)>>>2|(858993459&d)<<2,d=(4042322160&d)>>>4|(252645135&d)<<4,d=(4278255360&d)>>>8|(16711935&d)<<8,o.r[n]=(d>>>16|d<<16)>>>17}function s(d,U,C){for(;0!=U--;)d.push(0,C)}for(n=0;n<32;n++)o.q[n]=o.S[n]<<3|o.T[n],o.c[n]=o.p[n]<<4|o.z[n];s(o._,144,8),s(o._,112,9),s(o._,24,7),s(o._,8,8),r.H.n(o._,9),r.H.A(o._,9,o.J),r.H.l(o._,9),s(o.$,32,5),r.H.n(o.$,5),r.H.A(o.$,5,o.h),r.H.l(o.$,5),s(o.Q,19,0),s(o.C,286,0),s(o.D,30,0),s(o.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function f(r,o,n,s,d){let U=t(o);const C=Math.ceil(s*U/8);let b,D;U=Math.ceil(U/8);let Q=r[n],I=0;if(Q>1&&(r[n]=[0,0,1][Q-2]),3==Q)for(I=U;I<C;I++)r[I+1]=r[I+1]+(r[I+1-U]>>>1)&255;for(let P=0;P<d;P++)if(b=n+P*C,D=b+P+1,Q=r[D-1],I=0,0==Q)for(;I<C;I++)r[b+I]=r[D+I];else if(1==Q){for(;I<U;I++)r[b+I]=r[D+I];for(;I<C;I++)r[b+I]=r[D+I]+r[b+I-U]}else if(2==Q)for(;I<C;I++)r[b+I]=r[D+I]+r[b+I-C];else if(3==Q){for(;I<U;I++)r[b+I]=r[D+I]+(r[b+I-C]>>>1);for(;I<C;I++)r[b+I]=r[D+I]+(r[b+I-C]+r[b+I-U]>>>1)}else{for(;I<U;I++)r[b+I]=r[D+I]+a(0,r[b+I-C],0);for(;I<C;I++)r[b+I]=r[D+I]+a(r[b+I-U],r[b+I-C],r[b+I-U-C])}return r}function a(r,o,n){const s=r+o-n,d=s-r,U=s-o,C=s-n;return d*d<=U*U&&d*d<=C*C?r:U*U<=C*C?o:n}function A(r,o,n){n.width=T.readUint(r,o),n.height=T.readUint(r,o+=4),n.depth=r[o+=4],o++,n.ctype=r[o],o++,n.compress=r[o],o++,n.filter=r[o],o++,n.interlace=r[o],o++}function m(r,o,n,s,d,U,C,b,D){const Q=Math.min(o,d),I=Math.min(n,U);let P=0,g=0;for(let F=0;F<I;F++)for(let h=0;h<Q;h++)if(C>=0&&b>=0?(P=F*o+h<<2,g=(b+F)*d+C+h<<2):(P=(-b+F)*o-C+h<<2,g=F*d+h<<2),0==D)s[g]=r[P],s[g+1]=r[P+1],s[g+2]=r[P+2],s[g+3]=r[P+3];else if(1==D){var R=.00392156862745098*r[P+3],u=r[P]*R,l=r[P+1]*R,v=r[P+2]*R,y=s[g+3]*(1/255),w=s[g]*y,E=s[g+1]*y,p=s[g+2]*y;const i=1-R,S=R+y*i,_=0==S?0:1/S;s[g+3]=255*S,s[g+0]=(u+w*i)*_,s[g+1]=(l+E*i)*_,s[g+2]=(v+p*i)*_}else if(2==D)u=r[P],l=r[P+1],v=r[P+2],w=s[g],E=s[g+1],p=s[g+2],(R=r[P+3])==(y=s[g+3])&&u==w&&l==E&&v==p?(s[g]=0,s[g+1]=0,s[g+2]=0,s[g+3]=0):(s[g]=u,s[g+1]=l,s[g+2]=v,s[g+3]=R);else if(3==D){if(u=r[P],l=r[P+1],v=r[P+2],w=s[g],E=s[g+1],p=s[g+2],(R=r[P+3])==(y=s[g+3])&&u==w&&l==E&&v==p)continue;if(R<220&&y>20)return!1}return!0}return{decode:function(o){const n=new Uint8Array(o);let s=8;const d=T,U=d.readUshort,C=d.readUint,b={tabs:{},frames:[]},D=new Uint8Array(n.length);let Q,I=0,P=0;const g=[137,80,78,71,13,10,26,10];for(var R=0;R<8;R++)if(n[R]!=g[R])throw"The input is not a PNG file!";for(;s<n.length;){const F=d.readUint(n,s);s+=4;const h=d.readASCII(n,s,4);if(s+=4,"IHDR"==h)A(n,s,b);else if("iCCP"==h){for(var u=s;0!=n[u];)u++;d.readASCII(n,s,u-s);const i=n.slice(u+2,s+F);let S=null;try{S=c(i)}catch{S=e(i)}b.tabs[h]=S}else if("CgBI"==h)b.tabs[h]=n.slice(s,s+4);else if("IDAT"==h){for(R=0;R<F;R++)D[I+R]=n[s+R];I+=F}else if("acTL"==h)b.tabs[h]={num_frames:C(n,s),num_plays:C(n,s+4)},Q=new Uint8Array(n.length);else if("fcTL"==h){0!=P&&((p=b.frames[b.frames.length-1]).data=k(b,Q.slice(0,P),p.rect.width,p.rect.height),P=0);const i={x:C(n,s+12),y:C(n,s+16),width:C(n,s+4),height:C(n,s+8)};let S=U(n,s+22);S=U(n,s+20)/(0==S?100:S);const _={rect:i,delay:Math.round(1e3*S),dispose:n[s+24],blend:n[s+25]};b.frames.push(_)}else if("fdAT"==h){for(R=0;R<F-4;R++)Q[P+R]=n[s+R+4];P+=F-4}else if("pHYs"==h)b.tabs[h]=[d.readUint(n,s),d.readUint(n,s+4),n[s+8]];else if("cHRM"==h)for(b.tabs[h]=[],R=0;R<8;R++)b.tabs[h].push(d.readUint(n,s+4*R));else if("tEXt"==h||"zTXt"==h){null==b.tabs[h]&&(b.tabs[h]={});var l=d.nextZero(n,s),v=d.readASCII(n,s,l-s),y=s+F-l-1;if("tEXt"==h)E=d.readASCII(n,l+1,y);else{var w=c(n.slice(l+2,l+2+y));E=d.readUTF8(w,0,w.length)}b.tabs[h][v]=E}else if("iTXt"==h){null==b.tabs[h]&&(b.tabs[h]={}),l=0,l=d.nextZero(n,u=s),v=d.readASCII(n,u,l-u);const i=n[u=l+1];var E;l=d.nextZero(n,u+=2),d.readASCII(n,u,l-u),l=d.nextZero(n,u=l+1),d.readUTF8(n,u,l-u),y=F-((u=l+1)-s),0==i?E=d.readUTF8(n,u,y):(w=c(n.slice(u,u+y)),E=d.readUTF8(w,0,w.length)),b.tabs[h][v]=E}else if("PLTE"==h)b.tabs[h]=d.readBytes(n,s,F);else if("hIST"==h){const i=b.tabs.PLTE.length/3;for(b.tabs[h]=[],R=0;R<i;R++)b.tabs[h].push(U(n,s+2*R))}else if("tRNS"==h)3==b.ctype?b.tabs[h]=d.readBytes(n,s,F):0==b.ctype?b.tabs[h]=U(n,s):2==b.ctype&&(b.tabs[h]=[U(n,s),U(n,s+2),U(n,s+4)]);else if("gAMA"==h)b.tabs[h]=d.readUint(n,s)/1e5;else if("sRGB"==h)b.tabs[h]=n[s];else if("bKGD"==h)0==b.ctype||4==b.ctype?b.tabs[h]=[U(n,s)]:2==b.ctype||6==b.ctype?b.tabs[h]=[U(n,s),U(n,s+2),U(n,s+4)]:3==b.ctype&&(b.tabs[h]=n[s]);else if("IEND"==h)break;s+=F,d.readUint(n,s),s+=4}var p;return 0!=P&&((p=b.frames[b.frames.length-1]).data=k(b,Q.slice(0,P),p.rect.width,p.rect.height)),b.data=k(b,D,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(o){const n=o.width,s=o.height;if(null==o.tabs.acTL)return[M(o.data,n,s,o).buffer];const d=[];null==o.frames[0].data&&(o.frames[0].data=o.data);const U=n*s*4,C=new Uint8Array(U),b=new Uint8Array(U),D=new Uint8Array(U);for(let I=0;I<o.frames.length;I++){const P=o.frames[I],g=P.rect.x,R=P.rect.y,u=P.rect.width,l=P.rect.height,v=M(P.data,u,l,o);if(0!=I)for(var Q=0;Q<U;Q++)D[Q]=C[Q];if(0==P.blend?m(v,u,l,C,n,s,g,R,0):1==P.blend&&m(v,u,l,C,n,s,g,R,1),d.push(C.buffer.slice(0)),0!=P.dispose)if(1==P.dispose)m(b,u,l,C,n,s,g,R,0);else if(2==P.dispose)for(Q=0;Q<U;Q++)C[Q]=D[Q]}return d},_paeth:a,_copyTile:m,_bin:T}}();!function(){const{_copyTile:T}=he,{_bin:M}=he,k=he._paeth;var c={table:function(){const u=new Uint32Array(256);for(let l=0;l<256;l++){let v=l;for(let y=0;y<8;y++)1&v?v=3988292384^v>>>1:v>>>=1;u[l]=v}return u}(),update(u,l,v,y){for(let w=0;w<y;w++)u=c.table[255&(u^l[v+w])]^u>>>8;return u},crc:(u,l,v)=>4294967295^c.update(4294967295,u,l,v)};function e(u,l,v,y){l[v]+=u[0]*y>>4,l[v+1]+=u[1]*y>>4,l[v+2]+=u[2]*y>>4,l[v+3]+=u[3]*y>>4}function t(u){return Math.max(0,Math.min(255,u))}function f(u,l){const v=u[0]-l[0],y=u[1]-l[1],w=u[2]-l[2],E=u[3]-l[3];return v*v+y*y+w*w+E*E}function a(u,l,v,y,w,E,p){null==p&&(p=1);const F=y.length,h=[];for(var i=0;i<F;i++){const B=y[i];h.push([B>>>0&255,B>>>8&255,B>>>16&255,B>>>24&255])}for(i=0;i<F;i++){let B=4294967295;for(var S=0,_=0;_<F;_++){var x=f(h[i],h[_]);_!=i&&x<B&&(B=x,S=_)}}const z=new Uint32Array(w.buffer),L=new Int16Array(l*v*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(i=0;i<H.length;i++)H[i]=255*((H[i]+.5)/16-.5);for(let B=0;B<v;B++)for(let N=0;N<l;N++){var O;i=4*(B*l+N),O=2!=p?[t(u[i]+L[i]),t(u[i+1]+L[i+1]),t(u[i+2]+L[i+2]),t(u[i+3]+L[i+3])]:[t(u[i]+(x=H[4*(3&B)+(3&N)])),t(u[i+1]+x),t(u[i+2]+x),t(u[i+3]+x)],S=0;let Z=16777215;for(_=0;_<F;_++){const K=f(O,h[_]);K<Z&&(Z=K,S=_)}const j=h[S],W=[O[0]-j[0],O[1]-j[1],O[2]-j[2],O[3]-j[3]];1==p&&(N!=l-1&&e(W,L,i+4,7),B!=v-1&&(0!=N&&e(W,L,i+4*l-4,3),e(W,L,i+4*l,5),N!=l-1&&e(W,L,i+4*l+4,1))),E[i>>2]=S,z[i>>2]=y[S]}}function A(u,l,v,y,w){null==w&&(w={});const{crc:E}=c,p=M.writeUint,F=M.writeUshort,h=M.writeASCII;let i=8;const S=u.frames.length>1;let _,x=!1,z=33+(S?20:0);if(null!=w.sRGB&&(z+=13),null!=w.pHYs&&(z+=21),null!=w.iCCP&&(_=pako.deflate(w.iCCP),z+=21+_.length+4),3==u.ctype){for(var L=u.plte.length,H=0;H<L;H++)u.plte[H]>>>24!=255&&(x=!0);z+=8+3*L+4+(x?8+1*L+4:0)}for(var O=0;O<u.frames.length;O++)S&&(z+=38),z+=(j=u.frames[O]).cimg.length+12,0!=O&&(z+=4);z+=12;const B=new Uint8Array(z),N=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)B[H]=N[H];if(p(B,i,13),i+=4,h(B,i,"IHDR"),i+=4,p(B,i,l),i+=4,p(B,i,v),i+=4,B[i]=u.depth,i++,B[i]=u.ctype,i++,B[i]=0,i++,B[i]=0,i++,B[i]=0,i++,p(B,i,E(B,i-17,17)),i+=4,null!=w.sRGB&&(p(B,i,1),i+=4,h(B,i,"sRGB"),i+=4,B[i]=w.sRGB,i++,p(B,i,E(B,i-5,5)),i+=4),null!=w.iCCP){const W=13+_.length;p(B,i,W),i+=4,h(B,i,"iCCP"),i+=4,h(B,i,"ICC profile"),i+=11,i+=2,B.set(_,i),i+=_.length,p(B,i,E(B,i-(W+4),W+4)),i+=4}if(null!=w.pHYs&&(p(B,i,9),i+=4,h(B,i,"pHYs"),i+=4,p(B,i,w.pHYs[0]),i+=4,p(B,i,w.pHYs[1]),i+=4,B[i]=w.pHYs[2],i++,p(B,i,E(B,i-13,13)),i+=4),S&&(p(B,i,8),i+=4,h(B,i,"acTL"),i+=4,p(B,i,u.frames.length),i+=4,p(B,i,null!=w.loop?w.loop:0),i+=4,p(B,i,E(B,i-12,12)),i+=4),3==u.ctype){for(p(B,i,3*(L=u.plte.length)),i+=4,h(B,i,"PLTE"),i+=4,H=0;H<L;H++){const W=3*H,K=u.plte[H],te=K>>>8&255,Ie=K>>>16&255;B[i+W+0]=255&K,B[i+W+1]=te,B[i+W+2]=Ie}if(i+=3*L,p(B,i,E(B,i-3*L-4,3*L+4)),i+=4,x){for(p(B,i,L),i+=4,h(B,i,"tRNS"),i+=4,H=0;H<L;H++)B[i+H]=u.plte[H]>>>24&255;i+=L,p(B,i,E(B,i-L-4,L+4)),i+=4}}let Z=0;for(O=0;O<u.frames.length;O++){var j=u.frames[O];S&&(p(B,i,26),i+=4,h(B,i,"fcTL"),i+=4,p(B,i,Z++),i+=4,p(B,i,j.rect.width),i+=4,p(B,i,j.rect.height),i+=4,p(B,i,j.rect.x),i+=4,p(B,i,j.rect.y),i+=4,F(B,i,y[O]),i+=2,F(B,i,1e3),i+=2,B[i]=j.dispose,i++,B[i]=j.blend,i++,p(B,i,E(B,i-30,30)),i+=4);const W=j.cimg;p(B,i,(L=W.length)+(0==O?0:4)),i+=4;const K=i;h(B,i,0==O?"IDAT":"fdAT"),i+=4,0!=O&&(p(B,i,Z++),i+=4),B.set(W,i),i+=L,p(B,i,E(B,K,i-K)),i+=4}return p(B,i,0),i+=4,h(B,i,"IEND"),i+=4,p(B,i,E(B,i-4,4)),i+=4,B.buffer}function m(u,l,v){for(let y=0;y<u.frames.length;y++){const w=u.frames[y],E=w.rect.height,p=new Uint8Array(E*w.bpl+E);w.cimg=s(w.img,E,w.bpp,w.bpl,p,l,v)}}function r(u,l,v,y,w){const E=w[0],p=w[1],F=w[2],h=w[3],i=w[4],S=w[5];let _=6,x=8,z=255;for(var L=0;L<u.length;L++){const oe=new Uint8Array(u[L]);for(var H=oe.length,O=0;O<H;O+=4)z&=oe[O+3]}const B=255!=z,N=function(q,G,ne,ae,J,le){const ee=[];for(var $=0;$<q.length;$++){const se=new Uint8Array(q[$]),de=new Uint32Array(se.buffer);var ce;let ue=0,be=0,ve=G,Be=ne,Je=ae?1:0;if(0!=$){const pt=le||ae||1==$||0!=ee[$-2].dispose?1:2;let et=0,lt=1e9;for(let Le=0;Le<pt;Le++){var we=new Uint8Array(q[$-1-Le]);const vt=new Uint32Array(q[$-1-Le]);let ye=G,Ee=ne,Se=-1,He=-1;for(let Me=0;Me<ne;Me++)for(let Re=0;Re<G;Re++)de[ie=Me*G+Re]!=vt[ie]&&(Re<ye&&(ye=Re),Re>Se&&(Se=Re),Me<Ee&&(Ee=Me),Me>He&&(He=Me));-1==Se&&(ye=Ee=Se=He=0),J&&(!(1&~ye)&&ye--,!(1&~Ee)&&Ee--);const ct=(Se-ye+1)*(He-Ee+1);ct<lt&&(lt=ct,et=Le,ue=ye,be=Ee,ve=Se-ye+1,Be=He-Ee+1)}we=new Uint8Array(q[$-1-et]),1==et&&(ee[$-1].dispose=2),ce=new Uint8Array(ve*Be*4),T(we,G,ne,ce,ve,Be,-ue,-be,0),Je=T(se,G,ne,ce,ve,Be,-ue,-be,3)?1:0,1==Je?n(se,G,ne,ce,{x:ue,y:be,width:ve,height:Be}):T(se,G,ne,ce,ve,Be,-ue,-be,0)}else ce=se.slice(0);ee.push({rect:{x:ue,y:be,width:ve,height:Be},img:ce,blend:Je,dispose:0})}if(ae)for($=0;$<ee.length;$++){if(1==(Ce=ee[$]).blend)continue;const se=Ce.rect,de=ee[$-1].rect,ue=Math.min(se.x,de.x),be=Math.min(se.y,de.y),ve={x:ue,y:be,width:Math.max(se.x+se.width,de.x+de.width)-ue,height:Math.max(se.y+se.height,de.y+de.height)-be};ee[$-1].dispose=1,$-1!=0&&o(q,G,ne,ee,$-1,ve,J),o(q,G,ne,ee,$,ve,J)}let qe=0;if(1!=q.length)for(var ie=0;ie<ee.length;ie++){var Ce;qe+=(Ce=ee[ie]).rect.width*Ce.rect.height}return ee}(u,l,v,E,p,F),Z={},j=[],W=[];if(0!=y){const oe=[];for(O=0;O<N.length;O++)oe.push(N[O].img.buffer);const G=U(function(J){let le=0;for(var ee=0;ee<J.length;ee++)le+=J[ee].byteLength;const $=new Uint8Array(le);let ce=0;for(ee=0;ee<J.length;ee++){const we=new Uint8Array(J[ee]),qe=we.length;for(let ie=0;ie<qe;ie+=4){let Ce=we[ie],se=we[ie+1],de=we[ie+2];const ue=we[ie+3];0==ue&&(Ce=se=de=0),$[ce+ie]=Ce,$[ce+ie+1]=se,$[ce+ie+2]=de,$[ce+ie+3]=ue}ce+=qe}return $.buffer}(oe),y);for(O=0;O<G.plte.length;O++)j.push(G.plte[O].est.rgba);let ne=0;for(O=0;O<N.length;O++){const ae=(V=N[O]).img.length;var K=new Uint8Array(G.inds.buffer,ne>>2,ae>>2);W.push(K);const J=new Uint8Array(G.abuf,ne,ae);S&&a(V.img,V.rect.width,V.rect.height,j,J,K),V.img.set(J),ne+=ae}}else for(L=0;L<N.length;L++){var V=N[L];const oe=new Uint32Array(V.img.buffer);var te=V.rect.width;for(H=oe.length,K=new Uint8Array(H),W.push(K),O=0;O<H;O++){const q=oe[O];if(0!=O&&q==oe[O-1])K[O]=K[O-1];else if(O>te&&q==oe[O-te])K[O]=K[O-te];else{let G=Z[q];if(null==G&&(Z[q]=G=j.length,j.push(q),j.length>=300))break;K[O]=G}}}const Ie=j.length;for(Ie<=256&&0==i&&(x=Ie<=2?1:Ie<=4?2:Ie<=16?4:8,x=Math.max(x,h)),L=0;L<N.length;L++){te=(V=N[L]).rect.width;const oe=V.rect.height;let q=V.img;new Uint32Array(q.buffer);let G=4*te,ne=4;if(Ie<=256&&0==i){G=Math.ceil(x*te/8);var pe=new Uint8Array(G*oe);const ae=W[L];for(let J=0;J<oe;J++){O=J*G;const le=J*te;if(8==x)for(var X=0;X<te;X++)pe[O+X]=ae[le+X];else if(4==x)for(X=0;X<te;X++)pe[O+(X>>1)]|=ae[le+X]<<4-4*(1&X);else if(2==x)for(X=0;X<te;X++)pe[O+(X>>2)]|=ae[le+X]<<6-2*(3&X);else if(1==x)for(X=0;X<te;X++)pe[O+(X>>3)]|=ae[le+X]<<7-1*(7&X)}q=pe,_=3,ne=1}else if(0==B&&1==N.length){pe=new Uint8Array(te*oe*3);const ae=te*oe;for(O=0;O<ae;O++){const J=3*O,le=4*O;pe[J]=q[le],pe[J+1]=q[le+1],pe[J+2]=q[le+2]}q=pe,_=2,ne=3,G=3*te}V.img=q,V.bpl=G,V.bpp=ne}return{ctype:_,depth:x,plte:j,frames:N}}function o(u,l,v,y,w,E,p){const F=Uint8Array,h=Uint32Array,i=new F(u[w-1]),S=new h(u[w-1]),_=w+1<u.length?new F(u[w+1]):null,x=new F(u[w]),z=new h(x.buffer);let L=l,H=v,O=-1,B=-1;for(let Z=0;Z<E.height;Z++)for(let j=0;j<E.width;j++){const W=E.x+j,K=E.y+Z,V=K*l+W,te=z[V];0==te||0==y[w-1].dispose&&S[V]==te&&(null==_||0!=_[4*V+3])||(W<L&&(L=W),W>O&&(O=W),K<H&&(H=K),K>B&&(B=K))}-1==O&&(L=H=O=B=0),p&&(!(1&~L)&&L--,!(1&~H)&&H--);const N=y[w];N.rect=E={x:L,y:H,width:O-L+1,height:B-H+1},N.blend=1,N.img=new Uint8Array(E.width*E.height*4),0==y[w-1].dispose?(T(i,l,v,N.img,E.width,E.height,-E.x,-E.y,0),n(x,l,v,N.img,E)):T(x,l,v,N.img,E.width,E.height,-E.x,-E.y,0)}function n(u,l,v,y,w){T(u,l,v,y,w.width,w.height,-w.x,-w.y,2)}function s(u,l,v,y,w,E,p){const F=[];let h,i=[0,1,2,3,4];-1!=E?i=[E]:(l*y>5e5||1==v)&&(i=[0]),p&&(h={level:0});const S=Ue;for(var _=0;_<i.length;_++){for(let L=0;L<l;L++)d(w,u,L,y,v,i[_]);F.push(S.deflate(w,h))}let x,z=1e9;for(_=0;_<F.length;_++)F[_].length<z&&(x=_,z=F[_].length);return F[x]}function d(u,l,v,y,w,E){const p=v*y;let F=p+v;if(u[F]=E,F++,0==E)if(y<500)for(var h=0;h<y;h++)u[F+h]=l[p+h];else u.set(new Uint8Array(l.buffer,p,y),F);else if(1==E){for(h=0;h<w;h++)u[F+h]=l[p+h];for(h=w;h<y;h++)u[F+h]=l[p+h]-l[p+h-w]+256&255}else if(0==v){for(h=0;h<w;h++)u[F+h]=l[p+h];if(2==E)for(h=w;h<y;h++)u[F+h]=l[p+h];if(3==E)for(h=w;h<y;h++)u[F+h]=l[p+h]-(l[p+h-w]>>1)+256&255;if(4==E)for(h=w;h<y;h++)u[F+h]=l[p+h]-k(l[p+h-w],0,0)+256&255}else{if(2==E)for(h=0;h<y;h++)u[F+h]=l[p+h]+256-l[p+h-y]&255;if(3==E){for(h=0;h<w;h++)u[F+h]=l[p+h]+256-(l[p+h-y]>>1)&255;for(h=w;h<y;h++)u[F+h]=l[p+h]+256-(l[p+h-y]+l[p+h-w]>>1)&255}if(4==E){for(h=0;h<w;h++)u[F+h]=l[p+h]+256-k(0,l[p+h-y],0)&255;for(h=w;h<y;h++)u[F+h]=l[p+h]+256-k(l[p+h-w],l[p+h-y],l[p+h-w-y])&255}}}function U(u,l){const v=new Uint8Array(u),y=v.slice(0),w=new Uint32Array(y.buffer),E=C(y,l),p=E[0],F=E[1],h=v.length,i=new Uint8Array(h>>2);let S;if(v.length<2e7)for(var _=0;_<h;_+=4)S=b(p,x=v[_]*(1/255),z=v[_+1]*(1/255),L=v[_+2]*(1/255),H=v[_+3]*(1/255)),i[_>>2]=S.ind,w[_>>2]=S.est.rgba;else for(_=0;_<h;_+=4){var x=.00392156862745098*v[_],z=v[_+1]*(1/255),L=v[_+2]*(1/255),H=v[_+3]*(1/255);for(S=p;S.left;)S=D(S.est,x,z,L,H)<=0?S.left:S.right;i[_>>2]=S.ind,w[_>>2]=S.est.rgba}return{abuf:y.buffer,inds:i,plte:F}}function C(u,l,v){null==v&&(v=1e-4);const y=new Uint32Array(u.buffer),w={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=P(u,w.i0,w.i1),w.est=g(w.bst);const E=[w];for(;E.length<l;){let F=0,h=0;for(var p=0;p<E.length;p++)E[p].est.L>F&&(F=E[p].est.L,h=p);if(F<v)break;const i=E[h],S=Q(u,y,i.i0,i.i1,i.est.e,i.est.eMq255);if(i.i0>=S||i.i1<=S){i.est.L=0;continue}const _={i0:i.i0,i1:S,bst:null,est:null,tdst:0,left:null,right:null};_.bst=P(u,_.i0,_.i1),_.est=g(_.bst);const x={i0:S,i1:i.i1,bst:null,est:null,tdst:0,left:null,right:null};for(x.bst={R:[],m:[],N:i.bst.N-_.bst.N},p=0;p<16;p++)x.bst.R[p]=i.bst.R[p]-_.bst.R[p];for(p=0;p<4;p++)x.bst.m[p]=i.bst.m[p]-_.bst.m[p];x.est=g(x.bst),i.left=_,i.right=x,E[h]=_,E.push(x)}for(E.sort((F,h)=>h.bst.N-F.bst.N),p=0;p<E.length;p++)E[p].ind=p;return[w,E]}function b(u,l,v,y,w){if(null==u.left)return u.tdst=function(_,x,z,L,H){const O=x-_[0],B=z-_[1],N=L-_[2],Z=H-_[3];return O*O+B*B+N*N+Z*Z}(u.est.q,l,v,y,w),u;const E=D(u.est,l,v,y,w);let p=u.left,F=u.right;E>0&&(p=u.right,F=u.left);const h=b(p,l,v,y,w);if(h.tdst<=E*E)return h;const i=b(F,l,v,y,w);return i.tdst<h.tdst?i:h}function D(u,l,v,y,w){const{e:E}=u;return E[0]*l+E[1]*v+E[2]*y+E[3]*w-u.eMq}function Q(u,l,v,y,w,E){for(y-=4;v<y;){for(;I(u,v,w)<=E;)v+=4;for(;I(u,y,w)>E;)y-=4;if(v>=y)break;const p=l[v>>2];l[v>>2]=l[y>>2],l[y>>2]=p,v+=4,y-=4}for(;I(u,v,w)>E;)v-=4;return v+4}function I(u,l,v){return u[l]*v[0]+u[l+1]*v[1]+u[l+2]*v[2]+u[l+3]*v[3]}function P(u,l,v){const y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],E=v-l>>2;for(let p=l;p<v;p+=4){const F=.00392156862745098*u[p],h=u[p+1]*(1/255),i=u[p+2]*(1/255),S=u[p+3]*(1/255);w[0]+=F,w[1]+=h,w[2]+=i,w[3]+=S,y[0]+=F*F,y[1]+=F*h,y[2]+=F*i,y[3]+=F*S,y[5]+=h*h,y[6]+=h*i,y[7]+=h*S,y[10]+=i*i,y[11]+=i*S,y[15]+=S*S}return y[4]=y[1],y[8]=y[2],y[9]=y[6],y[12]=y[3],y[13]=y[7],y[14]=y[11],{R:y,m:w,N:E}}function g(u){const{R:l}=u,{m:v}=u,{N:y}=u,w=v[0],E=v[1],p=v[2],F=v[3],h=0==y?0:1/y,i=[l[0]-w*w*h,l[1]-w*E*h,l[2]-w*p*h,l[3]-w*F*h,l[4]-E*w*h,l[5]-E*E*h,l[6]-E*p*h,l[7]-E*F*h,l[8]-p*w*h,l[9]-p*E*h,l[10]-p*p*h,l[11]-p*F*h,l[12]-F*w*h,l[13]-F*E*h,l[14]-F*p*h,l[15]-F*F*h],S=i,_=R;let x=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,L=0;if(0!=y)for(let O=0;O<16&&(x=_.multVec(S,x),L=Math.sqrt(_.dot(x,x)),x=_.sml(1/L,x),!(0!=O&&Math.abs(L-z)<1e-9));O++)z=L;const H=[w*h,E*h,p*h,F*h];return{Cov:i,q:H,e:x,L:z,eMq255:_.dot(_.sml(255,H),x),eMq:_.dot(x,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0]))>>>0}}var R={multVec:(u,l)=>[u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3],u[4]*l[0]+u[5]*l[1]+u[6]*l[2]+u[7]*l[3],u[8]*l[0]+u[9]*l[1]+u[10]*l[2]+u[11]*l[3],u[12]*l[0]+u[13]*l[1]+u[14]*l[2]+u[15]*l[3]],dot:(u,l)=>u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3],sml:(u,l)=>[u*l[0],u*l[1],u*l[2],u*l[3]]};he.encode=function(l,v,y,w,E,p,F){null==w&&(w=0),null==F&&(F=!1);const h=r(l,v,y,w,[!1,!1,!1,0,F,!1]);return m(h,-1),A(h,v,y,E,p)},he.encodeLL=function(l,v,y,w,E,p,F,h){const i={ctype:0+(1==w?0:2)+(0==E?0:4),depth:p,frames:[]},S=(w+E)*p,_=S*v;for(let x=0;x<l.length;x++)i.frames.push({rect:{x:0,y:0,width:v,height:y},img:new Uint8Array(l[x]),blend:0,dispose:1,bpp:Math.ceil(S/8),bpl:Math.ceil(_/8)});return m(i,0,!0),A(i,v,y,F,h)},he.encode.compress=r,he.encode.dither=a,he.quantize=U,he.quantize.getKDtree=C,he.quantize.getNearest=b}();const fe={toArrayBuffer(T,M){const k=T.width,c=T.height,e=k<<2,t=T.getContext("2d").getImageData(0,0,k,c),f=new Uint32Array(t.data.buffer),a=(32*k+31)/32<<2,A=a*c,m=122+A,r=new ArrayBuffer(m),o=new DataView(r),n=1<<20;let s,d,U,C,b=n,D=0,Q=0,I=0;function P(u){o.setUint16(Q,u,!0),Q+=2}function g(u){o.setUint32(Q,u,!0),Q+=4}function R(u){Q+=u}P(19778),g(m),R(4),g(122),g(108),g(k),g(-c>>>0),P(1),P(32),g(3),g(A),g(2835),g(2835),R(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),function u(){for(;D<c&&b>0;){for(C=122+D*a,s=0;s<e;)b--,d=f[I++],U=d>>>24,o.setUint32(C+s,d<<8|U),s+=4;D++}I<f.length?(b=n,setTimeout(u,fe._dly)):M(r)}()},toBlob(T,M){this.toArrayBuffer(T,k=>{M(new Blob([k],{type:"image/bmp"}))})},_dly:9};var Y={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},We={[Y.CHROME]:16384,[Y.FIREFOX]:11180,[Y.DESKTOP_SAFARI]:16384,[Y.IE]:8192,[Y.IOS]:4096,[Y.ETC]:8192};const Ae=typeof window<"u",De=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,_e=Ae&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),je=(Ae||De)&&(_e&&_e.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Oe=(Ae||De)&&(_e&&_e.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ke(T,M,k=Date.now()){return new Promise(c=>{const e=T.split(","),t=e[0].match(/:(.*?);/)[1],f=globalThis.atob(e[1]);let a=f.length;const A=new Uint8Array(a);for(;a--;)A[a]=f.charCodeAt(a);const m=new Blob([A],{type:t});m.name=M,m.lastModified=k,c(m)})}function tt(T){return new Promise((M,k)=>{const c=new Oe;c.onload=()=>M(c.result),c.onerror=e=>k(e),c.readAsDataURL(T)})}function rt(T){return new Promise((M,k)=>{const c=new Image;c.onload=()=>M(c),c.onerror=e=>k(e),c.src=T})}function Fe(){if(void 0!==Fe.cachedResult)return Fe.cachedResult;let T=Y.ETC;const{userAgent:M}=navigator;return/Chrom(e|ium)/i.test(M)?T=Y.CHROME:/iP(ad|od|hone)/i.test(M)&&/WebKit/i.test(M)?T=Y.IOS:/Safari/i.test(M)?T=Y.DESKTOP_SAFARI:/Firefox/i.test(M)?T=Y.FIREFOX:(/MSIE/i.test(M)||document.documentMode)&&(T=Y.IE),Fe.cachedResult=T}function nt(T,M){const k=Fe(),c=We[k];let e=T,t=M,f=e*t;const a=e>t?t/e:e/t;for(;f>c*c;){const A=(c+e)/2,m=(c+t)/2;A<m?(t=m,e=m*a):(t=A*a,e=A),f=e*t}return{width:e,height:t}}function Ke(T,M){let k,c;try{if(k=new OffscreenCanvas(T,M),c=k.getContext("2d"),null===c)throw new Error("getContext of OffscreenCanvas returns null")}catch{k=document.createElement("canvas"),c=k.getContext("2d")}return k.width=T,k.height=M,[k,c]}function ot(T,M){const{width:k,height:c}=nt(T.width,T.height),[e,t]=Ke(k,c);return M&&/jpe?g/.test(M)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(T,0,0,e.width,e.height),e}function Ge(){return void 0!==Ge.cachedResult||(Ge.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ge.cachedResult}function $e(T,M={}){return new Promise(function(k,c){let e,t;var f=function(){try{return t=ot(e,M.fileType||T.type),k([e,t])}catch(A){return c(A)}},a=function(A){try{var m=function(r){try{throw r}catch(o){return c(o)}};try{let r;return tt(T).then(function(o){try{return r=o,rt(r).then(function(n){try{return e=n,function(){try{return f()}catch(s){return c(s)}}()}catch(s){return m(s)}},m)}catch(n){return m(n)}},m)}catch(r){m(r)}}catch(r){return c(r)}};try{if(Ge()||[Y.DESKTOP_SAFARI,Y.MOBILE_SAFARI].includes(Fe()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(T).then(function(A){try{return e=A,f()}catch{return a()}},a)}catch{a()}})}function Ze(T,M,k,c,e=1){return new Promise(function(t,f){let a;if("image/png"===M){let m,r,o;return m=T.getContext("2d"),({data:r}=m.getImageData(0,0,T.width,T.height)),o=he.encode([r.buffer],T.width,T.height,4096*e),a=new Blob([o],{type:M}),a.name=k,a.lastModified=c,A.call(this)}{let m=function(){return A.call(this)};if("image/bmp"===M)return new Promise(r=>fe.toBlob(T,r)).then(function(r){try{return a=r,a.name=k,a.lastModified=c,m.call(this)}catch(o){return f(o)}}.bind(this),f);{let r=function(){return m.call(this)};if("function"==typeof OffscreenCanvas&&T instanceof OffscreenCanvas)return T.convertToBlob({type:M,quality:e}).then(function(o){try{return a=o,a.name=k,a.lastModified=c,r.call(this)}catch(n){return f(n)}}.bind(this),f);{let o;return o=T.toDataURL(M,e),ke(o,k,c).then(function(n){try{return a=n,r.call(this)}catch(s){return f(s)}}.bind(this),f)}}}function A(){return t(a)}})}function ge(T){T.width=0,T.height=0}function Qe(){return new Promise(function(T,M){let k,c,e,t,f;return void 0!==Qe.cachedResult?T(Qe.cachedResult):(k="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",ke("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return c=a,$e(c).then(function(A){try{return e=A[1],Ze(e,c.type,c.name,c.lastModified).then(function(m){try{return t=m,ge(e),$e(t).then(function(r){try{return f=r[0],T(Qe.cachedResult=1===f.width&&2===f.height)}catch(o){return M(o)}},M)}catch(r){return M(r)}},M)}catch(m){return M(m)}},M)}catch(A){return M(A)}},M))})}function it(T){return new Promise((M,k)=>{const c=new Oe;c.onload=e=>{const t=new DataView(e.target.result);if(65496!=t.getUint16(0,!1))return M(-2);const f=t.byteLength;let a=2;for(;a<f;){if(t.getUint16(a+2,!1)<=8)return M(-1);const A=t.getUint16(a,!1);if(a+=2,65505==A){if(1165519206!=t.getUint32(a+=2,!1))return M(-1);const m=18761==t.getUint16(a+=6,!1);a+=t.getUint32(a+4,m);const r=t.getUint16(a,m);a+=2;for(let o=0;o<r;o++)if(274==t.getUint16(a+12*o,m))return M(t.getUint16(a+12*o+8,m))}else{if(65280&~A)break;a+=t.getUint16(a,!1)}}return M(-1)},c.onerror=e=>k(e),c.readAsArrayBuffer(T)})}function at(T,M){const{width:k}=T,{height:c}=T,{maxWidthOrHeight:e}=M;let t,f=T;return isFinite(e)&&(k>e||c>e)&&([f,t]=Ke(k,c),k>c?(f.width=e,f.height=c/k*e):(f.width=k/c*e,f.height=e),t.drawImage(T,0,0,f.width,f.height),ge(T)),f}function st(T,M){const{width:k}=T,{height:c}=T,[e,t]=Ke(k,c);switch(M>4&&M<9?(e.width=c,e.height=k):(e.width=k,e.height=c),M){case 2:t.transform(-1,0,0,1,k,0);break;case 3:t.transform(-1,0,0,-1,k,c);break;case 4:t.transform(1,0,0,-1,0,c);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,c,0);break;case 7:t.transform(0,-1,-1,0,c,k);break;case 8:t.transform(0,-1,1,0,0,k)}return t.drawImage(T,0,0,k,c),ge(T),e}function ft(T,M,k=0){return new Promise(function(c,e){let t,f,a,A,m,r,o,n,s,d,U,C,b,D,Q,I,P,g,R,u;function l(y=5){if(M.signal&&M.signal.aborted)throw M.signal.reason;t+=y,M.onProgress(Math.min(t,100))}function v(y){if(M.signal&&M.signal.aborted)throw M.signal.reason;t=Math.min(Math.max(y,t),100),M.onProgress(t)}return t=k,f=M.maxIteration||10,a=1024*M.maxSizeMB*1024,l(),$e(T,M).then(function(y){try{return[,A]=y,l(),m=at(A,M),l(),new Promise(function(w,E){var p;if(!(p=M.exifOrientation))return it(T).then(function(h){try{return p=h,F.call(this)}catch(i){return E(i)}}.bind(this),E);function F(){return w(p)}return F.call(this)}).then(function(w){try{return r=w,l(),Qe().then(function(E){try{return o=E?m:st(m,r),l(),n=M.initialQuality||1,s=M.fileType||T.type,Ze(o,s,T.name,T.lastModified,n).then(function(p){try{{let h=function(){if(f--&&(Q>a||Q>b)){let S,_;return S=u?.95*R.width:R.width,_=u?.95*R.height:R.height,[P,g]=Ke(S,_),g.drawImage(R,0,0,S,_),n*="image/png"===s?.85:.95,Ze(P,s,T.name,T.lastModified,n).then(function(x){try{return I=x,ge(R),R=P,Q=I.size,v(Math.min(99,Math.floor((D-Q)/(D-a)*100))),h}catch(z){return e(z)}},e)}return[1]},i=function(){return ge(R),ge(P),ge(m),ge(o),ge(A),v(100),c(I)};return d=p,l(),U=d.size>a,C=d.size>T.size,U||C?(b=T.size,D=d.size,Q=D,R=o,u=!M.alwaysKeepResolution&&U,(F=function(S){for(;S;){if(S.then)return void S.then(F,e);try{if(S.pop){if(S.length)return S.pop()?i.call(this):S;S=h}else S=S.call(this)}catch(_){return e(_)}}}.bind(this))(h)):(v(100),c(d));var F}}catch(h){return e(h)}}.bind(this),e)}catch(p){return e(p)}}.bind(this),e)}catch(E){return e(E)}}.bind(this),e)}catch(w){return e(w)}}.bind(this),e)})}let Ye;function re(T,M){return new Promise(function(k,c){let e,t,f,a,A,m;if(e={...M},f=0,({onProgress:a}=e),e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,A="boolean"!=typeof e.useWebWorker||e.useWebWorker,delete e.useWebWorker,e.onProgress=s=>{f=s,"function"==typeof a&&a(f)},!(T instanceof Blob||T instanceof je))return c(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(T.type))return c(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!A||"function"!=typeof Worker||m)return ft(T,e).then(function(s){try{return t=s,n.call(this)}catch(d){return c(d)}}.bind(this),c);var r=function(){try{return n.call(this)}catch(s){return c(s)}}.bind(this),o=function(s){try{return ft(T,e).then(function(d){try{return t=d,r()}catch(U){return c(U)}},c)}catch(d){return c(d)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",function dt(T,M){return new Promise((k,c)=>{Ye||(Ye=function(){const a=[];return a.push("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"),URL.createObjectURL(new Blob(a))}());const e=new Worker(Ye);e.addEventListener("message",function(f){if(M.signal&&M.signal.aborted)e.terminate();else if(void 0===f.data.progress){if(f.data.error)return c(new Error(f.data.error)),void e.terminate();k(f.data.file),e.terminate()}else M.onProgress(f.data.progress)}),e.addEventListener("error",c),M.signal&&M.signal.addEventListener("abort",()=>{c(M.signal.reason),e.terminate()}),e.postMessage({file:T,imageCompressionLibUrl:M.libURL,options:{...M,onProgress:void 0,signal:void 0}})})}(T,e).then(function(s){try{return t=s,r()}catch{return o()}},o)}catch{o()}function n(){try{t.name=T.name,t.lastModified=T.lastModified}catch{}try{e.preserveExif&&"image/jpeg"===T.type&&(!e.fileType||e.fileType&&e.fileType===T.type)&&(t=Pe(T,t))}catch{}return k(t)}})}re.getDataUrlFromFile=tt,re.getFilefromDataUrl=ke,re.loadImage=rt,re.drawImageInCanvas=ot,re.drawFileInCanvas=$e,re.canvasToFile=Ze,re.getExifOrientation=it,re.handleMaxWidthOrHeight=at,re.followExifOrientation=st,re.cleanupCanvasMemory=ge,re.isAutoOrientationInBrowser=Qe,re.approximateBelowMaximumCanvasSizeOfBrowser=nt,re.copyExifWithoutOrientation=Pe,re.getBrowserName=Fe,re.version="2.0.2";var At=me(2615);let gt=(()=>{var T;class M{constructor(){}compressImage(c){var e=this;return(0,ze.A)(function*(t,f=1,a=1920){try{const A=e.base64ToFile(t,"image.jpg");if(!A)throw new Error("Invalid base64 image data");console.log("\u{1f5bc}\ufe0f Starting image compression:",{originalSize:A.size/1048576,targetSize:f});const r=yield re(A,{maxSizeMB:f,maxWidthOrHeight:a,useWebWorker:!0,preserveExif:!0,onProgress:o=>{console.log("Compression progress:",o)}});return console.log("\u2705 Image compression complete:",{originalSize:A.size/1048576,compressedSize:r.size/1048576}),e.blobToBase64(r)}catch(A){return console.error("\u274c Image compression failed:",A),t}}).apply(this,arguments)}compressFile(c){return(0,ze.A)(function*(e,t=1,f=1920){try{console.log("\u{1f5bc}\ufe0f Starting file compression:",{originalSize:e.size/1048576,targetSize:t});const A=yield re(e,{maxSizeMB:t,maxWidthOrHeight:f,useWebWorker:!0,preserveExif:!0});return console.log("\u2705 File compression complete:",{originalSize:e.size/1048576,compressedSize:A.size/1048576}),new File([A],e.name,{type:"image/jpeg"})}catch(a){return console.error("\u274c File compression failed:",a),e}}).apply(this,arguments)}base64ToFile(c,e){try{const t=c.split(",");if(t.length<2)throw new Error("Invalid base64 format");const f=t[0].match(/:(.*?);/);if(!f)throw new Error("Could not determine MIME type");const a=f[1],A=atob(t[1]);let m=A.length;const r=new Uint8Array(m);for(;m--;)r[m]=A.charCodeAt(m);return new File([r],e,{type:a})}catch(t){return console.error("Error converting base64 to file:",t),null}}blobToBase64(c){return new Promise((e,t)=>{const f=new FileReader;f.onload=()=>e(f.result),f.onerror=t,f.readAsDataURL(c)})}getBase64FileSize(c){const e=c.split(",")[1]||c;return Math.round(.75*e.length)}getCompressionPercentage(c,e){return 0===c?0:Math.round((c-e)/c*100)}static#e=T=()=>(this.\u0275fac=function(e){return new(e||M)},this.\u0275prov=At.jDH({token:M,factory:M.\u0275fac,providedIn:"root"}))}return T(),M})()}}]);